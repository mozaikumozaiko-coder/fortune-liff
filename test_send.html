<!DOCTYPE html>
<html>
<head>
  <title>é€ä¿¡ãƒ†ã‚¹ãƒˆ</title>
  <meta charset="utf-8">
</head>
<body>
  <h1>Make.comé€ä¿¡ãƒ†ã‚¹ãƒˆ</h1>
  <button id="testBtn">ãƒ†ã‚¹ãƒˆé€ä¿¡</button>
  <pre id="log"></pre>
  
  <script>
    const WEBHOOK_URL = "https://hook.eu2.make.com/7ac62r32ffup0cl0d1kr9h3dpbf8dz3h";
    
    function log(msg) {
      console.log(msg);
      document.getElementById('log').textContent += msg + '\n';
    }
    
    document.getElementById('testBtn').addEventListener('click', async () => {
      log('ğŸš€ é€ä¿¡é–‹å§‹');
      
      const payload = {
        action: "final_submit",
        userId: "test123",
        profile: { name: "ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼", gender: "male", birthday: "1990-01-01" },
        answers: new Array(100).fill(4),
        tags: new Array(100).fill("E+"),
        worryText: "ãƒ†ã‚¹ãƒˆé€ä¿¡",
        "17type": "INTJ",
        typeCode: "INTJ"
      };
      
      log('ğŸ“¦ Payloadä½œæˆå®Œäº†');
      log('ğŸ“¤ fetché–‹å§‹...');
      
      try {
        const res = await fetch(WEBHOOK_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
        
        log(`âœ… fetchå®Œäº† - Status: ${res.status}`);
        
        const text = await res.text();
        log(`ğŸ“¥ ãƒ¬ã‚¹ãƒãƒ³ã‚¹: ${text}`);
        
        const data = JSON.parse(text);
        log(`âœ… JSONè§£ææˆåŠŸ`);
        
      } catch(e) {
        log(`âŒ ã‚¨ãƒ©ãƒ¼: ${e.message}`);
        log(`âŒ ã‚¹ã‚¿ãƒƒã‚¯: ${e.stack}`);
      }
    });
  </script>
</body>
</html>
