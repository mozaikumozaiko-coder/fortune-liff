<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>FortuneAIå¼ 17ã‚¿ã‚¤ãƒ—è¨ºæ–­</title>

  <style>
    :root{
      /* ===== Theme ===== */
      --bg0:#070b1a;
      --bg1:#0b1231;

      --card: rgba(255,255,255,.06);
      --line: rgba(255,255,255,.14);
      --text:#eaf0ff;

      --accent1:#7c4dff;
      --accent2:#cfa76e;
      --accent3:#43d3ff;

      --shadow: 0 18px 60px rgba(0,0,0,.38);
      --r: 18px;

      --safeBottom: env(safe-area-inset-bottom, 0px);
      --safeTop: env(safe-area-inset-top, 0px);

      /* JSã§å®Ÿæ¸¬ã—ã¦å…¥ã‚Œã‚‹ï¼ˆè³ªå•ç”»é¢ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ’²æ»…ç”¨ï¼‰ */
      --headerH: 110px;
      --bottomH: 86px;

      /* â˜…é‡è¦ï¼šã‚¹ãƒãƒ›ã§å³äºˆç´„ã™ã‚‹ã¨æ–‡å­—ãŒæ½°ã‚Œã¦ã€Œãã¡ã‚ƒãã¡ã‚ƒã€ã«ãªã‚‹ã®ã§ãƒ‡ãƒ•ã‚©0 */
      --mapReserve: 0px;

      /* â˜…ãƒŸãƒ‹ãƒãƒƒãƒ—ã®æŒã¡ä¸Šã’é‡ï¼ˆã“ã“ã‚’å¢—ã‚„ã™ã»ã©ä¸Šã«ä¸ŠãŒã‚‹ï¼‰ */
      --miniMapLift: 56px;
    }

    *{box-sizing:border-box}
    html, body{height:100%; overscroll-behavior:none; -webkit-text-size-adjust:100%;}
    body{
      margin:0;
      color:var(--text);
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Sans", "Yu Gothic", sans-serif;
      background:
        radial-gradient(1200px 650px at 15% 5%, color-mix(in oklab, var(--accent1) 35%, transparent), transparent 62%),
        radial-gradient(900px 540px at 85% 25%, color-mix(in oklab, var(--accent2) 26%, transparent), transparent 62%),
        radial-gradient(900px 540px at 65% 85%, color-mix(in oklab, var(--accent3) 18%, transparent), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
      touch-action: pan-y;
    }

    /* è³ªå•ç”»é¢ã ã‘ã€Œãƒšãƒ¼ã‚¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãªã—ã€ */
    body.isQuestions{
      height: 100svh;
      overflow: hidden;
      touch-action: manipulation;
    }

    input, select, textarea{max-width:100%;}
    /* iOSã§ãƒ•ã‚©ãƒ¼ãƒ ãŒå¤‰ã«ä¼¸ã³ã‚‹/ã‚ºãƒ¼ãƒ ã™ã‚‹ã®ã‚’æŠ‘ãˆã‚‹ */
    input, select, textarea{ font-size:16px; }

    .wrap{
      max-width:1180px;
      margin:0 auto;
      padding: 14px 14px calc(96px + var(--safeBottom));
    }

    /* è³ªå•ç”»é¢ã¯ viewport ã«åã‚ã‚‹ï¼ˆç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç¦æ­¢ï¼‰ */
    body.isQuestions .wrap{
      height: calc(100svh - var(--headerH) - var(--bottomH));
      padding: 10px 14px 0;
      padding-right: 14px;           /* â˜…ã‚¹ãƒãƒ›ã¯å³äºˆç´„ã—ãªã„ï¼ˆå´©å£ŠåŸå› ï¼‰ */
      overflow: hidden;
      display:flex;
      flex-direction:column;
      min-height:0;
    }

    /* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆä»¥ä¸Šã ã‘å³ã«ãƒŸãƒ‹ãƒãƒƒãƒ—åˆ†ã®ä½™ç™½ã‚’ç¢ºä¿ï¼ˆè¢«ã‚Šã‚¼ãƒ­ï¼‰ */
    @media (min-width: 720px){
      :root{ --mapReserve: 170px; }
      body.isQuestions .wrap{ padding-right: calc(14px + var(--mapReserve)); }
    }

    /* ===== Header (ã‚¹ãƒãƒ›2æ®µåŒ–ã§è¢«ã‚Šã‚¼ãƒ­) ===== */
    .topbar{
      position:sticky; top:0; z-index:80;
      padding-top: var(--safeTop);
      background: linear-gradient(180deg, rgba(7,11,26,.94), rgba(11,18,49,.70));
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .topbarInner{
      max-width:1180px;
      margin:0 auto;
      padding: 12px 14px 12px;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      min-width:0;
    }
    .brand{display:flex; gap:12px; align-items:center; min-width:0;}
    .orb{
      width:44px; height:44px; border-radius:999px;
      background:
        linear-gradient(rgba(0,0,0,.15), rgba(0,0,0,.15)),
        url('fortune-oracle.jpg');
      background-size: cover;
      background-position: center;
      border:1px solid rgba(255,255,255,.30);
      box-shadow: 0 0 26px color-mix(in oklab, var(--accent1) 28%, transparent),
                  0 0 18px color-mix(in oklab, var(--accent2) 18%, transparent),
                  0 0 0 2px rgba(124,77,255,.15) inset;
      flex: 0 0 auto;
      position: relative;
      overflow: hidden;
    }
    .orb::after{
      content: "";
      position: absolute;
      inset: 0;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.15), transparent 60%);
      pointer-events: none;
    }
    .title{font-size:14px; letter-spacing:.06em; margin:0; line-height:1.2;}
    .subtitle{
      font-size:12px; opacity:.86; margin-top:4px; line-height:1.35;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
      max-width: min(560px, 58vw);
    }

    .meter{
      width: min(520px, 52vw);
      min-width: 220px;
      display:flex; align-items:center; gap:10px;
      justify-content:flex-end;
      min-width:0;
    }
    .meterText{font-size:12px; opacity:.92; min-width:72px; text-align:right; white-space:nowrap;}
    .waterBar{
      position:relative; height:16px; width:100%;
      border-radius:999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.14);
      overflow:hidden;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.08);
    }
    .waterFill{
      position:absolute; inset:0 auto 0 0; width:0%;
      border-radius:999px;
      background:
        linear-gradient(90deg,
          color-mix(in oklab, var(--accent1) 90%, white 10%),
          color-mix(in oklab, var(--accent3) 70%, white 10%),
          color-mix(in oklab, var(--accent2) 85%, white 10%));
      filter:saturate(1.05);
      transition: width .30s ease;
      overflow:hidden;
    }
    /* æ°´é¢ã®ã‚†ã‚‰ã */
    .waterFill::before{
      content:"";
      position:absolute; inset:-10px -60px -10px -60px;
      background:
        radial-gradient(18px 10px at 20px 18px, rgba(255,255,255,.34), rgba(255,255,255,0) 70%),
        radial-gradient(22px 12px at 60px 26px, rgba(255,255,255,.22), rgba(255,255,255,0) 72%),
        radial-gradient(18px 10px at 100px 18px, rgba(255,255,255,.30), rgba(255,255,255,0) 70%);
      opacity:.50;
      animation: waveMove 2.4s linear infinite;
      mix-blend-mode: screen;
      pointer-events:none;
    }
    @keyframes waveMove{0%{transform:translateX(0)}100%{transform:translateX(110px)}}
    /* ã‚­ãƒ©ã‚­ãƒ©ï¼ˆã‚²ãƒ¼ã‚¸å†…ï¼‰ */
    .waterFill .sparkles{
      position:absolute; inset:-30px -60px -30px -60px;
      background:
        radial-gradient(2px 2px at 14% 44%, rgba(255,255,255,.95), rgba(255,255,255,0) 60%),
        radial-gradient(1.5px 1.5px at 28% 62%, rgba(255,255,255,.88), rgba(255,255,255,0) 60%),
        radial-gradient(2px 2px at 42% 32%, rgba(255,255,255,.82), rgba(255,255,255,0) 60%),
        radial-gradient(1.2px 1.2px at 58% 52%, rgba(255,255,255,.80), rgba(255,255,255,0) 60%),
        radial-gradient(2px 2px at 72% 38%, rgba(255,255,255,.90), rgba(255,255,255,0) 60%),
        radial-gradient(1.6px 1.6px at 84% 58%, rgba(255,255,255,.84), rgba(255,255,255,0) 60%);
      opacity:.55;
      animation: sparkleDrift 3.2s linear infinite;
      mix-blend-mode: screen;
      pointer-events:none;
    }
    @keyframes sparkleDrift{
      0%{ transform: translateX(-20px) translateY(0px); filter: blur(.0px); }
      50%{ transform: translateX(20px) translateY(-6px); filter: blur(.2px); }
      100%{ transform: translateX(60px) translateY(0px); filter: blur(.0px); }
    }

    @media(max-width:560px){
      .topbarInner{flex-direction:column; align-items:stretch; gap:10px;}
      .brand{width:100%;}
      .subtitle{max-width:100%;}
      .meter{width:100%; min-width:0; justify-content:space-between;}
      .meterText{min-width:64px;}
    }

    .card{
      margin-top:14px;
      border:1px solid var(--line);
      background: var(--card);
      border-radius: var(--r);
      padding: 16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
    }

    /* è³ªå•ç”»é¢ã¯å¤–å´ã‚«ãƒ¼ãƒ‰ã‚’â€œå™¨â€ã«ã—ã¦é«˜ã•å›ºå®šï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç¦æ­¢ï¼‰ */
    body.isQuestions #viewQuestions.card{
      flex: 1;
      min-height:0;
      margin-top: 10px;
      padding: 0;
      background: transparent;
      border: none;
      box-shadow: none;
      backdrop-filter: none;
      display:flex;
    }

    .h1{font-size:18px; margin:0 0 8px; letter-spacing:.05em; line-height:1.25;}
    .lead{margin:0; font-size:13px; opacity:.88; line-height:1.75;}
    .muted{opacity:.84}
    .small{font-size:12px}
    .sep{height:1px; background: rgba(255,255,255,.10); margin: 12px 0;}

    .pillRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.04);
      font-size:12px; opacity:.95;
    }

    .btnRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px; align-items:center;}
    .btn{
      appearance:none; border:none;
      padding: 12px 14px; border-radius: 14px;
      cursor:pointer; color: var(--text);
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.14);
      transition: transform .08s ease, border-color .2s ease, background .2s ease, filter .2s ease;
      user-select:none; -webkit-tap-highlight-color: transparent;
      white-space: nowrap;
    }
    .btn:hover{border-color: rgba(255,255,255,.22);}
    .btn:active{transform: translateY(1px) scale(.995);}
    .btn.primary{
      background: linear-gradient(90deg,
        color-mix(in oklab, var(--accent1) 85%, black 10%),
        color-mix(in oklab, var(--accent2) 80%, black 10%));
      border-color: rgba(255,255,255,.18);
      filter: saturate(1.08);
    }
    .btn.ghost{ background: rgba(255,255,255,.03); }
    .btn.danger{ background: rgba(255,107,107,.12); border-color: rgba(255,107,107,.40); }
    .btn:disabled{opacity:.45; cursor:not-allowed;}

    .toast{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      font-size: 12px;
      line-height:1.6;
      opacity:.92;
      white-space:pre-line;
    }
    .toast.ok{border-color: rgba(65,209,138,.35); background: rgba(65,209,138,.08);}
    .toast.bad{border-color: rgba(255,107,107,.35); background: rgba(255,107,107,.08);}
    .toast.warn{border-color: rgba(255,204,102,.35); background: rgba(255,204,102,.08);}

    label{display:block; font-size:12px; opacity:.88; margin-bottom:6px;}
    .field{
      width:100%;
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: var(--text);
      outline:none;
      min-width:0;
      display:block;
    }
    input[type="date"].field{
      min-width:0;
      width:100%;
      max-width:100%;
      display:block;
      box-sizing: border-box;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }
    .field:focus{
      border-color: color-mix(in oklab, var(--accent2) 55%, white 0%);
      box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent2) 18%, transparent);
    }
    .err{color:#ff6b6b; font-size:12px; margin-top:6px; line-height:1.5; display:none;}

    /* ===== Question Card ===== */
    .qCard{
      flex: 1;
      min-height:0;
      padding: 14px;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.14);
      background:
        radial-gradient(700px 280px at 10% 10%, color-mix(in oklab, var(--accent1) 18%, transparent), transparent 55%),
        radial-gradient(650px 260px at 90% 35%, color-mix(in oklab, var(--accent2) 12%, transparent), transparent 60%),
        rgba(255,255,255,.04);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      display:flex;
      flex-direction:column;
      gap: 10px;
      overflow:hidden;
    }

    .qTop{display:flex; align-items:flex-start; justify-content:space-between; gap:10px; flex-wrap:wrap;}
    .qMeta{display:flex; gap:10px; align-items:center; flex-wrap:wrap; font-size:12px; opacity:.92;}
    .chip{
      display:inline-flex; gap:8px; align-items:center;
      padding: 6px 10px; border-radius:999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      white-space:nowrap;
    }
    .chapterBadge{
      border-color: color-mix(in oklab, var(--accent1) 25%, rgba(255,255,255,.14));
      background: color-mix(in oklab, var(--accent1) 12%, rgba(255,255,255,.04));
    }

    .qText{
      margin: 0;
      font-size: 15px;
      letter-spacing:.02em;
      line-height:1.7;
      word-break: normal;
      overflow-wrap: anywhere;
    }

    /* qTagï¼ˆS+ç­‰ï¼‰ã‚’éè¡¨ç¤ºï¼ˆãƒ‡ãƒ¼ã‚¿ä¿æŒï¼‰ */
    #qTagChip{display:none !important;}

    .scaleWrap{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.14);
      padding: 12px 12px;
    }

    .scaleHead{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 8px;
      align-items:center;
      font-size:12px;
      opacity:.92;
    }
    .scaleHead span:first-child{ text-align:left; }
    .scaleHead span:last-child{ text-align:right; }

    .valuePill{
      min-width: 44px; text-align:center; font-weight:700; font-size:13px;
      padding: 6px 10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      box-shadow: 0 0 0 3px rgba(0,0,0,.10) inset;
    }

    .range{
      margin-top: 10px;
      width: 100%;
      -webkit-appearance: none;
      appearance: none;
      height: 10px;
      border-radius: 999px;
      outline:none;
      border: 1px solid rgba(255,255,255,.14);
      background:
        linear-gradient(90deg,
          var(--fillColor) 0%,
          var(--fillColor) var(--fillPct),
          rgba(255,255,255,.10) var(--fillPct),
          rgba(255,255,255,.10) 100%);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.10);
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    .range::-webkit-slider-runnable-track{height:10px; border-radius:999px;}
    .range::-webkit-slider-thumb{
      -webkit-appearance:none; appearance:none;
      width:26px; height:26px; border-radius:999px;
      border: 1px solid rgba(255,255,255,.26);
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.96), rgba(255,255,255,.20) 40%, color-mix(in oklab, var(--fillColor) 72%, rgba(0,0,0,.10)) 76%),
        radial-gradient(circle at 70% 70%, rgba(255,255,255,.16), rgba(255,255,255,0) 62%);
      box-shadow:
        0 0 18px color-mix(in oklab, var(--fillColor) 40%, transparent),
        0 0 12px rgba(0,0,0,.25);
      margin-top: -8px;
      transform: scale(var(--thumbScale, 1));
      transition: transform .10s linear;
    }
    .range::-moz-range-track{
      height: 10px; border-radius:999px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.14);
    }
    .range::-moz-range-thumb{
      width:26px; height:26px; border-radius:999px;
      border: 1px solid rgba(255,255,255,.26);
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.96), rgba(255,255,255,.20) 40%, color-mix(in oklab, var(--fillColor) 72%, rgba(0,0,0,.10)) 76%);
      box-shadow: 0 0 18px color-mix(in oklab, var(--fillColor) 40%, transparent), 0 0 12px rgba(0,0,0,.25);
      transform: scale(var(--thumbScale, 1));
      transition: transform .10s linear;
    }

    .tickRow{margin-top:10px; display:grid; grid-template-columns:repeat(7, 1fr); gap:6px;}
    .tickBtn{
      appearance:none; border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color: rgba(234,240,255,.88);
      border-radius: 12px;
      padding: 9px 0;
      font-size: 12px;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      transition: transform .08s ease, border-color .2s ease, background .2s ease;
    }
    .tickBtn:active{ transform: translateY(1px) scale(.995); }
    .tickBtn.on{
      border-color: color-mix(in oklab, var(--fillColor) 55%, rgba(255,255,255,.12));
      background: color-mix(in oklab, var(--fillColor) 18%, rgba(255,255,255,.03));
      box-shadow: 0 0 0 3px color-mix(in oklab, var(--fillColor) 14%, transparent);
      color: rgba(234,240,255,.96);
    }

    /* è³ªå•ç”»é¢ã®ãƒœã‚¿ãƒ³è¡Œï¼šæŠ¼ã—ã‚„ã™ãã—ã¤ã¤çœã‚¹ãƒšãƒ¼ã‚¹ */
    body.isQuestions .qCard .btnRow{ margin-top: 0; }
    body.isQuestions #btnResetFromQuestions{
      padding: 9px 10px;
      font-size: 12px;
      border-radius: 12px;
      max-width: 240px;
    }

    /* ===== Bottom Nav ===== */
    .bottomNav{
      position: fixed; left:0; right:0; bottom:0; z-index:90;
      padding: 10px 12px calc(10px + var(--safeBottom));
      background: linear-gradient(180deg, rgba(7,11,26,.10), rgba(7,11,26,.86));
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .bottomNavInner{
      max-width:1180px; margin:0 auto;
      display:flex; gap:10px; align-items:center; justify-content:space-between;
    }

    /* ===== Mini Map (å¸¸æ™‚è¡¨ç¤ºãƒ»è±ªè¯ç‰ˆ) ===== */
    .miniMapFloat{
      position: fixed;
      right: 12px;
      /* â˜…ã“ã“ã§ã€ŒæŒã¡ä¸Šã’é‡ã€ã‚’è¶³ã—ã¦ä¸Šã«ä¸Šã’ã‚‹ */
      bottom: calc(var(--bottomH) + 12px + var(--miniMapLift));
      z-index: 95;
      pointer-events: auto;
      touch-action: manipulation;
      width: 184px;
      border-radius: 20px;
      border:1px solid rgba(255,255,255,.22);
      background:
        radial-gradient(180px 120px at 50% 30%, rgba(124,77,255,.12), transparent 70%),
        radial-gradient(160px 100px at 50% 70%, rgba(207,167,110,.08), transparent 70%),
        rgba(10,14,36,.72);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.08) inset,
        0 18px 60px rgba(0,0,0,.45),
        0 0 32px color-mix(in oklab, var(--accent1) 18%, transparent);
      backdrop-filter: blur(16px);
      overflow:hidden;
      padding: 12px;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
      user-select:none;
      transition: transform .15s ease, border-color .2s ease, box-shadow .3s ease;
    }
    .miniMapFloat:hover{
      border-color: rgba(255,255,255,.35);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.12) inset,
        0 22px 70px rgba(0,0,0,.50),
        0 0 42px color-mix(in oklab, var(--accent1) 28%, transparent);
    }
    .miniMapFloat:active{
      transform: translateY(1px) scale(.995);
    }
    .miniMapHead{
      display:flex; align-items:center; justify-content:space-between; gap:8px;
      font-size:12.5px; opacity:.95; font-weight:600; letter-spacing:.03em;
      margin-bottom:8px;
    }
    .miniMapHint{
      font-size:10.5px; opacity:.75; margin-top:7px; text-align:center;
      letter-spacing:.04em;
      display: block;
    }
    /* ãƒŸãƒ‹ãƒãƒƒãƒ—èƒŒæ™¯è£…é£¾ */
    .miniMapFloat::before{
      content:"";
      position:absolute; inset:-40px -60px;
      background:
        radial-gradient(2px 2px at 18% 25%, rgba(255,255,255,.90), rgba(255,255,255,0) 60%),
        radial-gradient(1.5px 1.5px at 45% 45%, rgba(255,255,255,.85), rgba(255,255,255,0) 60%),
        radial-gradient(2px 2px at 72% 65%, rgba(255,255,255,.88), rgba(255,255,255,0) 60%),
        radial-gradient(1.2px 1.2px at 88% 30%, rgba(255,255,255,.82), rgba(255,255,255,0) 60%);
      opacity:.35;
      animation: miniSparkle 4.5s linear infinite;
      pointer-events:none;
      mix-blend-mode: screen;
    }
    @keyframes miniSparkle{
      0%{ transform: translateX(-10px) translateY(0px); opacity:.30; }
      50%{ transform: translateX(10px) translateY(-5px); opacity:.45; }
      100%{ transform: translateX(30px) translateY(0px); opacity:.30; }
    }

    @media(max-width:420px){
      .miniMapFloat{
        width: 140px;
        right: 8px;
        bottom: calc(var(--bottomH) + 8px + var(--miniMapLift));
        padding: 8px;
        z-index: 100;
        border-radius: 16px;
      }
      .miniMapHead{
        font-size: 11px;
        margin-bottom: 6px;
      }
      #miniSvg{
        height: 100px;
      }
      .miniMapHint{
        font-size: 9.5px;
        margin-top: 5px;
      }
      :root{ --miniMapLift: 10px; }
    }

    @media(max-width:720px) and (min-width:421px){
      :root{ --miniMapLift: 20px; }
    }

    /* ã‚¹ãƒãƒ›ã§ã®ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›æ¬„ã®èª¿æ•´ */
    @media(max-width:768px){
      .field, input[type="date"].field{
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
      }
    }

    /* ===== Modal ===== */
    .modalBack{
      position: fixed; inset:0; z-index:200;
      background: rgba(0,0,0,.55);
      display:none; align-items:center; justify-content:center;
      padding: 18px;
    }
    .modal{
      width: min(760px, 96vw);
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.16);
      background:
        radial-gradient(600px 240px at 20% 20%, color-mix(in oklab, var(--accent1) 22%, transparent), transparent 60%),
        radial-gradient(600px 240px at 80% 35%, color-mix(in oklab, var(--accent2) 16%, transparent), transparent 62%),
        rgba(10,14,36,.80);
      box-shadow: 0 18px 70px rgba(0,0,0,.55);
      padding: 18px;
      backdrop-filter: blur(14px);
      position:relative;
      overflow:hidden;
      max-height: calc(100svh - 26px);
      overflow:auto;
    }
    .modalGlow{
      position:absolute; inset:-60px -80px;
      background:
        radial-gradient(120px 80px at 20% 30%, rgba(255,255,255,.14), rgba(255,255,255,0) 70%),
        radial-gradient(120px 80px at 70% 50%, rgba(255,255,255,.10), rgba(255,255,255,0) 70%);
      animation: modalFloat 3.6s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes modalFloat{
      0%,100%{ transform: translateY(0px); opacity:.9; }
      50%{ transform: translateY(10px); opacity:1; }
    }
    .modalTitle{margin:0; font-size:16px; letter-spacing:.06em;}
    .modalBody{margin-top:10px; font-size:13px; line-height:1.8; opacity:.92;}

    /* ===== Ascent Map (è©³ç´°) ===== */
    .ascentWrap{
      margin-top: 12px;
      border-radius: 18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      padding: 10px;
      overflow:hidden;
      position:relative;
    }
    .ascentCaption{
      margin-top:10px;
      font-size:12px;
      line-height:1.6;
      color: rgba(234,240,255,.88);
    }
    #ascentPathProg{transition: stroke-dashoffset .38s ease;}
    .ascentPulse{animation: ascentPulse .9s ease-out 1; transform-origin:center;}
    @keyframes ascentPulse{
      0%{ transform: scale(1); }
      40%{ transform: scale(1.16); }
      100%{ transform: scale(1); }
    }
    .floaty{animation: floaty 2.8s ease-in-out infinite;}
    @keyframes floaty{0%,100%{transform:translateY(0)}50%{transform:translateY(4px)}}

    /* ç« ã‚¯ãƒªã‚¢ï¼šå…¨ä½“ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ */
    .chapterFlash{
      position: fixed; inset:0; z-index:150;
      pointer-events:none;
      opacity:0;
      background:
        radial-gradient(800px 420px at 50% 35%, color-mix(in oklab, var(--accent3) 28%, transparent), transparent 68%),
        radial-gradient(900px 520px at 50% 80%, color-mix(in oklab, var(--accent2) 18%, transparent), transparent 70%),
        rgba(255,255,255,.02);
      transition: opacity .42s ease;
    }
    .chapterFlash.on{opacity:1;}

    [hidden]{display:none !important;}
    .footer{text-align:center; margin-top:18px; font-size:12px; opacity:.78;}

    /* Toasté€šçŸ¥ã‚¹ã‚¿ã‚¤ãƒ« */
    .toast{
      display:block;
      margin-top:16px;
      padding:14px 18px;
      border-radius:12px;
      font-size:13.5px;
      line-height:1.6;
      border:1px solid rgba(255,255,255,.15);
      background:rgba(0,0,0,.30);
      backdrop-filter:blur(8px);
      transition: all .3s ease;
    }
    .toast.ok{
      border-color:rgba(67,211,255,.40);
      background:rgba(67,211,255,.12);
      color:rgba(67,211,255,1);
    }
    .toast.bad{
      border-color:rgba(255,77,124,.40);
      background:rgba(255,77,124,.12);
      color:rgba(255,200,200,1);
    }
    .toast.warn{
      border-color:rgba(255,193,77,.40);
      background:rgba(255,193,77,.12);
      color:rgba(255,220,150,1);
    }

    /* è¨ºæ–­çµæœã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .resultSection{
      margin-top:24px;
    }
    .sectionTitle{
      font-size:18px;
      font-weight:700;
      margin:0 0 16px;
      color:var(--accent1);
      padding-bottom:12px;
      border-bottom:2px solid rgba(124,77,255,.30);
    }
    .subTitle{
      font-size:17px; /* 15px â†’ 17px */
      font-weight:700; /* 600 â†’ 700 */
      margin:0 0 14px; /* ä½™ç™½ã‚’åºƒã’ã‚‹ */
      color:var(--accent2);
      opacity:.95; /* ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’ä¸Šã’ã‚‹ */
      letter-spacing: 0.8px; /* æ–‡å­—é–“éš”ã‚’è¿½åŠ  */
      line-height: 1.5; /* è¡Œã®é«˜ã•ã‚’è¿½åŠ  */
    }
    .sectionContent{
      font-size:15px; /* 14px â†’ 15px */
      line-height:1.95; /* è¡Œé–“ã‚’åºƒã */
      opacity:.92; /* ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’ä¸Šã’ã‚‹ */
      white-space:pre-line;
      padding: 4px 0; /* ä¸Šä¸‹ã«ä½™ç™½ã‚’è¿½åŠ  */
    }

    /* ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ - AIé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ */
    .radarChartWrap{
      margin: 24px auto;
      max-width: 500px;
      padding: 30px;
      border-radius: 24px;
      border: 2px solid rgba(124,77,255,.35);
      background: linear-gradient(145deg, rgba(124,77,255,.08) 0%, rgba(67,211,255,.05) 100%);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
      animation: chartFadeIn 0.8s ease-out;
    }
    
    .radarChartWrap::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, rgba(124,77,255,.6), rgba(67,211,255,.6), rgba(124,77,255,.6));
      border-radius: 24px;
      opacity: 0;
      transition: opacity 0.4s;
      z-index: -1;
      filter: blur(20px);
    }
    
    .radarChartWrap:hover::before {
      opacity: 0.6;
      animation: glowPulse 2s ease-in-out infinite;
    }
    
    .radarChartWrap::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 200%;
      height: 3px;
      background: linear-gradient(90deg, transparent, rgba(124,77,255,.8), transparent);
      animation: scanline 3s linear infinite;
      opacity: 0.4;
    }
    
    .radarChartCanvas{
      width: 100%;
      max-width: 440px;
      height: auto;
      display: block;
      margin: 0 auto;
      filter: drop-shadow(0 0 20px rgba(124,77,255,.4)) drop-shadow(0 0 40px rgba(67,211,255,.3));
    }

    /* å††ã‚°ãƒ©ãƒ•ã‚°ãƒªãƒƒãƒ‰ - AIé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ */
    .chartsGrid{
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
      gap:24px;
      margin-top:20px;
    }
    
    @keyframes chartFadeIn {
      from { opacity: 0; transform: translateY(20px) scale(0.95); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
    
    @keyframes glowPulse {
      0%, 100% { box-shadow: 0 0 20px rgba(124,77,255,0.3), 0 0 40px rgba(67,211,255,0.2), inset 0 0 30px rgba(124,77,255,0.1); }
      50% { box-shadow: 0 0 30px rgba(124,77,255,0.5), 0 0 60px rgba(67,211,255,0.3), inset 0 0 40px rgba(124,77,255,0.15); }
    }
    
    @keyframes scanline {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(200%); }
    }
    
    .chartItem{
      position: relative;
      padding: 24px 20px;
      border-radius: 20px;
      border: 2px solid rgba(124,77,255,.35);
      background: linear-gradient(145deg, rgba(124,77,255,.08) 0%, rgba(67,211,255,.05) 100%);
      backdrop-filter: blur(10px);
      text-align: center;
      overflow: hidden;
      animation: chartFadeIn 0.6s ease-out backwards;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .chartItem:nth-child(1) { animation-delay: 0.1s; }
    .chartItem:nth-child(2) { animation-delay: 0.2s; }
    .chartItem:nth-child(3) { animation-delay: 0.3s; }
    .chartItem:nth-child(4) { animation-delay: 0.4s; }
    
    .chartItem::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(180deg, transparent 0%, rgba(124,77,255,0.03) 50%, transparent 100%);
      pointer-events: none;
      animation: scanline 3s linear infinite;
      opacity: 0.5;
    }
    
    .chartItem::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      right: -50%;
      bottom: -50%;
      background: radial-gradient(circle, rgba(124,77,255,0.15) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    
    .chartItem:hover {
      transform: translateY(-8px) scale(1.02);
      border-color: rgba(124,77,255,.6);
      animation: glowPulse 2s ease-in-out infinite;
    }
    
    .chartItem:hover::after {
      opacity: 1;
    }
    
    .chartTitle{
      font-size: 17px; /* 15px â†’ 17px */
      font-weight: 700;
      margin-bottom: 16px;
      color: var(--accent1);
      text-transform: uppercase;
      letter-spacing: 1.2px; /* æ–‡å­—é–“éš”ã‚’åºƒã */
      text-shadow: 0 0 10px rgba(124,77,255,0.5), 0 0 20px rgba(67,211,255,0.3);
      position: relative;
      z-index: 1;
      line-height: 1.4; /* è¡Œã®é«˜ã•ã‚’è¿½åŠ ã—ã¦é€”åˆ‡ã‚Œã‚’é˜²æ­¢ */
      padding: 0 4px; /* å·¦å³ã«ä½™ç™½ã‚’è¿½åŠ  */
    }
    
    .chartCanvas{
      width: 180px;
      height: 180px;
      margin: 0 auto 16px;
      filter: drop-shadow(0 0 15px rgba(124,77,255,0.4)) drop-shadow(0 0 30px rgba(67,211,255,0.2));
      position: relative;
      z-index: 1;
    }
    
    .chartDesc{
      font-size: 14px; /* 12.5px â†’ 14px */
      line-height: 1.9; /* è¡Œé–“ã‚’åºƒã */
      opacity: .90; /* ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’ä¸Šã’ã‚‹ */
      text-align: left;
      color: rgba(255,255,255,0.9); /* æ˜ã‚‹ã */
      position: relative;
      z-index: 1;
      padding: 4px 8px; /* ä½™ç™½ã‚’è¿½åŠ ã—ã¦é€”åˆ‡ã‚Œã‚’é˜²æ­¢ */
    }

    /* ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆ - AIé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ */
    .itemList{
      display: grid;
      gap: 16px;
      margin-top: 16px;
    }
    
    @keyframes itemSlideIn {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }
    
    .itemCard{
      position: relative;
      padding: 18px 20px;
      border-radius: 16px;
      border: 1.5px solid rgba(67,211,255,.25);
      background: linear-gradient(135deg, rgba(255,255,255,.04) 0%, rgba(124,77,255,.06) 100%);
      backdrop-filter: blur(8px);
      overflow: hidden;
      animation: itemSlideIn 0.5s ease-out backwards;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .itemCard:nth-child(1) { animation-delay: 0.05s; }
    .itemCard:nth-child(2) { animation-delay: 0.1s; }
    .itemCard:nth-child(3) { animation-delay: 0.15s; }
    .itemCard:nth-child(4) { animation-delay: 0.2s; }
    .itemCard:nth-child(5) { animation-delay: 0.25s; }
    .itemCard:nth-child(6) { animation-delay: 0.3s; }
    
    .itemCard::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: linear-gradient(180deg, var(--accent1) 0%, var(--accent2) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    
    .itemCard:hover {
      transform: translateX(8px);
      border-color: rgba(67,211,255,.5);
      background: linear-gradient(135deg, rgba(255,255,255,.06) 0%, rgba(124,77,255,.10) 100%);
      box-shadow: 0 4px 20px rgba(124,77,255,0.2), 0 0 40px rgba(67,211,255,0.15);
    }
    
    .itemCard:hover::before {
      opacity: 1;
    }
    
    .itemTitle{
      font-size: 16px; /* 14px â†’ 16px */
      font-weight: 700;
      margin-bottom: 10px; /* ä½™ç™½ã‚’åºƒã’ã‚‹ */
      color: var(--accent2);
      letter-spacing: 0.8px; /* æ–‡å­—é–“éš”ã‚’åºƒã */
      text-shadow: 0 0 10px rgba(67,211,255,0.5);
      line-height: 1.4; /* è¡Œã®é«˜ã•ã‚’è¿½åŠ  */
    }
    
    .itemDesc{
      font-size: 14px; /* 13px â†’ 14px */
      line-height: 1.9; /* è¡Œé–“ã‚’åºƒã */
      opacity: .90; /* ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’ä¸Šã’ã‚‹ */
      color: rgba(255,255,255,0.88); /* æ˜ã‚‹ã */
      padding: 2px 0; /* ä¸Šä¸‹ã«ä½™ç™½ã‚’è¿½åŠ  */
    }

    /* ä½ã„ç”»é¢ï¼ˆSEç­‰ï¼‰ã§ã•ã‚‰ã«è©°ã‚ã¦ã€Œç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¼ãƒ­ã€ã‚’ç¶­æŒ */
    @media (max-height: 740px){
      body.isQuestions .qCard{ padding: 12px; gap: 8px; }
      .qText{ font-size: 14px; line-height: 1.55; }
      .tickBtn{ padding: 8px 0; }
      .scaleWrap{ padding: 10px 10px; }
      body.isQuestions #btnResetFromQuestions{ padding: 8px 9px; }
    }
  </style>
</head>

<body>
  <div class="chapterFlash" id="chapterFlash" aria-hidden="true"></div>

  <header class="topbar" id="topbar">
    <div class="topbarInner">
      <div class="brand">
        <div class="orb" aria-hidden="true"></div>
        <div style="min-width:0;">
          <h1 class="title">FortuneAIå¼ 17ã‚¿ã‚¤ãƒ—è¨ºæ–­</h1>
          <div class="subtitle" id="topSubtitle">100å•Ã—7æ®µéšã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã€‚ç¥ç§˜ã®å·¡ç¤¼è·¯ã§ä¸Šæ˜‡</div>
        </div>
      </div>

      <div class="meter">
        <div class="waterBar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
          <div class="waterFill" id="waterFill">
            <div class="sparkles" aria-hidden="true"></div>
          </div>
        </div>
        <div class="meterText" id="meterText">0 / 100</div>
      </div>
    </div>
  </header>

  <!-- ãƒŸãƒ‹ãƒãƒƒãƒ—å¸¸æ™‚è¡¨ç¤ºï¼ˆè³ªå•ç”»é¢ã§ã®ã¿è¡¨ç¤ºãƒ»è±ªè¯ç‰ˆï¼‰ -->
  <div class="miniMapFloat" id="miniMapBtn" style="display:none;" role="button" aria-label="å·¡ç¤¼è·¯ï¼ˆè©³ç´°ï¼‰">
    <div class="miniMapHead">
      <div>ğŸ—ºï¸ å·¡ç¤¼è·¯</div>
      <div><strong id="miniPct" style="font-size:14px;">0%</strong></div>
    </div>
    <svg id="miniSvg" viewBox="0 0 320 220" width="100%" height="130" aria-hidden="true">
      <defs>
        <linearGradient id="miniStroke" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" stop-color="var(--accent1)" stop-opacity="1"/>
          <stop offset="55%" stop-color="var(--accent3)" stop-opacity="1"/>
          <stop offset="100%" stop-color="var(--accent2)" stop-opacity="1"/>
        </linearGradient>
        
        <!-- ãƒŸãƒ‹ãƒãƒƒãƒ—å°‚ç”¨ï¼šå¼·åŒ–ã‚°ãƒ­ãƒ¼ -->
        <filter id="miniGlowStrong">
          <feGaussianBlur stdDeviation="2.8" result="b"/>
          <feColorMatrix in="b" type="matrix" values="1.2 0 0 0 0  0 1.2 0 0 0  0 0 1.2 0 0  0 0 0 1 0"/>
          <feMerge>
            <feMergeNode in="b"/>
            <feMergeNode in="b"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        
        <!-- ãƒ‘ãƒ«ã‚¹ç”¨radial gradient -->
        <radialGradient id="miniPulseGrad" cx="50%" cy="50%" r="50%">
          <stop offset="0%" stop-color="rgba(255,255,255,.95)"/>
          <stop offset="40%" stop-color="rgba(255,255,255,.50)"/>
          <stop offset="100%" stop-color="rgba(255,255,255,.05)"/>
        </radialGradient>
      </defs>
      
      <!-- èƒŒæ™¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ -->
      <rect x="0" y="0" width="320" height="220" fill="url(#ascentGlow)" opacity=".3"/>
      
      <!-- ãƒ™ãƒ¼ã‚¹ãƒ‘ã‚¹ -->
      <path id="miniPathBase"
        d="M42 190
           C 72 176, 88 172, 106 160
           C 126 146, 120 128, 140 118
           C 158 109, 166 128, 184 112
           C 202 96, 180 78, 200 68
           C 224 56, 236 84, 258 58
           C 274 38, 230 32, 196 40
           C 172 46, 168 34, 160 24"
        fill="none" stroke="rgba(255,255,255,.18)" stroke-width="7" stroke-linecap="round" stroke-linejoin="round"/>
      
      <!-- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒ‘ã‚¹ï¼ˆå¼·åŒ–ã‚°ãƒ­ãƒ¼ï¼‰ -->
      <path id="miniPathProg"
        d="M42 190
           C 72 176, 88 172, 106 160
           C 126 146, 120 128, 140 118
           C 158 109, 166 128, 184 112
           C 202 96, 180 78, 200 68
           C 224 56, 236 84, 258 58
           C 274 38, 230 32, 196 40
           C 172 46, 168 34, 160 24"
        fill="none" stroke="url(#miniStroke)" stroke-width="7" stroke-linecap="round" stroke-linejoin="round" filter="url(#miniGlowStrong)"/>
      
      <!-- å»ºé€ ç‰©ï¼ˆãƒŸãƒ‹ç‰ˆï¼‰ -->
      <g id="miniBuildings" opacity=".90"></g>
      
      <!-- ãƒãƒ¼ã‚«ãƒ¼ï¼ˆå¼·åŒ–ç‰ˆï¼‰ -->
      <g id="miniMarker" filter="url(#miniGlowStrong)">
        <!-- ãƒ‘ãƒ«ã‚¹ãƒªãƒ³ã‚° -->
        <circle id="miniPulse" cx="42" cy="190" r="16" fill="url(#miniPulseGrad)" opacity="0">
          <animate attributeName="r" from="8" to="22" dur="1.2s" repeatCount="indefinite"/>
          <animate attributeName="opacity" from="0.6" to="0" dur="1.2s" repeatCount="indefinite"/>
        </circle>
        
        <!-- ãƒãƒ­ãƒ¼ -->
        <circle id="miniHalo" cx="42" cy="190" r="11" fill="rgba(255,255,255,.12)" stroke="rgba(255,255,255,.20)" stroke-width="1"/>
        
        <!-- ã‚³ã‚¢ãƒ‰ãƒƒãƒˆ -->
        <circle id="miniDot" cx="42" cy="190" r="6" fill="rgba(255,255,255,.98)" stroke="rgba(255,255,255,.30)" stroke-width="1.2"/>
      </g>
      
      <!-- GOALãƒãƒ¼ã‚«ãƒ¼ -->
      <g opacity=".90">
        <circle cx="160" cy="18" r="7" fill="rgba(255,255,255,.25)" stroke="rgba(255,255,255,.28)"/>
        <text x="160" y="14" text-anchor="middle" font-size="9" fill="rgba(234,240,255,.88)" style="letter-spacing:.10em; font-weight:600;">GOAL</text>
      </g>
    </svg>
    <div class="miniMapHint">ã‚¿ãƒƒãƒ—ã§è©³ç´°è¡¨ç¤º</div>
  </div>

  <div class="wrap" id="wrap">
    <section class="card" id="viewHero" style="position:relative; overflow:hidden;">
      <!-- èƒŒæ™¯è£…é£¾ -->
      <div style="position:absolute; inset:-60px -80px; pointer-events:none; opacity:.15;">
        <div style="position:absolute; top:10%; left:15%; width:180px; height:180px; border-radius:50%; background:radial-gradient(circle, var(--accent1), transparent 70%); filter:blur(40px);"></div>
        <div style="position:absolute; top:40%; right:10%; width:220px; height:220px; border-radius:50%; background:radial-gradient(circle, var(--accent2), transparent 70%); filter:blur(50px);"></div>
        <div style="position:absolute; bottom:15%; left:25%; width:200px; height:200px; border-radius:50%; background:radial-gradient(circle, var(--accent3), transparent 70%); filter:blur(45px);"></div>
      </div>
      
      <div style="position:relative; z-index:1;">
        <h2 class="h1" style="font-size:22px; margin-bottom:14px; letter-spacing:.08em;">
          FortuneAIå¼ 17ã‚¿ã‚¤ãƒ—è¨ºæ–­
        </h2>
        <p class="lead" style="font-size:14.5px; line-height:1.85; margin-bottom:18px;">
          100ã®è³ªå•ã«ç­”ãˆã‚‹ã“ã¨ã§ã€ã‚ãªãŸã®æ€§æ ¼ã‚¿ã‚¤ãƒ—ã‚’17åˆ†é¡ã§è¨ºæ–­ã—ã¾ã™ã€‚<br>
          é€²æ—ã¯ç¾ã—ã„æ°´ã®ã‚²ãƒ¼ã‚¸ã¨ç¥ç§˜çš„ãªå·¡ç¤¼è·¯ã§å¯è¦–åŒ–ã•ã‚Œã€20å•ã”ã¨ã«ç« ãŒåˆ‡ã‚Šæ›¿ã‚ã‚Šã¾ã™ã€‚
        </p>
        
        <div style="margin:20px 0; padding:16px; border-radius:16px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.03);">
          <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
            <div style="width:6px; height:6px; border-radius:50%; background:var(--accent1); box-shadow:0 0 12px var(--accent1);"></div>
            <span style="font-size:13px; opacity:.92;">ã‚¹ãƒ©ã‚¤ãƒ‰æ“ä½œã§7æ®µéšè©•ä¾¡</span>
          </div>
          <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
            <div style="width:6px; height:6px; border-radius:50%; background:var(--accent3); box-shadow:0 0 12px var(--accent3);"></div>
            <span style="font-size:13px; opacity:.92;">20å•ã”ã¨ã«ç¾ã—ã„æ¼”å‡ºã¨ãƒ†ãƒ¼ãƒå¤‰åŒ–</span>
          </div>
          <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
            <div style="width:6px; height:6px; border-radius:50%; background:var(--accent2); box-shadow:0 0 12px var(--accent2);"></div>
            <span style="font-size:13px; opacity:.92;">å›ç­”å€¤ã«å¿œã˜ãŸè‰²å½©ã®å¤‰åŒ–</span>
          </div>

        </div>
        
        <div class="btnRow" style="margin-top:24px;">
          <button class="btn primary" id="btnStart" style="font-size:15px; padding:14px 24px; min-width:160px;">
            è¨ºæ–­ã‚’é–‹å§‹ã™ã‚‹
          </button>
          <button class="btn danger" id="btnResetAll">æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™ï¼ˆä¿å­˜ã‚’æ¶ˆå»ï¼‰</button>
        </div>
      </div>
    </section>

    <section class="card" id="viewProfile" hidden>
      <h2 class="h1">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h2>
      <p class="lead muted small">â€»ä¿å­˜å¾©å…ƒã‚ã‚Šã€‚userIdã¯URLï¼ˆ?userId=...ï¼‰ã§ã‚‚æ¸¡ã›ã¾ã™ã€‚ãŠåå‰ã¯ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã§ã‚‚å¯èƒ½ã§ã™</p>

      <div style="margin-top:12px;">
        <label for="name">ãŠåå‰ï¼ˆå¿…é ˆï¼‰</label>
        <input class="field" id="name" type="text" placeholder="ä¾‹ï¼šå¤ªéƒ" />
        <div class="err" id="errName">ãŠåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</div>

        <div style="height:12px;"></div>

        <label for="gender">æ€§åˆ¥ï¼ˆå¿…é ˆï¼‰</label>
        <select class="field" id="gender">
          <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
          <option value="male">maleï¼ˆç”·æ€§ï¼‰</option>
          <option value="female">femaleï¼ˆå¥³æ€§ï¼‰</option>
          <option value="other">otherï¼ˆãã®ä»–ï¼‰</option>
        </select>
        <div class="err" id="errGender">æ€§åˆ¥ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</div>

        <div style="height:12px;"></div>

        <label for="birthday">ç”Ÿå¹´æœˆæ—¥ï¼ˆå¿…é ˆï¼‰</label>
        <input class="field" id="birthday" type="date" />
        <div class="err" id="errBirthday">ç”Ÿå¹´æœˆæ—¥ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</div>

        <div style="height:12px;"></div>

        <label for="userId">userIdï¼ˆä»»æ„ï¼‰</label>
        <input class="field" id="userId" type="text" placeholder="ä¾‹ï¼šUxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" />

        <div class="btnRow">
          <button class="btn ghost" id="btnBackToHero">æˆ»ã‚‹</button>
          <button class="btn primary" id="btnToQuestions">å›ç­”ã¸é€²ã‚€</button>
        </div>

        <div class="toast warn" id="profileRestoreNote" style="display:none;">
          ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’æ¤œå‡ºã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ»å›ç­”ãƒ»é€²æ—ã‚’å¾©å…ƒã—ã¦ã„ã¾ã™ã€‚
        </div>
      </div>
    </section>

    <section class="card" id="viewQuestions" hidden>
      <div class="qCard">
        <div class="qTop">
          <div class="qMeta">
            <span class="chip chapterBadge" id="chapterChip">CHAPTER 1 / 5</span>
            <span class="chip" id="qIndexChip">Q 1 / 100</span>
            <span class="chip" id="qTagChip">[S+]</span>
          </div>
          <div class="qMeta">
            <span class="chip">å®Œäº† <strong id="doneCountText">0</strong></span>
          </div>
        </div>

        <div class="qText" id="qText">Q1. ï¼ˆè¨­å•ï¼‰</div>

        <div class="scaleWrap">
          <div class="scaleHead">
            <span>1 = ã¾ã£ãŸããã†æ€ã‚ãªã„</span>
            <span class="valuePill" id="valuePill">4</span>
            <span>7 = éå¸¸ã«ãã†æ€ã†</span>
          </div>

          <input id="range" class="range" type="range" min="1" max="7" step="1" value="4" />
          <div style="text-align:center; font-size:11px; opacity:.70; margin-top:6px;">ã‚¹ãƒ©ã‚¤ãƒ‰ã¾ãŸã¯ä¸‹ã®æ•°å­—ã‚’ã‚¿ãƒƒãƒ—ã—ã¦é¸æŠ</div>
          <div class="tickRow" id="tickRow"></div>
        </div>

        <div class="toast" id="qToast" style="display:none;"></div>

        <div class="sep"></div>

        <div class="btnRow">
          <button class="btn ghost" id="btnJumpProfile">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã¸æˆ»ã‚‹</button>
          <button class="btn danger" id="btnResetFromQuestions">æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™ï¼ˆä¿å­˜ã‚’æ¶ˆå»ï¼‰</button>
        </div>
      </div>
    </section>

    <section class="card" id="viewWorry" hidden>
      <h2 class="h1">æ‚©ã¿å…¥åŠ›</h2>
      <p class="lead">ä»Šæ„Ÿã˜ã¦ã„ã‚‹æ‚©ã¿ã‚’ã€2,000æ–‡å­—ä»¥å†…ã§ãã®ã¾ã¾æ›¸ã„ã¦ãã ã•ã„ã€‚ã†ã¾ãã¾ã¨ã¾ã£ã¦ã„ãªãã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚</p>
      <label for="worryText" style="margin-top:12px;">æ‚©ã¿</label>
      <textarea class="field" id="worryText" maxlength="2000" style="min-height:160px; resize:vertical; line-height:1.6;"></textarea>

      <div class="btnRow" style="justify-content:space-between;">
        <div class="muted small" id="worryCount">0 / 2000</div>
        <button class="btn primary" id="btnShowResult">çµæœã‚’è¦‹ã‚‹</button>
      </div>
    </section>

    <section class="card" id="viewResult" hidden>
      <h2 class="h1">è¨ºæ–­çµæœ</h2>
      
      <!-- ã‚ãªãŸã®ã‚¿ã‚¤ãƒ— -->
      <div style="margin-top:20px; padding:28px; border-radius:20px; border:2px solid rgba(124,77,255,.35); background:linear-gradient(135deg, rgba(124,77,255,.10) 0%, rgba(67,211,255,.08) 100%); backdrop-filter: blur(10px);">
        <div style="text-align:center; font-size:15px; opacity:.85; margin-bottom:12px; letter-spacing:0.5px;">ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—</div>
        
        <!-- ã‚¿ã‚¤ãƒ—ç”»åƒ -->
        <div id="typeImageContainer" style="text-align:center; margin-bottom:20px; display:none;">
          <img id="typeImage" src="" alt="ã‚¿ã‚¤ãƒ—ç”»åƒ" style="max-width:100%; max-height:400px; border-radius:12px; box-shadow: 0 8px 32px rgba(0,0,0,0.4);" />
        </div>
        
        <div style="text-align:center; font-size:32px; font-weight:700; letter-spacing:.12em; margin-bottom:12px; color:var(--accent1); text-shadow: 0 0 15px rgba(124,77,255,0.6);" id="yourTypeCode">BAL</div>
        <div style="text-align:center; font-size:20px; font-weight:700; margin-bottom:18px; line-height:1.4; color:var(--accent2); text-shadow: 0 0 10px rgba(67,211,255,0.5);" id="yourTypeTitle">å‡è¡¡ã‚¢ãƒ«ã‚±ãƒŸã‚¹ãƒˆï¼ˆçµ±åˆé©å¿œè€…ï¼‰</div>
        <div style="text-align:left; font-size:15.5px; line-height:2; opacity:.94; white-space:pre-line; padding:8px 4px;" id="yourTypeIntro">Loading...</div>
      </div>
      
      <!-- ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ -->
      <div class="radarChartWrap">
        <h4 class="subTitle" style="text-align:center; margin-bottom:24px; font-size:18px;">æ€§æ ¼ç‰¹æ€§ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ</h4>
        <svg id="radarChart" class="radarChartCanvas" width="400" height="400" viewBox="0 0 400 400"></svg>
      </div>

      <div class="sep"></div>

      <!-- 1. äººæ ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ« -->
      <div class="resultSection">
        <h3 class="sectionTitle">1. äººæ ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆä¸­æ ¸è¨­è¨ˆå›³ï¼‰</h3>
        <div class="sectionContent" id="section1Content">Loading...</div>
      </div>

      <div class="sep"></div>

      <!-- 2. è·èƒ½ãƒ«ãƒ¼ãƒˆè§£æ -->
      <div class="resultSection">
        <h3 class="sectionTitle">2. è·èƒ½ãƒ«ãƒ¼ãƒˆè§£æï¼ˆå‹ã¡ç­‹ã®è¨­è¨ˆï¼‰</h3>
        <div class="sectionContent" id="section2Content">Loading...</div>
        
        <!-- æˆæœã‚’å‹•ã‹ã™å› å­ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">æˆæœã‚’å‹•ã‹ã™å› å­ï¼ˆã‚­ãƒ£ãƒªã‚¢åŠ é€Ÿãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰</h4>
          <div class="chartsGrid" id="charts2"></div>
        </div>

        <!-- æˆ¦åŠ›ã‚³ã‚¢ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">æˆ¦åŠ›ã‚³ã‚¢ï¼ˆå†ç¾æ€§ã®ã‚ã‚‹æ­¦å™¨ï¼‰</h4>
          <div class="itemList" id="items2a"></div>
        </div>

        <!-- ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹æ€§ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹æ€§ï¼ˆå¤±é€Ÿãƒªã‚¹ã‚¯ï¼‰</h4>
          <div class="itemList" id="items2b"></div>
        </div>

        <!-- é©è·ã‚¢ãƒ¼ã‚­ã‚¿ã‚¤ãƒ—å€™è£œ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">é©è·ã‚¢ãƒ¼ã‚­ã‚¿ã‚¤ãƒ—å€™è£œï¼ˆé«˜å¹¸ç¦åº¦ãƒ«ãƒ¼ãƒˆï¼‰</h4>
          <div class="itemList" id="items2c"></div>
        </div>

        <!-- æœ€é©ç¨¼åƒãƒ¢ãƒ¼ãƒ‰ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">æœ€é©ç¨¼åƒãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€å¤§åŒ–é‹ç”¨ï¼‰</h4>
          <div class="itemList" id="items2d"></div>
        </div>
      </div>

      <div class="sep"></div>

      <!-- 3. è‡ªå·±é€²åŒ–ãƒ—ãƒ©ãƒ³ -->
      <div class="resultSection">
        <h3 class="sectionTitle">3. è‡ªå·±é€²åŒ–ãƒ—ãƒ©ãƒ³ï¼ˆä¼¸ã³ä»£ã®è§£æ”¾ï¼‰</h3>
        <div class="sectionContent" id="section3Content">Loading...</div>
        
        <div style="margin-top:24px;">
          <div class="chartsGrid" id="charts3"></div>
        </div>

        <!-- ä¼¸é•·è³‡ç”£ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">ä¼¸é•·è³‡ç”£ï¼ˆä¼¸ã°ã™ã»ã©ä¼¸ã³ã‚‹é ˜åŸŸï¼‰</h4>
          <div class="itemList" id="items3a"></div>
        </div>

        <!-- æ”¹å–„ãƒ¬ãƒãƒ¼ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">æ”¹å–„ãƒ¬ãƒãƒ¼ï¼ˆæœ€çŸ­ã§åŠ¹ãèª¿æ•´ç‚¹ï¼‰</h4>
          <div class="itemList" id="items3b"></div>
        </div>

        <!-- ã‚¨ãƒãƒ«ã‚®ãƒ¼å……é›»æº -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">ã‚¨ãƒãƒ«ã‚®ãƒ¼å……é›»æºï¼ˆå›å¾©ãƒˆãƒªã‚¬ãƒ¼ï¼‰</h4>
          <div class="itemList" id="items3c"></div>
        </div>

        <!-- æ¶ˆè€—è¦å›  -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">æ¶ˆè€—è¦å› ï¼ˆã‚¨ãƒãƒ«ã‚®ãƒ¼æ¼ã‚Œãƒã‚¤ãƒ³ãƒˆï¼‰</h4>
          <div class="itemList" id="items3d"></div>
        </div>
      </div>

      <div class="sep"></div>

      <!-- 4. å¯¾äººãƒ€ã‚¤ãƒŠãƒŸã‚¯ã‚¹è§£æ -->
      <div class="resultSection">
        <h3 class="sectionTitle">4. å¯¾äººãƒ€ã‚¤ãƒŠãƒŸã‚¯ã‚¹è§£æï¼ˆç›¸äº’ä½œç”¨ã®æœ€é©åŒ–ï¼‰</h3>
        <div class="sectionContent" id="section4Content">Loading...</div>
        
        <!-- é–¢ä¿‚æ§‹ç¯‰ã®æ­¦å™¨ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">é–¢ä¿‚æ§‹ç¯‰ã®æ­¦å™¨ï¼ˆä¿¡é ¼ç”Ÿæˆã‚¹ã‚­ãƒ«ï¼‰</h4>
          <div class="chartsGrid" id="charts4"></div>
        </div>

        <!-- æ‘©æ“¦ç™ºç”Ÿãƒã‚¤ãƒ³ãƒˆ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">æ‘©æ“¦ç™ºç”Ÿãƒã‚¤ãƒ³ãƒˆï¼ˆèª¤è§£ãƒ»è¡çªãƒªã‚¹ã‚¯ï¼‰</h4>
          <div class="itemList" id="items4a"></div>
        </div>

        <!-- å¯¾äººé©æ€§ã‚³ã‚¢ -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">å¯¾äººé©æ€§ã‚³ã‚¢ï¼ˆåˆºã•ã‚‹ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç‰¹æ€§ï¼‰</h4>
          <div class="itemList" id="items4b"></div>
        </div>

        <!-- å¯¾äººãƒªã‚¹ã‚¯ç®¡ç† -->
        <div style="margin-top:24px;">
          <h4 class="subTitle">å¯¾äººãƒªã‚¹ã‚¯ç®¡ç†ï¼ˆåœ°é›·å›é¿ãƒ—ãƒ­ãƒˆã‚³ãƒ«ï¼‰</h4>
          <div class="itemList" id="items4c"></div>
        </div>
      </div>

      <div class="sep"></div>

      <!-- å…¨17ã‚¿ã‚¤ãƒ—ä¸€è¦§ -->
      <div class="resultSection">
        <h3 class="sectionTitle">å…¨17ã‚¿ã‚¤ãƒ—ä¸€è¦§</h3>
        <div id="allTypesGrid" style="display:grid; grid-template-columns:repeat(auto-fill, minmax(200px, 1fr)); gap:12px; margin-top:16px;">
          <!-- JavaScriptã§å‹•çš„ç”Ÿæˆ -->
        </div>
      </div>

      <div class="sep"></div>

      <!-- JSONè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
      <div class="resultSection">
        <h3 class="sectionTitle">è¨ºæ–­çµæœãƒ‡ãƒ¼ã‚¿ï¼ˆJSONï¼‰</h3>
        <div class="btnRow" style="margin-bottom:16px;">
          <button class="btn primary" id="btnCopyJson">JSONã‚’ã‚³ãƒ”ãƒ¼</button>
          <button class="btn ghost" id="btnDownloadJson">JSONã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
        </div>
        <pre class="field" id="jsonPreview" style="max-height:400px; overflow:auto; white-space:pre; font-size:11px; line-height:1.5; background:rgba(0,0,0,.3); border:1px solid rgba(255,255,255,.1); padding:16px; border-radius:12px;">Loading...</pre>
      </div>

      <div class="sep"></div>

      <div class="btnRow">
        <button class="btn danger" id="btnResetFromResult">æœ€åˆã‹ã‚‰ã‚„ã‚Šç›´ã™ï¼ˆä¿å­˜ã‚’æ¶ˆå»ï¼‰</button>
      </div>

      <!-- é€ä¿¡çµæœãƒˆãƒ¼ã‚¹ãƒˆ -->
      <div id="resultToast" class="toast" style="display:none; margin-top:16px;"></div>
    </section>

    <div class="footer">Â© FortuneAI</div>
  </div>

  <div class="bottomNav" id="bottomNav" style="display:none;">
    <div class="bottomNavInner">
      <button class="btn ghost" id="btnPrevQ">å‰ã¸</button>
      <button class="btn primary" id="btnNextQ">æ¬¡ã¸</button>
    </div>
  </div>

  <!-- ç« ã‚¯ãƒªã‚¢ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆãƒœãƒ¼ãƒŠã‚¹/å ±é…¬æ¬„ã¯å‰Šé™¤ï¼‰ -->
  <div class="modalBack" id="chapterModal" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modalGlow" aria-hidden="true"></div>
      <h3 class="modalTitle" id="chapterModalTitle">CHAPTER CLEAR</h3>
      <div class="modalBody" id="chapterModalBody"></div>

      <div class="btnRow" style="justify-content:flex-end;">
        <button class="btn primary" id="btnChapterContinue">æ¬¡ã®ç« ã¸</button>
      </div>
    </div>
  </div>

  <!-- å·¡ç¤¼è·¯ï¼ˆè©³ç´°ï¼‰ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div class="modalBack" id="mapModal" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modalGlow" aria-hidden="true"></div>
      <h3 class="modalTitle">ç¥ç§˜ã®å·¡ç¤¼è·¯ï¼ˆè©³ç´°ï¼‰</h3>
      <div class="modalBody" id="ascentModalBody">å›ç­”ãŒé€²ã‚€ã»ã©ã€å…‰ã®é“ãŒä¼¸ã³ã€ç²¾éœŠãŒä¸Šæ˜‡ã—ã¾ã™ã€‚20å•ã”ã¨ã«å»ºé€ ç‰©ãŒç‚¹ç¯ã—ã¾ã™ã€‚</div>

      <div class="ascentWrap">
        <svg id="ascentSvg" viewBox="0 0 320 220" width="100%" height="260" aria-label="å·¡ç¤¼è·¯">
          <defs>
            <radialGradient id="ascentGlow" cx="50%" cy="40%" r="70%">
              <stop offset="0%" stop-color="rgba(255,255,255,.12)"/>
              <stop offset="60%" stop-color="rgba(255,255,255,.03)"/>
              <stop offset="100%" stop-color="rgba(255,255,255,0)"/>
            </radialGradient>

            <linearGradient id="ascentStroke" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" stop-color="var(--accent1)"/>
              <stop offset="55%" stop-color="var(--accent3)"/>
              <stop offset="100%" stop-color="var(--accent2)"/>
            </linearGradient>

            <filter id="softGlow">
              <feGaussianBlur stdDeviation="2.2" result="b"/>
              <feMerge>
                <feMergeNode in="b"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>

          <rect x="0" y="0" width="320" height="220" fill="url(#ascentGlow)"/>

          <g opacity=".95">
            <path d="M160 18 L176 58 L160 48 L144 58 Z" fill="rgba(255,255,255,.10)" stroke="rgba(255,255,255,.16)"/>
            <circle cx="160" cy="18" r="6" fill="rgba(255,255,255,.22)" stroke="rgba(255,255,255,.22)"/>
            <text x="160" y="14" text-anchor="middle" font-size="10" fill="rgba(234,240,255,.85)" style="letter-spacing:.12em;">GOAL</text>
          </g>

          <path id="ascentPathBase"
            d="M42 190
               C 72 176, 88 172, 106 160
               C 126 146, 120 128, 140 118
               C 158 109, 166 128, 184 112
               C 202 96, 180 78, 200 68
               C 224 56, 236 84, 258 58
               C 274 38, 230 32, 196 40
               C 172 46, 168 34, 160 24"
            fill="none"
            stroke="rgba(255,255,255,.14)"
            stroke-width="6"
            stroke-linecap="round"
            stroke-linejoin="round"/>

          <path id="ascentPathProg"
            d="M42 190
               C 72 176, 88 172, 106 160
               C 126 146, 120 128, 140 118
               C 158 109, 166 128, 184 112
               C 202 96, 180 78, 200 68
               C 224 56, 236 84, 258 58
               C 274 38, 230 32, 196 40
               C 172 46, 168 34, 160 24"
            fill="none"
            stroke="url(#ascentStroke)"
            stroke-width="6"
            stroke-linecap="round"
            stroke-linejoin="round"
            filter="url(#softGlow)"/>

          <g id="ascentRunes" opacity=".95"></g>
          <g id="ascentBuildings" opacity=".98"></g>

          <g id="ascentMarker" filter="url(#softGlow)">
            <circle id="ascentHalo" cx="42" cy="190" r="10" fill="rgba(255,255,255,.10)"/>
            <circle id="ascentDot" cx="42" cy="190" r="5.5" fill="rgba(255,255,255,.92)" stroke="rgba(255,255,255,.22)"/>
            <path id="ascentWisp" class="floaty" d="M42 178 C 46 172, 54 176, 50 184 C 48 188, 44 190, 42 194 C 40 190, 36 188, 34 184 C 30 176, 38 172, 42 178 Z"
              fill="rgba(255,255,255,.18)" stroke="rgba(255,255,255,.22)"/>
          </g>

          <g id="ascentParticles" opacity=".9"></g>

          <text x="42" y="206" text-anchor="start" font-size="10" fill="rgba(234,240,255,.70)" style="letter-spacing:.12em;">START</text>
        </svg>

        <div class="ascentCaption" id="ascentCaption">ã¾ãšã¯1å•ã€‚å…‰ãŒé“ã‚’æãå§‹ã‚ã¾ã™ã€‚</div>
      </div>

      <div class="btnRow" style="justify-content:flex-end;">
        <button class="btn primary" id="btnCloseMap">é–‰ã˜ã‚‹</button>
      </div>
    </div>
  </div>

  <!-- ã‚¿ã‚¤ãƒ—è©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <script>
    /***********************
     * ã“ã“ã ã‘ç·¨é›†ï¼ˆMakeã®Webhookï¼‰
     ***********************/
    const WEBHOOK_URL = "https://hook.eu2.make.com/7ac62r32ffup0cl0d1kr9h3dpbf8dz3h";
    const STORAGE_KEY = "fortuneai_17type_mystic_ascent_singlefile";

    const AXIS_MAX = 75;

    const THEMES = [
      { name:"CHAPTER 1 / 5", a1:"#7c4dff", a2:"#cfa76e", a3:"#43d3ff", bg0:"#070b1a", bg1:"#0b1231" },
      { name:"CHAPTER 2 / 5", a1:"#43d3ff", a2:"#7c4dff", a3:"#cfa76e", bg0:"#06101a", bg1:"#071a2b" },
      { name:"CHAPTER 3 / 5", a1:"#cfa76e", a2:"#43d3ff", a3:"#7c4dff", bg0:"#120c0a", bg1:"#0b1231" },
      { name:"CHAPTER 4 / 5", a1:"#ff6bd6", a2:"#43d3ff", a3:"#cfa76e", bg0:"#0d0616", bg1:"#08163a" },
      { name:"CHAPTER 5 / 5", a1:"#41d18a", a2:"#cfa76e", a3:"#7c4dff", bg0:"#060f0d", bg1:"#081a2b" },
    ];

    const TYPE_TITLES = {
      "INTJ":"é»’æ›œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆï¼ˆæˆ¦ç•¥è¨­è¨ˆè€…ï¼‰",
      "INTP":"è’¼å¤©ã‚¢ãƒŠãƒªã‚¹ãƒˆï¼ˆåŸç†è§£å‰–è€…ï¼‰",
      "ENTJ":"ç´…è“®ã‚³ãƒãƒ³ãƒ€ãƒ¼ï¼ˆæˆæœæŒ‡æ®è€…ï¼‰",
      "ENTP":"é›·å…‰ã‚¤ãƒ³ãƒ™ãƒ³ã‚¿ãƒ¼ï¼ˆå¤‰é©ç™ºæ˜è€…ï¼‰",
      "INFJ":"æ˜Ÿå°ã‚·ãƒ¼ã‚¢ï¼ˆæœªæ¥æ´å¯Ÿè€…ï¼‰",
      "INFP":"æœˆå½±ãƒãƒ¼ãƒ‰ï¼ˆç†æƒ³è©©äººï¼‰",
      "ENFJ":"æ—­æ—¥ãƒ¡ãƒ³ã‚¿ãƒ¼ï¼ˆè¦šé†’å°å¸«ï¼‰",
      "ENFP":"è™¹å½©ã‚ªãƒ©ã‚¯ãƒ«ï¼ˆå¯èƒ½æ€§ç‚¹ç«è€…ï¼‰",
      "ISTJ":"é‰„å¾‹ãƒãƒ¼ã‚·ãƒ£ãƒ«ï¼ˆç§©åºç›£ç£è€…ï¼‰",
      "ISFJ":"å®ˆç¯ã‚¹ãƒãƒ¥ãƒ¯ãƒ¼ãƒ‰ï¼ˆçŒ®èº«æ”¯æ´è€…ï¼‰",
      "ESTJ":"é‹¼æ ¸ã‚¨ã‚°ã‚¼ã‚­ãƒ¥ãƒ¼ã‚¿ãƒ¼ï¼ˆç¾å ´çµ±ç‡è€…ï¼‰",
      "ESFJ":"ç¥¥é¢¨ãƒ›ã‚¹ãƒˆï¼ˆèª¿å’Œé‹å–¶è€…ï¼‰",
      "ISTP":"å½±é‹¼ã‚¯ãƒ©ãƒ•ã‚¿ãƒ¼ï¼ˆå®Ÿè£…ä¿®ç¾…ï¼‰",
      "ISFP":"èŠ±éœã‚¢ãƒ¼ãƒ†ã‚£ã‚¶ãƒ³ï¼ˆæ„Ÿæ€§è·äººï¼‰",
      "ESTP":"ç–¾é¢¨ã‚¹ãƒˆãƒ©ã‚¤ã‚«ãƒ¼ï¼ˆæ©Ÿä¼šæ”»ç•¥è€…ï¼‰",
      "ESFP":"é™½å…‰ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ¼ï¼ˆæ„Ÿæƒ…èµ·å‹•è€…ï¼‰",
      "BAL":"å‡è¡¡ã‚¢ãƒ«ã‚±ãƒŸã‚¹ãƒˆï¼ˆçµ±åˆé©å¿œè€…ï¼‰"
    };

    const TYPE_DESCRIPTIONS = {
      "INTJ":"å…¨ä½“åƒã‚’èª­ã¿åˆ‡ã‚Šã€å‹ã¡ç­‹ã‚’è¨­è¨ˆã—ã¦å†ç¾ã™ã‚‹ã€Œæˆ¦ç•¥ã®æ§‹é€ åŒ–ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "INTP":"ç‰©äº‹ã®æœ¬è³ªã‚’åˆ†è§£ã—ã€æ™®éã®ãƒ«ãƒ¼ãƒ«ã¸è½ã¨ã—è¾¼ã‚€ã€ŒçœŸç†ã®è§£æã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ENTJ":"ç›®æ¨™ã‚’æ²ã’ã€æ±ºæ–­ã—ã€å‘¨å›²ã‚’å‹•ã‹ã—ã¦æˆæœã¸åˆ°é”ã™ã‚‹ã€Œæ¨é€²ã¨çµ±ç‡ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ENTP":"å‰æã‚’å£Šã—ã€æ–°ã—ã„ä¸–ç•Œç·šã‚’ã²ã‚‰ãã€Œã²ã‚‰ã‚ãã¨å¤‰é©ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "INFJ":"äººã®å†…é¢ã¨æœªæ¥ã®æµã‚Œã‚’èª­ã¿ã€é™ã‹ã«æœ€é©ãªé“ã¸å°ãã€Œæ´å¯Ÿã¨å°ãã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "INFP":"ç†æƒ³ã¨ä¾¡å€¤è¦³ã‚’å®ˆã‚Šã€æ„å‘³ã¨ç¾ã—ã•ã§ä¸–ç•Œã‚’å¤‰ãˆã‚‹ã€Œæ„Ÿå—æ€§ã¨ç´”åº¦ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ENFJ":"äººã®å¯èƒ½æ€§ã‚’å¼•ãå‡ºã—ã€æˆé•·ã®ç«ã‚’ç¯ã™ã€Œè‚²æˆã¨è¦šé†’ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ENFP":"æ–°ã—ã„é¸æŠè‚¢ã‚’è¦‹ã¤ã‘ã€äººã®æœªæ¥ã‚’æ˜ã‚‹ãæ‹¡å¼µã™ã‚‹ã€Œå¯èƒ½æ€§ã®ç‚¹ç«ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ISTJ":"è¦å¾‹ã¨è²¬ä»»æ„Ÿã§ç§©åºã‚’å®ˆã‚Šã€å …ç‰¢ã«ç‰©äº‹ã‚’å‰ã¸é€²ã‚ã‚‹ã€Œå®‰å®šé‹ç”¨ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ISFJ":"äººã‚’æ”¯ãˆã€å®‰å¿ƒã®åœŸå°ã‚’æ•´ãˆã€é™ã‹ã«å®ˆã‚Šç¶šã‘ã‚‹ã€ŒçŒ®èº«ã¨ä¿å…¨ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ESTJ":"ç¾å ´ã‚’æŒæ¡ã—ã€å®Ÿå‹™ã‚’çµ±åˆ¶ã—ã€ç¢ºå®Ÿã«çµæœã¸ã¤ãªã’ã‚‹ã€Œå®Ÿè¡Œç®¡ç†ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ESFJ":"å ´ã‚’æ•´ãˆã€äººã‚’ã¤ãªãã€ç©ºæ°—ã‚’æ˜ã‚‹ãèª¿å¾‹ã™ã‚‹ã€Œèª¿å’Œã¨ç››ã‚Šä¸Šã’ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ISTP":"è¤‡é›‘ãªèª²é¡Œã‚’åˆ†è§£ã—ã€æœ€çŸ­ã§å½¢ã«ã™ã‚‹ã€Œå®Ÿå‹™æœ€é©åŒ–ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ISFP":"ç¾æ„è­˜ã¨æ„Ÿæ€§ã§ä¾¡å€¤ã‚’ç£¨ãã€ç¹Šç´°ã«è¡¨ç¾ã™ã‚‹ã€Œç¾ã¨å®Œæˆåº¦ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ESTP":"ãƒãƒ£ãƒ³ã‚¹ã‚’å—…ãåˆ†ã‘ã€é€Ÿã•ã§æ´ã¿å–ã‚Šã€æµã‚Œã‚’å¤‰ãˆã‚‹ã€Œæ©Ÿä¼šçªç ´ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "ESFP":"æ„Ÿæƒ…ã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼ã§äººã‚’å‹•ã‹ã—ã€ç©ºæ°—ã‚’ä¸€æ°—ã«èµ·å‹•ã•ã›ã‚‹ã€Œç†±é‡æ‹¡æ•£ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",
      "BAL":"ç›¸åã™ã‚‹è¦ç´ ã‚’èª¿åˆã—ã€çŠ¶æ³ã«åˆã‚ã›ã¦æœ€é©è§£ã¸å¯„ã›ã¦ã„ãã€Œçµ±åˆã¨é©å¿œã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚"
    };

    // ã‚¿ã‚¤ãƒ—ã”ã¨ã®ç”»åƒãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆæ€§åˆ¥å¯¾å¿œï¼‰- ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°
    const TYPE_IMAGES = {
      "INTJ": {
        male: "intj-male.jpg",
        female: "intj-female.jpg",
        other: ["intj-male.jpg", "intj-female.jpg"]
      },
      "INTP": {
        male: "intp-male.jpg",
        female: "intp-female.jpg",
        other: ["intp-male.jpg", "intp-female.jpg"]
      },
      "ENTJ": {
        male: "entj-male.jpg",
        female: "entj-female.jpg",
        other: ["entj-male.jpg", "entj-female.jpg"]
      },
      "ENTP": {
        male: "entp-male.jpg",
        female: "entp-female.jpg",
        other: ["entp-male.jpg", "entp-female.jpg"]
      },
      "INFJ": {
        male: "infj-male.jpg",
        female: "infj-female.jpg",
        other: ["infj-male.jpg", "infj-female.jpg"]
      },
      "INFP": {
        male: "infp-male.jpg",
        female: "infp-female.jpg",
        other: ["infp-male.jpg", "infp-female.jpg"]
      },
      "ENFJ": {
        male: "enfj-male.jpg",
        female: "enfj-female.jpg",
        other: ["enfj-male.jpg", "enfj-female.jpg"]
      },
      "ISFJ": {
        male: "isfj-male.jpg",
        female: "isfj-female.jpg",
        other: ["isfj-male.jpg", "isfj-female.jpg"]
      },
      "ESTJ": {
        male: "estj-male.jpg",
        female: "estj-female.jpg",
        other: ["estj-male.jpg", "estj-female.jpg"]
      },
      "ESFJ": {
        male: "esfj-male.jpg",
        female: "esfj-female.jpg",
        other: ["esfj-male.jpg", "esfj-female.jpg"]
      },
      "ISTP": {
        male: "istp-male.jpg",
        female: "istp-female.jpg",
        other: ["istp-male.jpg", "istp-female.jpg"]
      },
      "ISFP": {
        male: "isfp-male.jpg",
        female: "isfp-female.jpg",
        other: ["isfp-male.jpg", "isfp-female.jpg"]
      },
      "ESTP": {
        male: "estp-male.jpg",
        female: "estp-female.jpg",
        other: ["estp-male.jpg", "estp-female.jpg"]
      },
      "ESFP": {
        male: "esfp-male.jpg",
        female: "esfp-female.jpg",
        other: ["esfp-male.jpg", "esfp-female.jpg"]
      }
    };

    const TYPE_DETAILS = {
      "INTJ":{intro:"ã‚ãªãŸã¯ã€æ··ä¹±ã®ä¸­ã‹ã‚‰ã€Œå‹ã¡ç­‹ã€ã ã‘ã‚’æŠœãå‡ºã—ã€é™ã‹ã«æ§‹é€ ã¸å¤‰æ›ã§ãã‚‹äººã§ã™ã€‚æ„Ÿæƒ…ã«æµã•ã‚Œã‚‹ã‚ˆã‚Šã‚‚ã€åŸå› ã¨çµæœã€ãƒªã‚¹ã‚¯ã¨ãƒªã‚¿ãƒ¼ãƒ³ã‚’è¦‹ã¦åˆ¤æ–­ã—ã€å†ç¾æ€§ã®ã‚ã‚‹æˆæœã‚’ç©ã¿ä¸Šã’ã¾ã™ã€‚å‘¨å›²ãŒå‹¢ã„ã§å‹•ãã»ã©ã€ã‚ãªãŸã¯ä¸€æ®µä¸Šã‹ã‚‰å…¨ä½“ã‚’ä¿¯ç°ã—ã€çŸ›ç›¾ã‚„ç„¡é§„ã‚’è¦‹æŠœãã§ã—ã‚‡ã†ã€‚\\nä¸€æ–¹ã§ã€æ­£ã—ã•ã‚’å„ªå…ˆã—éãã‚‹ã¨ã€Œç†è§£ã•ã‚Œãªã„å­¤ç‹¬ã€ã«å…¥ã‚Šã‚„ã™ãã€å®Œç’§ä¸»ç¾©ãŒè¡Œå‹•é€Ÿåº¦ã‚’è½ã¨ã™ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®å¼·ã•ã¯ã€çµè«–ã®é‹­ã•ã ã‘ã§ãªãã€ãƒ—ãƒ­ã‚»ã‚¹ã‚’è¨­è¨ˆã—ç›´ã™åŠ›ã«ã‚ã‚Šã¾ã™ã€‚æœ€çŸ­ã§çµæœã‚’å‡ºã™éµã¯ã€80ç‚¹ã§å‡ºã—ã¦æ”¹å–„ã™ã‚‹å›è»¢æ•°ã‚’ç¢ºä¿ã™ã‚‹ã“ã¨ã€‚ã‚ãªãŸã¯é‹ã§ã¯ãªãã€è¨­è¨ˆã§æœªæ¥ã‚’å‹•ã‹ã›ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"æ··æ²Œâ†’ç§©åºã®è¨­è¨ˆè€…ã€‚è¤‡é›‘ãªç¾å®Ÿã‚’æ§‹é€ ã¨ã—ã¦å†æ§‹æˆã™ã‚‹åŠ›",strengths:"æˆ¦ç•¥ï¼ˆç›®çš„ã‹ã‚‰é€†ç®—ã—æœ€çŸ­ãƒ«ãƒ¼ãƒˆè¨­è¨ˆï¼‰ï¼æ§‹é€ åŒ–ï¼ˆè«–ç‚¹åˆ†è§£ã¨å³»åˆ¥ï¼‰ï¼æœ€é©åŒ–ï¼ˆå°‘ã‚³ã‚¹ãƒˆãƒ»ãƒªã‚¹ã‚¯ã§æˆæœé”æˆï¼‰ï¼ãƒªã‚¹ã‚¯è¨­è¨ˆï¼ˆå¤±æ•—ãƒ‘ã‚¿ãƒ¼ãƒ³å…ˆèª­ã¿ã¨æ¡ä»¶åˆ†å²ï¼‰ï¼ä»•çµ„ã¿åŒ–ï¼ˆæ‰‹é †æ›¸ãƒ»ãƒ«ãƒ¼ãƒ«ã§å†ç¾æ€§ç¢ºä¿ï¼‰",cautions:"å®Œç’§ä¸»ç¾©ã§é…ã‚Œã‚‹ï¼ˆ80ç‚¹ã§å‡ºã›ãšæ”¹å–„ã‚µã‚¤ã‚¯ãƒ«åœæ»ï¼‰ï¼æ­£è«–ãŒå¼·ãè¦‹ãˆã‚‹ï¼ˆè«–ç†å„ªå…ˆã§ç›¸æ‰‹ãŒå¦å®šã¨æ„Ÿã˜ã‚‹ï¼‰ï¼å­¤ç«‹ã§ç‡ƒãˆå°½ãã‚„ã™ã„ï¼ˆä»»ã›ã‚‹ã‚ˆã‚Šè‡ªåˆ†ã§ã€ã§è² è·é›†ä¸­ï¼‰",key:"80ç‚¹ã§å‡ºã™â†’æ”¹å–„ã§100ç‚¹ã€‚æœ€åˆã‹ã‚‰100ç‚¹ã‚’ç‹™ã‚ãšå¸‚å ´ã«å½“ã¦ã¦åå¿œã§ç£¨ãã€‚ä»»ã›ã‚‹æ™‚ã¯æ‰‹é †æ›¸1æšï¼ˆç›®çš„ï¼æ‰‹é †ï¼ä¾‹å¤–ï¼å®Œäº†æ¡ä»¶ï¼‰ã§è„³ã‚’è¤‡è£½",jobs:"æ–°è¦äº‹æ¥­é–‹ç™ºï¼PdMï¼æ¥­å‹™æ”¹å–„BPRï¼AIè‡ªå‹•åŒ–è¨­è¨ˆï¼ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰ãƒ»ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆï¼æˆ¦ç•¥ã‚³ãƒ³ã‚µãƒ«ï¼ãƒ‡ãƒ¼ã‚¿æˆ¦ç•¥ãƒ»KPIè¨­è¨ˆï¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆï¼PMOï¼B2Bã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆ",compatibility:"æ‹æ„›åŠ é€Ÿï¼ENTPï¼ˆç™ºæ•£ã¨åæŸãŒä¸¡ç«‹ï¼‰ï¼çµå©šå®‰å®šï¼INFJ/ISTJï¼ˆæ„å‘³ã¨é‹ç”¨ã‚’æ‹…ã†ï¼‰ï¼ä»•äº‹æœ€å¼·ï¼ENTJ/ESTJï¼ˆæ¨é€²åŠ›ã§è¨­è¨ˆã‚’å®Ÿè¡ŒåŒ–ï¼‰",action30:"â‘ åˆ¤æ–­ãƒ­ã‚°ï¼ˆç›®çš„/å‰æ/æ’¤é€€æ¡ä»¶ã‚’1è¡Œã§æ®‹ã™ï¼‰â‘¡Î²å…¬é–‹ã‚’2å›ï¼ˆå®Œæˆã‚’å¾…ãŸãšæ”¹å–„ç‚¹å›åï¼‰â‘¢ä»»ã›ã‚‹ã‚¿ã‚¹ã‚¯ã‚’1ã¤æ‰‹é †åŒ–ï¼ˆæ‰‹é †æ›¸1æšã§å§”è­²ï¼‰"},
      "INTP":{intro:"ã‚ãªãŸã¯ã€ç›®ã®å‰ã®å‡ºæ¥äº‹ã‚’ã€Œç¾è±¡ã€ã§ã¯ãªãã€ŒåŸç†ã€ã¨ã—ã¦æ‰ãˆã‚‹äººã§ã™ã€‚ãªãœãã†ãªã‚‹ã®ã‹ã€ã©ã®æ¡ä»¶ã§å†ç¾ã™ã‚‹ã®ã‹ã‚’æ¢ã‚‹ã“ã¨ã«å–œã³ãŒã‚ã‚Šã€ä¸–ã®ä¸­ã®å½“ãŸã‚Šå‰ã‚’åˆ†è§£ã—ã¦çœŸã®æ§‹é€ ã‚’è¦‹ã¤ã‘ã¾ã™ã€‚äººãŒè¦‹è½ã¨ã™æŠœã‘é“ã‚„æœ¬è³ªçš„ãªæ”¹å–„ç‚¹ã«æ°—ã¥ãã‚„ã™ãã€å•é¡ŒãŒè¤‡é›‘ã§ã‚ã‚‹ã»ã©ã‚ãªãŸã®æ€è€ƒã¯å†´ãˆã¦ã„ãã¾ã™ã€‚\\nãŸã ã—ã€è€ƒãˆã‚‹ã»ã©é¸æŠè‚¢ãŒå¢—ãˆã€æ±ºæ–­ãŒé…ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚å®Œç’§ãªç­”ãˆã‚’æ¢ã™ã‚ˆã‚Šã€ä»®èª¬ã‚’ç½®ã„ã¦æ¤œè¨¼ã™ã‚‹æ–¹ãŒã‚ãªãŸã®æ‰èƒ½ã¯é€Ÿãè¼ãã¾ã™ã€‚ã‚ãªãŸã«ã¨ã£ã¦æœ€å¼·ã®æ­¦å™¨ã¯ã€çŸ¥è­˜é‡ã§ã¯ãªãã€Œå•ã„ã®è³ªã€ã€‚æ­£ã—ã„å•ã„ã‚’ç«‹ã¦ãŸç¬é–“ã«ã€ä¸–ç•ŒãŒä¸€æ°—ã«æ•´ç†ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"çœŸç†ã‚’ãƒ¢ãƒ‡ãƒ«åŒ–ã™ã‚‹æ¢ç©¶è€…ã€‚ç¾è±¡ã‚’æŠ½è±¡åŒ–ã—æ§‹é€ ã¨ã—ã¦ç†è§£",strengths:"åˆ†æï¼ˆå› æœã‚’è¦‹æŠœãï¼‰ï¼æŠ½è±¡åŒ–ï¼ˆå€‹åˆ¥äº‹è±¡ã®å…±é€šæ§‹é€ ã‚’æŠ½å‡ºï¼‰ï¼è«–ç‚¹æ•´ç†ï¼ˆäº‰ç‚¹ã«æˆ»ã—ç„¡é§„å‰Šæ¸›ï¼‰ï¼æŠ€è¡“ç†è§£ï¼ˆä»•çµ„ã¿ç†è§£ã§å¿œç”¨åŠ›ï¼‰ï¼åè¨¼æ€è€ƒï¼ˆä»®èª¬ã‚’ç–‘ã„ç²¾åº¦å‘ä¸Šï¼‰",cautions:"æ±ºæ–­ãŒé…ã‚Œã‚‹ï¼ˆç´å¾—æ¡ä»¶é«˜ãæƒ…å ±åé›†å»¶é•·ï¼‰ï¼ç”Ÿæ´»ã®ç´°éƒ¨ãŒå¾Œå›ã—ï¼ˆæ—¥å¸¸ã®ä¹±ã‚Œã§æ€è€ƒè³ªä½ä¸‹ï¼‰ï¼è€ƒãˆã™ãåœæ­¢ï¼ˆæœ€é©è§£æ¢ã—ã§å®Ÿé¨“é…å»¶ï¼‰",key:"ç· åˆ‡ï¼‹å®Ÿé¨“ï¼ˆ2é€±é–“ãƒ«ãƒ¼ãƒ«ï¼‰ã€‚2é€±é–“1ã‚µã‚¤ã‚¯ãƒ«ã§ä»®èª¬â†’æœ€å°å®Ÿé¨“â†’çµæœâ†’æ›´æ–°ã‚’å›ã™ã€‚ç”Ÿæ´»ã¯è‡ªå‹•åŒ–ãƒ»å›ºå®šåŒ–ã—æ€è€ƒè³‡æºã‚’æœ¬é¡Œã¸",jobs:"ç ”ç©¶é–‹ç™ºR&Dï¼ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ»ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ï¼ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ï¼ˆåŸºç›¤ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰ï¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è¨­è¨ˆï¼QAãƒ»ãƒ†ã‚¹ãƒˆè¨­è¨ˆï¼ç›£æŸ»ãƒ»æ¤œè¨¼ï¼æŠ€è¡“èª¿æŸ»ãƒ»ãƒªã‚µãƒ¼ãƒï¼ãƒŠãƒ¬ãƒƒã‚¸è¨­è¨ˆï¼PoCæ‹…å½“ï¼æŠ€è¡“ã‚³ãƒ³ã‚µãƒ«ï¼ˆæ·±æ˜ã‚Šå‹ï¼‰",compatibility:"çŸ¥çš„å…±åŒä½“ï¼INTJï¼ˆæ€è€ƒé€Ÿåº¦ã¨æ·±åº¦ãŒåˆã†ï¼‰ï¼æ¸©åº¦è£œå®Œï¼ENFJ/INFJï¼ˆæ„Ÿæƒ…é¢ã‚±ã‚¢ãƒ»å¯¾äººèª¿æ•´ï¼‰ï¼åˆºæ¿€ï¼ENTPï¼ˆç™ºæ•£ã§ãƒ¢ãƒ‡ãƒ«åŒ–åŠ é€Ÿï¼‰",action30:"â‘ é€±1ç· åˆ‡è¨­å®šï¼ˆæå‡ºç‰©å°ã•ãã¦è‰¯ã„ï¼‰â‘¡æœ€å°æˆæœç‰©å…¬é–‹ã—ç¾å®Ÿåå¿œã§ãƒ¢ãƒ‡ãƒ«æ›´æ–°â‘¢ç”Ÿæ´»ãƒ«ãƒ¼ãƒãƒ³1ã¤å›ºå®šï¼ˆç¡çœ ãƒ»é£Ÿäº‹ãƒ»ä½œæ¥­é–‹å§‹å„€å¼ï¼‰"},
      "ENTJ":{intro:"ã‚ãªãŸã¯ã€ç›®æ¨™ã‚’æ²ã’ãŸç¬é–“ã‹ã‚‰ä¸–ç•Œã‚’å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆã‚‰ã‚Œã‚‹äººã§ã™ã€‚æ„æ€æ±ºå®šãŒæ—©ãã€ç¾å ´ã®åœæ»ã‚’å«Œã„ã€æœ€çŸ­è·é›¢ã§æˆæœã«åˆ°é”ã™ã‚‹é“ç­‹ã‚’ä½œã‚Šã¾ã™ã€‚äººã‚„è³‡æºã‚’é©åˆ‡ã«é…ç½®ã—ã€æ›–æ˜§ãªçŠ¶æ³ã§ã‚‚ã€Œã‚„ã‚‹ã“ã¨ã€ã‚’å…·ä½“åŒ–ã—ã¦å‰ã«é€²ã‚ã‚‹æ¨é€²åŠ›ãŒã‚ã‚Šã¾ã™ã€‚\\nä¸€æ–¹ã§ã€å‘¨å›²ã®æ„Ÿæƒ…ã‚„ãƒšãƒ¼ã‚¹ã‚’ç½®ãå»ã‚Šã«ã™ã‚‹ã¨ã€å”åŠ›ãŒå¾—ã«ãããªã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®å¼·ã¿ã¯å¼·ã•ãã®ã‚‚ã®ã§ã™ãŒã€çœŸã«å¤§ããªæˆæœã¯å‘³æ–¹ã‚’å¢—ã‚„ã™è¨­è¨ˆã§ã•ã‚‰ã«ä¼¸ã³ã¾ã™ã€‚å‹åˆ©ã®å®šç¾©ã‚’æ˜ç¢ºã«ã—ã€å½¹å‰²ã¨è©•ä¾¡åŸºæº–ã‚’æ•´ãˆãŸã¨ãã€ã‚ãªãŸã¯çµ„ç¹”ã®ã‚¨ãƒ³ã‚¸ãƒ³ã«ãªã‚Šã¾ã™ã€‚ã‚ãªãŸã¯ã€Œã§ãã‚‹ã€ã ã‘ã§ãªãã€ã€Œé”æˆã•ã›ã‚‹ã€äººã§ã™ã€‚",essence:"æ¨é€²ã¨çµ±ç‡ã®æŒ‡æ®å®˜ã€‚å‹ã¤ãŸã‚ã®æ„æ€æ±ºå®šã¨å®Ÿè¡Œä½“åˆ¶æ§‹ç¯‰",strengths:"å³æ–­ï¼äº¤æ¸‰ï¼çµ±ç‡ï¼å„ªå…ˆåº¦ä»˜ã‘ï¼æˆæœè²¬ä»»ã€‚èª°ã‚‚æ±ºã‚ã‚‰ã‚Œãªã„å±€é¢ã»ã©ä¾¡å€¤ãŒä¸ŠãŒã‚Šåœæ»è§£æ¶ˆ",cautions:"åœ§ãŒå¼·ãè¦‹ãˆã‚‹ï¼ˆåˆç†æ€§é«˜ã„ã»ã©å¿ƒã‚’è¦‹ã¦ã„ãªã„ã¨æ„Ÿã˜ã‚‰ã‚Œã‚‹ï¼‰ï¼ç–²åŠ´ã§é›‘ã«ãªã‚‹ï¼ˆåˆ¤æ–­é€Ÿåº¦è½ã¡æŒ‡ç¤ºç²¾åº¦ä½ä¸‹ï¼‰ï¼æ„Ÿæƒ…é¢ã®å–ã‚Šã“ã¼ã—ï¼ˆæˆæœé›†ä¸­ã§ç´å¾—ãƒ»ä¸å®‰ãŒç½®ãå»ã‚Šï¼‰",key:"ã€Œç›®çš„ã€ã¨ã€Œæ„Ÿè¬ã€ã®è¨€èªåŒ–ã€‚æ¨é€²åŠ›ã‚’æ”¯æŒã«å¤‰ãˆã‚‹ã€‚æ¨©é™å§”è­²è¨­è¨ˆã§ç«åŠ›ãŒé•·æœŸæŒç¶šã—ç–²åŠ´ã«ã‚ˆã‚‹å“è³ªä½ä¸‹é˜²æ­¢",jobs:"äº‹æ¥­è²¬ä»»è€…ï¼å–¶æ¥­çµ±æ‹¬ï¼PMï¼ˆå¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰ï¼çµ„ç¹”æ”¹é©ï¼å±æ©Ÿå¯¾å¿œï¼ˆå¯¾ç­–æœ¬éƒ¨ï¼‰ï¼ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—çµŒå–¶ï¼ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµ±æ‹¬ï¼ã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ï¼æ¡ç”¨ãƒ»äººææˆ¦ç•¥ï¼æˆ¦ç•¥å®Ÿè¡Œã‚³ãƒ³ã‚µãƒ«",compatibility:"æ‹æ„›ã¯å°Šæ•¬ã¨å¯¾ç­‰æ€§ï¼çµå©šã¯å®¶åº­é‹ç”¨åˆæ„ã§å®‰å®šï¼ä»•äº‹ã¯INTJæˆ¦ç•¥è£œå®Œã§ã‚ãªãŸãŒå®Ÿè¡Œæ‹…å½“ã§æœ€å¼·",action30:"â‘ é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æ‘©æ“¦ã‚’å…ˆã«æ½°ã™â‘¡ä»»ã›ã‚‹é ˜åŸŸ1ã¤æ±ºã‚æ¨©é™ã¨æœŸå¾…æ˜æ–‡åŒ–â‘¢ã€ŒæœŸå¾…ã€ã‚’è¨€è‘‰ã«ã—ã‚ºãƒ¬å‰Šæ¸›"},
      "ENTP":{intro:"ã‚ãªãŸã¯ã€å›ºå®šè¦³å¿µã‚’ç ´ã‚‹ç¬é–“ã«æœ€ã‚‚ç”Ÿãç”Ÿãã™ã‚‹äººã§ã™ã€‚ã€Œãã‚Œã€æœ¬å½“ã«ãã†ï¼Ÿã€ã¨ã„ã†ä¸€è¨€ã§ç©ºæ°—ã‚’å¤‰ãˆã€æ–°ã—ã„é¸æŠè‚¢ã‚’å¢—ã‚„ã—ã¦æœªæ¥ã‚’åºƒã’ã¾ã™ã€‚ç™ºæƒ³ãŒé€Ÿãã€è¦–ç‚¹ãŒå¤šãã€è­°è«–ã‚„è©¦ä½œã‚’é€šã˜ã¦ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç£¨ãä¸Šã’ã‚‹ã®ãŒå¾—æ„ã§ã™ã€‚\\nãŸã ã—ã€åˆºæ¿€ãŒæ¸›ã‚‹ã¨é£½ãã‚„ã™ãã€ä»•ä¸Šã’ã®å·¥ç¨‹ã§ç†±é‡ãŒè½ã¡ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®æ‰èƒ½ã¯æ€ã„ã¤ãã§ã¯ãªãã€ä»–äººãŒæ€–ãŒã‚‹å¤‰åŒ–ã‚’é¢ç™½ãŒã‚Œã‚‹èƒ†åŠ›ã«ã‚ã‚Šã¾ã™ã€‚ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è³‡ç”£ã«å¤‰ãˆã‚‹éµã¯ã€ç· åˆ‡ã¨æ¤œè¨¼ã®ä»•çµ„ã¿ã‚’å…ˆã«ç”¨æ„ã™ã‚‹ã“ã¨ã€‚ã‚ãªãŸã¯ã€ä¸–ç•Œã‚’æºã‚‰ã—ã¦é€²åŒ–ã‚’èµ·ã“ã™ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"ç™ºæƒ³ã¨å¤‰é©ã®è§¦åª’ã€‚å•é¡Œã®å†å®šç¾©ã§åˆ¥ã®å‹ã¡ç­‹æç¤º",strengths:"ç™ºæ•£ï¼ä¼ç”»ï¼è­°è«–å‰µé€ ï¼äº¤æ¸‰ï¼å•é¡Œç™ºè¦‹ã€‚å‰æã‚’æºã‚‰ã™åŠ›ã§åœæ»ã—ãŸå ´ã®ç©ºæ°—ã‚’å¤‰ãˆã‚‹",cautions:"é£½ãã‚‹ï¼é›‘ã«ãªã‚Šã‚„ã™ã„ï¼ç©ºä¸­æˆ¦ã§çµ‚ã‚ã‚‹ã€‚ç™ºæƒ³ãŒé€Ÿãå®Ÿè£…ã¨é‹ç”¨ãŒè¿½ã„ã¤ã‹ãªã„ã¨å£ã ã‘è©•ä¾¡",key:"48æ™‚é–“ç™ºæ•£â†’åæŸä¼šè­°â†’æœ€å°å®Ÿè£…ã€‚ç™ºæ•£æœŸé™ã‚’ä½œã‚ŠåæŸä¼šè­°ã§ä½•ã‚’æ¨ã¦ã‚‹ã‹æ±ºå®šã—æœ€å°å®Ÿè£…ã§ç¾å®Ÿã«å½“ã¦ã‚‹ã€‚æ ãŒã‚ã‚‹ã»ã©è‡ªç”±ã«é£›ã¹ã‚‹",jobs:"æ–°è¦ä¼ç”»ï¼èµ·æ¥­ï¼åºƒå‘ŠPRï¼ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚¹ï¼ææ¡ˆå–¶æ¥­ï¼ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é‹å–¶ï¼ã‚³ãƒ³ã‚µãƒ«ï¼ˆå¤‰é©ï¼‰ï¼PoCæ‹…å½“ï¼ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆä¼ç”»ï¼äº¤æ¸‰ãƒ»ã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹",compatibility:"æ‹æ„›åŠ é€Ÿï¼INTJï¼ˆã‚ãªãŸãŒç¾å®ŸåæŸã—ç›¸æ‰‹ã«ç™ºæƒ³è‡ªç”±ï¼‰ï¼çµå©šã¯è‡ªç”±äºˆç®—æ ãªã©ãƒ«ãƒ¼ãƒ«åŒ–ãŒéµï¼ä»•äº‹ã¯ESTJé‹ç”¨ã§ä¼ç”»ãŒæˆæœåŒ–åŠ é€Ÿ",action30:"â‘ å®Œäº†å®šç¾©ã‚’å…ˆã«ç½®ãï¼ˆå‹ã¡çŠ¶æ…‹ã‚’è¨€èªåŒ–ï¼‰â‘¡é€±1ã§æœ€å°æˆæœç‰©å‡ºã™â‘¢åæŸå½¹ï¼ˆç›¸æ£’ï¼‰ã‚’æ±ºã‚ã‚‹"},
      "INFJ":{intro:"ã‚ãªãŸã¯ã€äººã®å¿ƒã®å¥¥ã«ã‚ã‚‹ã€Œæœ¬å½“ã®é¡˜ã„ã€ã‚’è¨€èªåŒ–ã§ãã‚‹äººã§ã™ã€‚ç›¸æ‰‹ãŒè‡ªè¦šã—ã¦ã„ãªã„æ„Ÿæƒ…ã‚„ã€æœªæ¥ã®åˆ†å²ç‚¹ã‚’é™ã‹ã«è¦‹æŠœãã€å¿…è¦ãªä¸€è¨€ã‚’å±Šã‘ã¾ã™ã€‚è¡¨é¢ã®ä¼šè©±ã‚ˆã‚Šã‚‚æ„å‘³ã‚„èƒŒæ™¯ã‚’å¤§åˆ‡ã«ã—ã€äººç”Ÿã®ç‰©èªã¨ã—ã¦ä¸–ç•Œã‚’ç†è§£ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚\\nãã®ç¹Šç´°ã•ã‚†ãˆã«ã€æœŸå¾…ã«å¿œãˆç¶šã‘ã¦æ¶ˆè€—ã—ãŸã‚Šã€ç†æƒ³ã¨ç¾å®Ÿã®å·®ã«å‚·ã¤ãã“ã¨ã‚‚ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚ã‚ãªãŸã®å¼·ã¿ã¯å…±æ„Ÿã ã‘ã§ãªãã€ä¿¡å¿µã«æ²¿ã£ãŸå°ãã‚’ä½œã‚Œã‚‹ã“ã¨ã§ã™ã€‚å¢ƒç•Œç·šï¼ˆã‚„ã‚‰ãªã„ã“ã¨ï¼‰ã‚’æ±ºã‚ãŸã¨ãã€ã‚ãªãŸã®å„ªã—ã•ã¯é‹­ã„åŠ›ã«ãªã‚Šã¾ã™ã€‚ã‚ãªãŸã¯ã€Œç™’ã™äººã€ã§ã‚ã‚ŠãªãŒã‚‰ã€ã€Œæ–¹å‘ã‚’å®šã‚ã‚‹äººã€ã§ã‚‚ã‚ã‚Šã¾ã™ã€‚",essence:"æ„å‘³ã¨æœªæ¥ã®ç¿»è¨³è€…ã€‚ç¾çŠ¶ã‚’ä¾¡å€¤è¦³ãƒ»ç‰©èªãƒ»æœªæ¥åƒã«æ¥ç¶š",strengths:"æ´å¯Ÿï¼å…±æ„Ÿï¼ç†å¿µåŒ–ï¼æ–‡ç« åŒ–ï¼è‚²æˆã€‚ä½•ãŒæœ¬å½“ã®å•é¡Œã‹ã‚’è¦‹æŠœãç›¸æ‰‹ãŒå‰ã«é€²ã‚ã‚‹å½¢ã«ç¿»è¨³",cautions:"æŠ±ãˆè¾¼ã¿ï¼ç†æƒ³ç–²ã‚Œï¼æ¶ˆè€—ã‚’éš ã™ã€‚å„ªã—ã•ãŒå¼·ã„ã»ã©å¢ƒç•Œç·šæ›–æ˜§ã«ãªã‚Šé•·æœŸã§ç‡ƒãˆå°½ã",key:"å¢ƒç•Œç·šï¼‹å›å¾©æ—¥ã‚’å…ˆã«ç¢ºä¿ã€‚åŠ©ã‘ã‚‹ç¯„å›²ã‚’æ±ºå®šã€‚è©±ã™é †ç•ªã¯ã€Œæ„å‘³â†’ç¾å®Ÿã€ã§ç†å¿µãƒ»ç›®çš„ã‚’å…ˆã«ç½®ãã¨èª¬å¾—åŠ›æœ€å¤§åŒ–",jobs:"æ•™è‚²ï¼ˆæˆé•·ãƒ—ãƒ­ã‚»ã‚¹è¨­è¨ˆï¼‰ï¼ã‚³ãƒ¼ãƒãƒ³ã‚°ï¼ˆæ´å¯Ÿã¨è¨€èªåŒ–ï¼‰ï¼ç·¨é›†ãƒ»ãƒ©ã‚¤ã‚¿ãƒ¼ï¼ˆæ„å‘³ã‚’æ–‡ç« åŒ–ï¼‰ï¼åºƒå ±ãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰ï¼ˆç†å¿µã‚’ç¾å®Ÿã®è¨€è‘‰ã¸ï¼‰ï¼UXãƒªã‚µãƒ¼ãƒï¼ˆçŸ›ç›¾ãƒ»æœ¬éŸ³ã‚’æ´å¯ŸåŒ–ï¼‰ï¼çµ„ç¹”é–‹ç™ºï¼ˆæ–‡åŒ–ã¨é–¢ä¿‚æ€§ã‹ã‚‰æˆæœï¼‰ï¼äººäº‹è‚²æˆï¼ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¨­è¨ˆï¼ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆä¼ç”»ï¼ˆæ„å‘³é‡è¦–ï¼‰ï¼ãƒ¡ãƒ³ã‚¿ãƒªãƒ³ã‚°",compatibility:"çµå©šå®‰å®šï¼INTJ/ISFJï¼æ‹æ„›ã¯è¨€è‘‰ã®å®‰å…¨é‡è¦ï¼ä»•äº‹ã¯ENTJã¨çµ„ã‚€ã¨ã‚ãªãŸãŒæ–¹å‘æ•´ãˆç›¸æ‰‹ãŒæ¨é€²ã—æˆæœåŒ–",action30:"â‘ é€±1å›å¾©æ—¥â‘¡æŠ±ãˆã‚‹æ¡ˆä»¶1ã¤æ‰‹æ”¾ã™â‘¢æœ›ã‚€æœªæ¥ã‚’æ–‡ç« åŒ–ï¼ˆåˆ¤æ–­è»¸åŒ–ï¼‰"},
      "INFP":{intro:"ã‚ãªãŸã¯ã€ç›®ã«è¦‹ãˆãªã„ä¾¡å€¤ã‚’ä¿¡ã˜ç¶šã‘ã‚‰ã‚Œã‚‹äººã§ã™ã€‚äººã®ç—›ã¿ã‚„å–œã³ã«æ·±ãå…±é³´ã—ã€ã€Œã“ã®äººã®äººç”Ÿã«æ„å‘³ãŒã‚ã‚‹ã€ã¨æœ¬æ°—ã§æ€ãˆã‚‹å„ªã—ã•ã‚’æŒã£ã¦ã„ã¾ã™ã€‚è¡¨é¢çš„ãªåŠ¹ç‡ã‚ˆã‚Šã‚‚ã€ç´å¾—æ„Ÿã‚„èª å®Ÿã•ã‚’é‡è¦–ã—ã€å˜˜ã®ãªã„é¸æŠã‚’ã—ãŸã„ã¨é¡˜ã†ã§ã—ã‚‡ã†ã€‚\\nå‰µé€ æ€§ãŒè±Šã‹ãªã¶ã‚“ã€ç¾å®Ÿã®é›‘éŸ³ã«ç–²ã‚Œã‚„ã™ãã€ç†æƒ³ãŒé«˜ãã¦ä¸€æ­©ç›®ãŒé‡ããªã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ã‚ãªãŸã®æ„Ÿæ€§ã¯èª°ã‹ã®å¿ƒã‚’æ•‘ã„ã€ä¸–ç•Œã®è¦‹ãˆæ–¹ã‚’å¤‰ãˆã‚‹åŠ›ãŒã‚ã‚Šã¾ã™ã€‚å¤§åˆ‡ãªã®ã¯ã€å®Œç’§ã«æ•´ã£ã¦ã‹ã‚‰å‹•ãã®ã§ã¯ãªãã€å°ã•ãå¤–ã«å‡ºã—ã¦è‚²ã¦ã‚‹ã“ã¨ã€‚ã‚ãªãŸã¯ã€é™ã‹ãªç†±ã§äººã®ç”Ÿãæ–¹ã‚’ç…§ã‚‰ã™ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"ä¾¡å€¤è¦³ã®å®ˆã‚Šæ‰‹ã€‚ä¾¡å€¤è¦³ã®ç´”åº¦ã‚’é‡è¦–ã—æˆæœã‚ˆã‚Šç´å¾—ãƒ»åŠ¹ç‡ã‚ˆã‚Šèª å®Ÿ",strengths:"å…±æ„Ÿï¼å‰µä½œï¼èª å®Ÿï¼ä¸–ç•Œè¦³ï¼äººã®ç—›ã¿ç†è§£ã€‚å¿ƒã‚’æ‰±ã†é ˜åŸŸã§æ·±ã•ãŒãã®ã¾ã¾ä¾¡å€¤",cautions:"è‡ªå·±å¦å®šï¼å‚·ã¤ãã‚„ã™ã•ï¼ç¾å®Ÿå‡¦ç†ã®å…ˆå»¶ã°ã—ã€‚ç¾å®Ÿã‚¿ã‚¹ã‚¯æºœã¾ã‚‹ã»ã©å¿ƒå‰Šã‚Œã•ã‚‰ã«å‹•ã‘ãªããªã‚‹",key:"å°ã•ãªé”æˆã‚’ç©ã‚€ã€‚NOã¨è¨€ã†å¢ƒç•Œç·šã‚’æŒã¤ã€‚å¤§ããªå¤¢ã‚ˆã‚Šå°ã•ãªå®Œäº†ã€‚NOã®åŸºæº–ãŒå¿ƒã‚’å®ˆã‚Šç¶™ç¶šã‚’ä½œã‚‹",jobs:"ç·¨é›†ãƒ»ãƒ©ã‚¤ã‚¿ãƒ¼ï¼ˆä¾¡å€¤è¦³ã‚’è¨€è‘‰åŒ–ï¼‰ï¼ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆä¸–ç•Œè¦³ã‚’å½¢åŒ–ï¼‰ï¼æ•™è‚²å€‹åˆ¥æ”¯æ´ï¼ˆå¿ƒã«åˆã‚ã›ã¦æ”¯æ´ï¼‰ï¼ç¦ç¥‰ãƒ»æ”¯æ´ï¼ˆç—›ã¿ç†è§£ã—å¯„ã‚Šæ·»ã„ï¼‰ï¼ã‚³ãƒŸãƒ¥é‹å–¶ï¼ˆå®‰å¿ƒã®å ´ä½œã‚Šï¼‰ï¼ä¼ç”»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å‹ï¼ˆæ„å‘³ã‚ã‚‹ä½“é¨“ï¼‰ï¼CSå…±æ„Ÿå‹ï¼ˆæœ¬éŸ³æ‹¾ã„ï¼‰ï¼ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ï¼ˆæ„Ÿæƒ…ã‚’ä½œå“åŒ–ï¼‰ï¼ãƒ–ãƒ©ãƒ³ãƒ‰æ€æƒ³é‡è¦–ï¼å®šæ€§ãƒªã‚µãƒ¼ãƒ",compatibility:"å®‰å¿ƒï¼ISFJ/INFJï¼ç¾å®Ÿè£œå®Œï¼ESTJï¼åˆºæ¿€ï¼ENFP",action30:"â‘ é€±1ã€Œå®Œäº†ã€ä½œã‚‹â‘¡å°ã•ãå…¬é–‹ï¼ˆä½œå“ãƒ»ç™ºä¿¡ï¼‰â‘¢æ–­ã‚‹åŸºæº–ã‚’ä¸€æ–‡ã§å›ºå®š"},
      "ENFJ":{intro:"ã‚ãªãŸã¯ã€äººã®å¯èƒ½æ€§ã«ç«ã‚’ã¤ã‘ã‚‹ã®ãŒå¾—æ„ãªäººã§ã™ã€‚ç›¸æ‰‹ãŒè‡ªä¿¡ã‚’å¤±ã£ã¦ã„ã‚‹ã¨ãã§ã‚‚ã€é•·æ‰€ã‚„ä¼¸ã³ã—ã‚ã‚’è¦‹ã¤ã‘ã¦è¨€è‘‰ã«ã—ã€å‰ã¸é€²ã‚€å‹‡æ°—ã‚’æ¸¡ã›ã¾ã™ã€‚å ´ã®ç©ºæ°—ã‚’èª­ã¿ã€é–¢ä¿‚æ€§ã‚’æ•´ãˆã€ãƒãƒ¼ãƒ ã‚„ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®æ¸©åº¦ã‚’ä¸Šã’ã‚‹åŠ›ãŒã‚ã‚Šã¾ã™ã€‚\\nãŸã ã—ã€æœŸå¾…ã«å¿œãˆç¶šã‘ã‚‹ã¨è‡ªåˆ†ã®é™ç•Œã‚’è¶…ãˆã¦ã—ã¾ã„ã€ç‡ƒãˆå°½ãã‚„ã™ã„é¢ã‚‚ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚ã‚ãªãŸã®å¼·ã•ã¯ã€å„ªã—ã•ã€Ÿã ã‘ã§ã¯ãªãã€ç›®æ¨™ã¾ã§ä¼´èµ°ã§ãã‚‹çµ±ç‡åŠ›ã«ã‚‚ã‚ã‚Šã¾ã™ã€‚è‡ªåˆ†ã‚’å®ˆã‚‹ãƒ«ãƒ¼ãƒ«ï¼ˆä¼‘ã‚€ãƒ»æ–­ã‚‹ãƒ»é ¼ã‚‹ï¼‰ã‚’æŒã¤ã¨ã€å½±éŸ¿åŠ›ã¯ã•ã‚‰ã«å®‰å®šã—ã¾ã™ã€‚ã‚ãªãŸã¯ã€èª°ã‹ã‚’å¤‰ãˆã‚‹ã ã‘ã§ãªãã€å ´ãã®ã‚‚ã®ã‚’å¤‰ãˆã‚‹äººã§ã™ã€‚",essence:"äººã‚’ä¼¸ã°ã™çµ±ç‡è€…ã€‚è‚²æˆã¨èª¿æ•´ã§äººã®ä¸å®‰ãƒ»è¿·ã„ãƒ»ã‚ºãƒ¬ã‚’è¨€èªåŒ–ã—è¡Œå‹•å¯èƒ½åŒ–",strengths:"å…±æ„Ÿï¼è‚²æˆï¼èª¿æ•´ï¼ç™ºä¿¡ï¼ãƒãƒ¼ãƒ å½¢æˆã€‚é–¢ä¿‚æ€§ã®æ‘©æ“¦ã‚’æ¸›ã‚‰ã—æˆæœã‚’ç¶™ç¶š",cautions:"è‡ªå·±çŠ ç‰²ï¼æ–­ã‚Œãªã„ï¼å…¨å“¡ã‚’æ•‘ãŠã†ã¨ã™ã‚‹ã€‚å¯¾è±¡ã‚’çµã‚‰ãªã„ã¨ã‚ãªãŸãŒå…ˆã«æ¶ˆè€—",key:"å¯¾è±¡ã‚’çµã‚‹ã€‚å½¹å‰²åˆ†æ‹…ã§è² è·å‰Šæ¸›ã€‚æ•‘ã†ç¯„å›²æ±ºå®šã¨ä»»ã›ã‚‹è¨­è¨ˆã§ã‚ãªãŸã®å½±éŸ¿åŠ›å¢—å¤§",jobs:"ç®¡ç†è·è‚²æˆå‹ï¼ˆäººã‚’ä¼¸ã°ã—æˆæœï¼‰ï¼æ•™è‚²ãƒ»ç ”ä¿®ï¼ˆå­¦ç¿’è¨­è¨ˆã¨å‹•æ©Ÿã¥ã‘ï¼‰ï¼äººäº‹è‚²æˆï¼ˆå€‹ã¨çµ„ç¹”æ¥ç¶šï¼‰ï¼CSçµ±æ‹¬ï¼ˆç¾å ´ã®ç©ºæ°—æ•´ãˆå“è³ªå‘ä¸Šï¼‰ï¼åºƒå ±ï¼ˆå…±æ„Ÿç™ºä¿¡ï¼‰ï¼ã‚³ãƒŸãƒ¥ãƒãƒï¼ˆå ´ã¥ãã‚Šï¼‰ï¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¨é€²èª¿æ•´å½¹ï¼ˆé–¢ä¿‚è€…ã‚’å‰ã¸ï¼‰ï¼ã‚³ãƒ¼ãƒï¼ˆè¡Œå‹•å¤‰å®¹æ”¯æ´ï¼‰ï¼ä¿¡é ¼å‹å–¶æ¥­ï¼ˆé•·æœŸé–¢ä¿‚ã§æˆæœï¼‰ï¼çµ„ç¹”é–‹ç™ºï¼ˆæ–‡åŒ–æ•´ãˆæˆæœï¼‰",compatibility:"æˆ¦ç•¥è£œå®Œï¼INTJï¼åˆºæ¿€ï¼ENTPï¼å®‰å¿ƒï¼ISFJ",action30:"â‘ è² è·æ£šå¸ã—â‘¡ã€Œä»»ã›ã‚‹ã€å®£è¨€1å›â‘¢æˆæœã¨æ„Ÿè¬ã‚’è¨€èªåŒ–ã—å¾ªç’°ä½œã‚‹"},
      "ENFP":{intro:"ã‚ãªãŸã¯ã€äººç”Ÿã«ã€ã¾ã è¦‹ã¬å¯èƒ½æ€§ã€Ÿã‚’è¦‹ã¤ã‘ã‚‹å¤©æ‰ã§ã™ã€‚äººã®é­…åŠ›ã‚„æœªæ¥ã®èŠ½ã«ã™ãæ°—ã¥ãã€è¨€è‘‰ã¨è¡Œå‹•ã§ä¸€æ°—ã«ä¸–ç•Œã‚’åºƒã’ã¾ã™ã€‚å¥½å¥‡å¿ƒãŒå¼·ãã€å‡ºä¼šã„ã¨ä½“é¨“ã‚’é€šã˜ã¦è‡ªåˆ†è‡ªèº«ã‚‚é€²åŒ–ã—ã¦ã„ãã§ã—ã‚‡ã†ã€‚\\nä¸€æ–¹ã§ã€èˆˆå‘³ãŒæ•£ã‚‰ã°ã‚‹ã¨è¨ˆç”»ãŒå´©ã‚Œã‚„ã™ãã€ç†±é‡ã®æ³¢ã«æŒ¯ã‚Šå›ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®æ­¦å™¨ã¯æ‰èƒ½ã®å¤šã•ã§ã¯ãªãã€ã€Œå§‹ã‚ã‚‹åŠ›ã€ã¨ã€Œå·»ãè¾¼ã‚€åŠ›ã€ã§ã™ã€‚ç¶™ç¶šã®éµã¯ã€è‡ªç”±ã‚’å¥ªã†ç®¡ç†ã§ã¯ãªãã€æ¥½ã—ãç¶šã‘ã‚‰ã‚Œã‚‹ä»•çµ„ã¿ã‚’ç½®ãã“ã¨ã€‚ã‚ãªãŸã¯ã€ç©ºæ°—ã‚’å¤‰ãˆã€äººç”Ÿã®è‰²ã‚’å¢—ã‚„ã™ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"å¯èƒ½æ€§ã®ç‚¹ç«å½¹ã€‚äººã®å¯èƒ½æ€§ã‚’è¦‹æŠœãè¨€è‘‰ã§ç«ã‚’ã¤ã‘å ´ã®æ¸©åº¦ã‚’ä¸Šã’ã‚‹",strengths:"å…±æ„Ÿï¼ç™ºä¿¡ï¼å·»ãè¾¼ã¿ï¼ä¼ç”»ï¼ã‚³ãƒŸãƒ¥å½¢æˆ",cautions:"æ•£æ¼«ï¼æ„Ÿæƒ…ã®æ³¢ï¼ç¶™ç¶šãŒé›£ã—ã„ã€‚æ°—åˆ†ã§ã¯ãªãç¿’æ…£ã«åˆã‚ã›ã‚‹è¨­è¨ˆãŒå¿…è¦",key:"ãƒ†ãƒ¼ãƒ3æœ¬æŸ±å›ºå®šã€‚å›å¾©æ‰‹é †ã‚’äº‹å‰æ±ºå®šã€‚ã‚„ã‚‹ã“ã¨å¢—ã‚„ã™ã‚ˆã‚ŠæŸ±å›ºå®šã€‚è½ã¡ãŸæ™‚ã®å›å¾©æ‰‹é †ï¼ˆç¡çœ ãƒ»æ•£æ­©ãƒ»ç›¸è«‡å…ˆï¼‰",jobs:"SNSåºƒå ±ï¼ˆå…±é³´ç™ºä¿¡ï¼‰ï¼ã‚³ãƒŸãƒ¥é‹å–¶ï¼ˆäººã¨äººã¤ãªãï¼‰ï¼ä¼ç”»è·ï¼ˆæ–°ä½“é¨“è¨­è¨ˆï¼‰ï¼æ¡ç”¨åºƒå ±ï¼ˆé­…åŠ›ã®è¨€èªåŒ–ï¼‰ï¼å…±æ„Ÿå‹å–¶æ¥­ï¼ˆç†æƒ³å¼•ãå‡ºã—ææ¡ˆï¼‰ï¼ã‚¤ãƒ™ãƒ³ãƒˆä¼ç”»ï¼ˆå ´ã®æ¸©åº¦ä½œã‚Šï¼‰ï¼CSé–¢ä¿‚æ§‹ç¯‰å‹ï¼ˆé•·æœŸä¿¡é ¼è‚²æˆï¼‰ï¼æ•™è‚²ãƒ¢ãƒãƒ™æ”¯æ´ï¼ˆã‚„ã‚‹æ°—ç‚¹ç«ï¼‰ï¼ãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚¹è£œä½ï¼ˆäººã¨ä¼ç”»ã¤ãªãï¼‰ï¼ãƒ–ãƒ©ãƒ³ãƒ‰ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœªæ¥ã®ç©ºæ°—ä½œã‚Šï¼‰",compatibility:"å®‰å®šï¼ISTJ/ISFJï¼è¨­è¨ˆè£œå®Œï¼INTJï¼åˆºæ¿€ï¼ENTP",action30:"â‘ æ¯æ—¥10åˆ†ç™ºä¿¡â‘¡æŸ±3ã¤æ±ºå®šâ‘¢å›å¾©æ‰‹é †ã‚’ä½œã‚‹"},
      "ISTJ":{intro:"ã‚ãªãŸã¯ã€ä¿¡é ¼ã‚’ã€ç©ã¿ä¸Šã’ã€Ÿã§è¨¼æ˜ã§ãã‚‹äººã§ã™ã€‚æ±ºã‚ãŸã“ã¨ã‚’å®ˆã‚Šã€ãƒ«ãƒ¼ãƒ«ã‚’æ•´ãˆã€è²¬ä»»ã‚’èƒŒè² ã£ã¦ç¾å ´ã‚’å®‰å®šã•ã›ã¾ã™ã€‚æ´¾æ‰‹ã•ã‚ˆã‚Šã‚‚ç¢ºå®Ÿæ€§ã‚’å¥½ã¿ã€é•·æœŸã§è¦‹ã‚Œã°ã‚ãªãŸã®èª å®Ÿã•ã¯åœ§å€’çš„ãªå¼·ã¿ã«ãªã‚Šã¾ã™ã€‚\\nãŸã ã€å¤‰åŒ–ãŒå¤šã„ç’°å¢ƒã§ã¯ã€Œã¡ã‚ƒã‚“ã¨ã—ãŸã„æ°—æŒã¡ã€ãŒå¼·ã™ãã¦ç–²ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚ã‚ãªãŸã®ä¾¡å€¤ã¯ã€é ‘ä¸ˆã•ã ã‘ã§ãªãã€ç¶™ç¶šã§ãã‚‹åŸºç›¤ã‚’ä½œã‚Œã‚‹ã“ã¨ã§ã™ã€‚æ”¹å–„ã¯å¤§èƒ†ã•ã‚ˆã‚Šã€ç‚¹æ¤œã¨å¾®ä¿®æ­£ã®é€£ç¶šã§æœ€å¤§åŒ–ã—ã¾ã™ã€‚ã‚ãªãŸã¯ã€èª°ã‹ã®ç†æƒ³ã‚’ã€ç¾å®Ÿã«å›ºå®šã™ã‚‹ã€Ÿã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"ç§©åºã¨ç¶™ç¶šã®å®ˆè­·è€…ã€‚æ¨™æº–ã¨ç¶™ç¶šã§æ··ä¹±ã‚’ãƒ«ãƒ¼ãƒ«ãƒ»æ‰‹é †ãƒ»å“è³ªã§å®‰å®šã¸æˆ»ã™",strengths:"è²¬ä»»æ„Ÿï¼é‹ç”¨ï¼å“è³ªï¼æ¨™æº–åŒ–ï¼ç¶™ç¶šåŠ›",cautions:"å¤‰åŒ–ã«æ…é‡ï¼ç¡¬ãè¦‹ãˆã‚‹ï¼ç–²åŠ´ã‚’æºœã‚ãŒã¡ã€‚æ”¹å–„å¾—æ„ã§ã‚‚ä¼‘ã‚€ã®ãŒä¸‹æ‰‹",key:"æ®µéšå°å…¥ã€‚å°ã•ãè©¦ã™ã€‚å¤‰åŒ–ã‚’æ‹’ã‚€ã®ã§ã¯ãªãå®‰å…¨ã«å°å…¥ã€‚å°ã•ãªè©¦é¨“é‹ç”¨ãŒæœ€é©",jobs:"é‹ç”¨è²¬ä»»ï¼å“è³ªç®¡ç†ï¼PMOï¼ç›£æŸ»ï¼ç·å‹™çµŒç†ï¼SCMç®¡ç†ï¼SREé‹ç”¨ï¼è¦ç¨‹æ¥­å‹™ï¼æ•™è‚²é‹å–¶ç®¡ç†ï¼æ¥­å‹™æ¨™æº–åŒ–ãƒ—ãƒ­ã‚»ã‚¹è¨­è¨ˆï¼ˆäº‹æ•…ç‡ã‚’ä¸‹ã’ã‚‹ä»•äº‹ã§è©•ä¾¡æœ€å¤§åŒ–ï¼‰",compatibility:"çµå©šå®‰å®šï¼ISFJ/INTJï¼åˆºæ¿€ï¼ENFPï¼ä»•äº‹ã¯INTJè¨­è¨ˆã¨æœ€å¼·",action30:"â‘ é€±1æ”¹å–„ææ¡ˆâ‘¡æ‰‹é †ã‚’1ã¤æ¨™æº–åŒ–â‘¢ä¼‘æ¯ã‚’äºˆå®šåŒ–"},
      "ISFJ":{intro:"ã‚ãªãŸã¯ã€ç›¸æ‰‹ã®å°ã•ãªå¤‰åŒ–ã«æ°—ã¥ã‘ã‚‹äººã§ã™ã€‚è¨€è‘‰ã«ã•ã‚Œãªã„ä¸å®‰ã‚’å¯Ÿã—ã€å¿…è¦ãªæ‰‹åŠ©ã‘ã‚’ã•ã‚Šã’ãªãå·®ã—å‡ºã—ã¾ã™ã€‚äººé–“é–¢ä¿‚ã®æ¸©åº¦ã‚’å®ˆã‚Šã€å±…å ´æ‰€ã‚’ä½œã‚‹åŠ›ãŒã‚ã‚Šã€å‘¨å›²ã¯ã‚ãªãŸã®å­˜åœ¨ã§å®‰å¿ƒã§ãã¾ã™ã€‚\\nä¸€æ–¹ã§ã€æˆ‘æ…¢ãŒç©ã¿é‡ãªã‚‹ã¨çªç„¶é™ç•ŒãŒæ¥ã‚„ã™ãã€è‡ªå·±ä¸»å¼µãŒé…ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®å„ªã—ã•ã¯ç¾å¾³ã§ã™ãŒã€åŒæ™‚ã«ã€è³‡æºã€Ÿã§ã‚‚ã‚ã‚Šã¾ã™ã€‚å®ˆã‚‹ã¹ãç¯„å›²ã¨ã€ä»»ã›ã‚‹ç¯„å›²ã‚’ç·šå¼•ãã—ãŸã¨ãã€ã‚ãªãŸã¯ã•ã‚‰ã«å¼·ããªã‚Šã¾ã™ã€‚ã‚ãªãŸã¯ã€é™ã‹ã«äººã‚’æ•‘ã„ã€æ—¥å¸¸ã‚’æ•´ãˆã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"å®‰å¿ƒã¨ç¶™ç¶šã®æ”¯æ´è€…ã€‚ã‚±ã‚¢ã¨é‹ç”¨ã§äººãŒå´©ã‚Œãªã„ã‚ˆã†è² è·ä¸‹ã’å ´ãŒå›ã‚Šç¶šã‘ã‚‹ã‚ˆã†æ•´ãˆã‚‹",strengths:"æ°—é…ã‚Šï¼é‹ç”¨ï¼ã‚±ã‚¢ï¼ç¶™ç¶šï¼å®‰å®šåŒ–ã€‚äººãŒç¶šã‘ã‚‰ã‚Œã‚‹çŠ¶æ…‹ã‚’ä½œã‚‹",cautions:"æ–­ã‚Œãªã„ï¼è‡ªå·±å¾Œå›ã—ï¼ç–²ã‚Œã¦ã‚‚è¨€ãˆãªã„ã€‚å„ªã—ã•ãŒç„¡é™å¯¾å¿œã«ãªã£ãŸç¬é–“ã‚ãªãŸãŒå£Šã‚Œã‚‹",key:"å¢ƒç•Œç·šï¼‹æ„Ÿè¬ã®å¯è¦–åŒ–ã€‚æ”¯ãˆã‚‹ç¯„å›²æ±ºå®šã€‚æ„Ÿè¬å¯è¦–åŒ–ã€‚æ‰‹ä¼ã„ã‚’ä»•çµ„ã¿åŒ–",jobs:"CSï¼æ•™å‹™ï¼åŒ»ç™‚ç¦ç¥‰ã‚µãƒãƒ¼ãƒˆï¼äº‹å‹™é‹ç”¨ï¼ç§˜æ›¸ï¼åº—èˆ—é‹å–¶è£æ–¹ï¼ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼å“è³ªãƒã‚§ãƒƒã‚¯ï¼ã‚³ãƒŸãƒ¥ã‚µãƒãƒ¼ãƒˆï¼é‹ç”¨è¨­è¨ˆè£œä½ï¼ˆäººã®å®‰å¿ƒã‚’ä½œã‚Šç¶™ç¶šã‚’å®ˆã‚‹ï¼‰",compatibility:"å®‰å¿ƒï¼ISTJï¼æˆ¦ç•¥è£œå®Œï¼INTJï¼å®ˆã‚Šï¼ENTJ",action30:"â‘ é€±1è‡ªåˆ†å„ªå…ˆâ‘¡æ–­ã‚‹åŸºæº–ã‚’ä¸€æ–‡â‘¢é ¼ã¾ã‚Œäº‹ã‚’æ‰‹é †åŒ–"},
      "ESTJ":{intro:"ã‚ãªãŸã¯ã€æ›–æ˜§ã•ã‚’å«Œã„ã€ç¾å ´ã‚’å‹•ã‹ã—ã¦æˆæœã‚’å‡ºã™å®Ÿå‹™ã®ãƒªãƒ¼ãƒ€ãƒ¼ã§ã™ã€‚å½¹å‰²åˆ†æ‹…ã€æœŸé™ã€åˆ¤æ–­åŸºæº–ã‚’æ˜ç¢ºã«ã—ã€è¿·ã„ã‚’æ¸›ã‚‰ã—ã¦çµæœã¾ã§é€£ã‚Œã¦ã„ãã¾ã™ã€‚è²¬ä»»æ„ŸãŒå¼·ãã€ã€Œã‚„ã‚‹ã¹ãã“ã¨ã€ã‚’å®Ÿè¡Œã—ç¶šã‘ã‚‰ã‚Œã‚‹ã®ãŒæœ€å¤§ã®å¼·ã¿ã§ã™ã€‚\\nãŸã ã—ã€åˆç†æ€§ãŒå¼·ãå‡ºã‚‹ã¨ã€ç›¸æ‰‹ã®æ„Ÿæƒ…ã‚’ç½®ãå»ã‚Šã«ã—ã¦ã—ã¾ã†ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã¯å³ã—ã„äººã§ã¯ãªãã€æˆæœã«å¯¾ã—ã¦èª å®Ÿãªäººã§ã™ã€‚èª¬æ˜ã¨åˆæ„ã‚’ä¸å¯§ã«æŒŸã‚€ã ã‘ã§ã€ã‚ãªãŸã®çµ±ç‡ã¯ã€ä¿¡é ¼ã•ã‚Œã‚‹å¼·ã•ã€Ÿã«å¤‰ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã¯ã€ç¾å ´ã‚’å‹ãŸã›ã‚‹ãŸã‚ã«å­˜åœ¨ã™ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"å®Ÿè¡Œã¨çµ±ç‡ã®é‹ç”¨è€…ã€‚é‹ç”¨ã®æ”¯é…åŠ›ã§ç†æƒ³è«–ã‚ˆã‚Šç¾å ´ã§å›ã‚‹ã“ã¨ã‚’å„ªå…ˆã—ãƒ«ãƒ¼ãƒ«ä½œæˆ",strengths:"æ¨é€²ï¼ç®¡ç†ï¼åˆ¤æ–­ï¼æ”¹å–„ï¼è²¬ä»»é‚è¡Œã€‚ç¾å ´ãƒãƒ©ãƒãƒ©çŠ¶æ…‹ã‚’çµ±ä¸€ã¸æˆ»ã™ã®ãŒå¾—æ„",cautions:"åœ§ãŒå‡ºã‚‹ï¼èé€šãŒåˆ©ã‹ãªã„ã¨è¨€ã‚ã‚Œã‚‹ï¼èª¬æ˜ä¸è¶³ã€‚ãƒ«ãƒ¼ãƒ«å¼·åŒ–ã§åç™ºèµ·ãã‚‹ãŸã‚ç›®çš„å…±æœ‰é‡è¦",key:"ã€Œç›®çš„â†’åˆæ„â†’å®Ÿè¡Œã€ã€‚ç›®çš„è¨€èªåŒ–ã—åˆæ„å½¢æˆä¸€è¨€æŒŸã‚€ã ã‘ã§å‘³æ–¹å¢—åŠ ã€‚ã‚„ã‚Œã§ã¯ãªãç›®çš„ã¯ã“ã‚Œã ã‹ã‚‰ã“ã®æ‰‹é †ã§è¡Œã“ã†ã«å¤‰ãˆã‚‹",jobs:"ç®¡ç†è·ç¾å ´çµ±ç‡ï¼ˆè²¬ä»»ã¨æ±ºæ–­ã§æˆæœï¼‰ï¼æ‹ ç‚¹é‹å–¶ï¼ˆäººãƒ»å“è³ªãƒ»æ•°å€¤ä¸€ä½“ç®¡ç†ï¼‰ï¼PMï¼ˆæœŸé™ã¨å½¹å‰²åˆ‡ã‚Šå‰é€²ï¼‰ï¼é‹ç”¨è²¬ä»»è€…ï¼ˆå®‰å®šç¨¼åƒã¨æ”¹å–„ä¸¡æ–¹ï¼‰ï¼å–¶æ¥­çµ±æ‹¬ï¼ˆæ•°å­—ã¨è¡Œå‹•æƒãˆï¼‰ï¼æ¥­å‹™æ”¹å–„ï¼ˆç¾å ´ç„¡é§„å‰Šã‚Šæ¨™æº–åŒ–ï¼‰ï¼å±æ©Ÿå¯¾å¿œï¼ˆæ··ä¹±æ™‚æŒ‡æ®ï¼‰ï¼å“è³ªç®¡ç†ï¼ˆåŸºæº–å®ˆã‚Šäº‹æ•…æ¸›ã‚‰ã™ï¼‰ï¼äººæç®¡ç†æ¡ç”¨ã€œè‚²æˆï¼ˆå½¹å‰²è¨­è¨ˆã¨è©•ä¾¡ï¼‰ï¼B2Bç¾å ´çµ±æ‹¬ï¼ˆé¡§å®¢è¦æ±‚ã‚’é‹ç”¨ã¸ï¼‰",compatibility:"æˆ¦ç•¥è£œå®Œï¼INTJï¼æ”¯æ´ï¼ISFJï¼ç™ºæƒ³ï¼ENTP",action30:"â‘ ä¼šè­°çŸ­ç¸®ï¼ˆç›®çš„ãƒ»æ±ºå®šäº‹é …å›ºå®šï¼‰â‘¡å±äººæ¥­å‹™1ã¤æ½°ã™ï¼ˆæ¨™æº–åŒ–ï¼‰â‘¢æ„Ÿè¬ã¨æœŸå¾…ã‚»ãƒƒãƒˆã§ä¼ãˆã‚‹"},
      "ESFJ":{intro:"ã‚ãªãŸã¯ã€äººãŒå®‰å¿ƒã—ã¦ç¬‘ãˆã‚‹ç©ºé–“ã‚’ä½œã‚Œã‚‹äººã§ã™ã€‚ç›¸æ‰‹ã®æ°—æŒã¡ã‚’ä¸å¯§ã«å—ã‘å–ã‚Šã€å ´ã®é›°å›²æ°—ã‚’æ•´ãˆã€èª°ã‚‚ç½®ãå»ã‚Šã«ã—ã¾ã›ã‚“ã€‚ç¤¼å„€ã‚„æ°—é…ã‚Šã‚’è‡ªç„¶ã«å®Ÿè¡Œã§ãã€å‘¨å›²ã¯ã‚ãªãŸã¨ã„ã‚‹ã¨ã€Œè‡ªåˆ†ãŒå¤§äº‹ã«ã•ã‚Œã¦ã„ã‚‹ã€ã¨æ„Ÿã˜ã¾ã™ã€‚\\nãŸã ã—ã€è©•ä¾¡ã«æ•æ„Ÿã«ãªã‚Šã™ãã‚‹ã¨ã€ç„¡ç†ã‚’ã—ã¦ã§ã‚‚æœŸå¾…ã«åˆã‚ã›ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®é­…åŠ›ã¯ã€åˆã‚ã›ã‚‹åŠ›ã€Ÿã ã‘ã§ã¯ãªãã€ã€äººã®è‰¯ã•ã‚’å¼•ãå‡ºã™åŠ›ã€Ÿã§ã™ã€‚è‡ªåˆ†ã®æœ¬éŸ³ã‚’å°‘ã—ãšã¤è¡¨ã«å‡ºã™ã»ã©ã€ã‚ãªãŸã®é–¢ä¿‚æ€§ã¯ã‚ˆã‚Šå¼·å›ºã«ãªã‚Šã¾ã™ã€‚ã‚ãªãŸã¯ã€äººã‚’ã¤ãªãã€æ¸©åº¦ã‚’ä¸Šã’ã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"èª¿å’Œã¨é‹å–¶ã®è¦ã€‚é–¢ä¿‚æ€§ã®é‹ç”¨ã§äººã¨äººã®é–“ã®æ‘©æ“¦æ¸›ã‚‰ã—å”åŠ›ãŒè‡ªç„¶ã«èµ·ãã‚‹å ´ä½œã‚Š",strengths:"é…æ…®ï¼èª¿æ•´ï¼æ”¯æ´ï¼é€£æºï¼ç¾å ´å®‰å®šã€‚äººãŒç¶šã‘ã‚‰ã‚Œã‚‹ç’°å¢ƒã‚’ä½œã‚‹ã®ãŒæœ€å¤§ä¾¡å€¤",cautions:"è©•ä¾¡ã«å¼±ã„ï¼æŠ±ãˆè¾¼ã¿ã‚„ã™ã„ï¼NOãŒè‹¦æ‰‹ã€‚å…¨å“¡ã«è‰¯ã„é¡”ã§æœ€çµ‚çš„ã«èª°ã‚‚å®ˆã‚Œãªããªã‚‹",key:"è‡ªåˆ†ã®è©•ä¾¡è»¸ã‚’æŒã¤ã€‚å½¹å‰²åˆ†æ‹…ã€‚ç§ã¯ä½•ã‚’å„ªå…ˆã™ã‚‹ã‹ã‚’3ã¤æ±ºå®šã€‚é ¼ã¾ã‚Œäº‹ã¯å…±æœ‰ã—åˆ†æ‹…ã§è² è·å‰Šæ¸›",jobs:"CSæº€è¶³åº¦é‹å–¶ï¼ˆé–¢ä¿‚æ€§ã¨ç¶™ç¶šã®ä¾¡å€¤ï¼‰ï¼äººäº‹èª¿æ•´ãƒ»ãƒ•ã‚©ãƒ­ãƒ¼ï¼ˆçµ„ç¹”ã®ç©ºæ°—æ•´ãˆï¼‰ï¼åºƒå ±é–¢ä¿‚æ§‹ç¯‰ï¼ˆä¿¡é ¼ç©ã¿ä¸Šã’ï¼‰ï¼æ•™è‚²é‹å–¶ï¼ˆå®‰å¿ƒã¨ç¶™ç¶šï¼‰ï¼åº—èˆ—é‹å–¶ï¼ˆç¾å ´é›°å›²æ°—æ•´ãˆï¼‰ï¼ç§˜æ›¸ãƒ»ç·å‹™ï¼ˆèª¿æ•´ã¨æ”¯æ´ã§å…¨ä½“åŠ¹ç‡å‘ä¸Šï¼‰ï¼ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é‹å–¶ï¼ˆå ´ã®æ¸©åº¦ç®¡ç†ï¼‰ï¼æ¡ç”¨å€™è£œè€…ä½“é¨“ï¼ˆå®‰å¿ƒæ„Ÿæä¾›ï¼‰ï¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¿æ•´å½¹ï¼ˆäººã®é–“æ»‘ã‚‰ã‹åŒ–ï¼‰ï¼ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ‹…å½“ï¼ˆå®šç€æ”¯æ´ï¼‰",compatibility:"å®‰å®šï¼ISTJï¼æ˜ã‚‹ã•ï¼ENFPï¼è¨­è¨ˆè£œå®Œï¼INTJ",action30:"â‘ æ–­ã‚‹è¨€ã„æ–¹ç”¨æ„â‘¡è‡ªåˆ†ã®è©•ä¾¡è»¸3ã¤æ±ºå®šâ‘¢é ¼ã¾ã‚Œäº‹ã‚’å…±æœ‰ã—ã¦åˆ†æ‹…"},
      "ISTP":{intro:"ã‚ãªãŸã¯ã€çŠ¶æ³ã‚’å†·é™ã«è¦‹ã¦ã€Œå£Šã™ã¹ãéƒ¨åˆ†ã€ã¨ã€Œæ®‹ã™ã¹ãéƒ¨åˆ†ã€ã‚’ç¬æ™‚ã«åˆ‡ã‚Šåˆ†ã‘ã‚‹äººã§ã™ã€‚ç†å±ˆã¨è¦³å¯Ÿã§åˆ¤æ–­ã—ã€ç„¡é§„ã‚’å‰Šãè½ã¨ã—ã¦æœ€é©è§£ã¸åˆ°é”ã—ã¾ã™ã€‚å±æ©Ÿã‚„ãƒˆãƒ©ãƒ–ãƒ«ã®å ´é¢ã»ã©è½ã¡ç€ã„ã¦å‹•ã‘ã‚‹ãŸã‚ã€å‘¨å›²ã¯ã‚ãªãŸã®å®Ÿå‹™åŠ›ã«æ•‘ã‚ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚\\nä¸€æ–¹ã§ã€æ„Ÿæƒ…çš„ãªã‚„ã‚Šå–ã‚Šã‚„é•·ã„ä¼šè­°ã«ã¯æ¶ˆè€—ã—ã‚„ã™ãã€è¨€è‘‰ãŒè¶³ã‚Šãšèª¤è§£ã•ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®å¼·ã•ã¯ã€æ´¾æ‰‹ãªä¸»å¼µã§ã¯ãªãã€æ‰‹ã‚’å‹•ã‹ã—ãŸçµæœã€Ÿã§ã™ã€‚æœ€å°ã®è¨€èªåŒ–ï¼ˆçµè«–ãƒ»ç†ç”±ãƒ»æ¬¡ã®ä¸€æ‰‹ï¼‰ã ã‘æ„è­˜ã™ã‚‹ã¨ã€è©•ä¾¡ã¯ä¸€æ®µä¸ŠãŒã‚Šã¾ã™ã€‚ã‚ãªãŸã¯ã€ç¾å®Ÿã‚’åˆ‡ã‚Šé–‹ãã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"å®Ÿè£…ã¨ä¿®å¾©ã®è·äººã€‚åŸå› ç‰¹å®šâ†’ä¿®å¾©â†’å†ç™ºé˜²æ­¢ã®é€£é–ã§æ‰‹ã‚’å‹•ã‹ã—ã¦ç›´ã—ä¾¡å€¤å‡ºã™",strengths:"å³å¿œï¼æŠ€è¡“ï¼åŸå› ç‰¹å®šï¼æ”¹å–„ï¼é“å…·åŒ–ã€‚ç„¡é§„ã‚’å‰Šã‚‹æ”¹å–„ãŒå¾—æ„",cautions:"èª¬æ˜ä¸è¶³ï¼æ„Ÿæƒ…å…±æœ‰ãŒå°‘ãªã„ï¼å­¤ç«‹ã—ãŒã¡ã€‚çµæœã¯å‡ºã—ã¦ã„ã‚‹ã®ã«å‘¨å›²ãŒä¾¡å€¤ã‚’ç†è§£ã§ããªã„çŠ¶æ…‹",key:"è¨€èªåŒ–ã¨å…±æœ‰ï¼ˆæ‰‹é †æ›¸ãƒ»ãƒ¡ãƒ¢ï¼‰ã€‚ä¾¡å€¤ã¯å…±æœ‰ã§å€åŒ–ã€‚æˆæœã‚’ä½•ã‚’ã©ã†ç›´ã—ãŸã‹ã§æ®‹ã™ã ã‘ã§è©•ä¾¡ä¸Šæ˜‡",jobs:"ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å®Ÿè£…ï¼ˆæ‰‹ã‚’å‹•ã‹ã—æˆæœï¼‰ï¼SREãƒ»é‹ç”¨æ”¹å–„ï¼ˆåŸå› ç‰¹å®šã¨å†ç™ºé˜²æ­¢ï¼‰ï¼éšœå®³å¯¾å¿œï¼ˆå³å¿œã¨ä¿®å¾©ï¼‰ï¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿå‹™ï¼ˆç¾å ´ç›®ç·šã§ç©´å¡ãï¼‰ï¼å·¥å ´ãƒ»ç¾å ´æ”¹å–„ï¼ˆå®Ÿç”¨æ”¹å–„ã§æˆæœï¼‰ï¼ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—å®Ÿè£…ï¼ˆæœ€å°ã§å½¢åŒ–ï¼‰ï¼ãƒ„ãƒ¼ãƒ«é–‹ç™ºï¼ˆé“å…·åŒ–ã§åŠ¹ç‡å‘ä¸Šï¼‰ï¼å“è³ªæ”¹å–„æŠ€è¡“å¯„ã‚Šï¼ˆãƒœãƒˆãƒ«ãƒãƒƒã‚¯æ½°ã—ï¼‰ï¼æ©Ÿå™¨ãƒ¡ãƒ³ãƒ†ãƒ»ä¿®ç†ï¼ˆä¿®å¾©æ‰èƒ½ç›´çµï¼‰ï¼æŠ€è¡“æ”¯æ´ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆç¾å ´ã§è§£æ±ºï¼‰",compatibility:"è¨­è¨ˆï¼INTJï¼é‹ç”¨ï¼ESTJï¼æ½¤æ»‘ï¼ENFJ/ENFP",action30:"â‘ æˆæœã‚’é€±1å…±æœ‰â‘¡æ‰‹é †ã‚’1ã¤æ›¸ãâ‘¢ã‚„ã‚Šã‚„ã™ã„æ¡ä»¶ã‚’å…ˆã«ä¼ãˆã‚‹"},
      "ISFP":{intro:"ã‚ãªãŸã¯ã€æ—¥å¸¸ã®ä¸­ã«ã‚ã‚‹ç¾ã—ã•ã‚„é•å’Œæ„Ÿã‚’æ•æ„Ÿã«æ„Ÿã˜å–ã‚Œã‚‹äººã§ã™ã€‚è¨€è‘‰ã«ã§ããªã„æ°—é…ã‚„ç©ºæ°—ã‚’èª­ã¿ã€ä¸å¯§ã«ã€Œè‡ªåˆ†ã‚‰ã—ã„è¡¨ç¾ã€ã«å¤‰ãˆã¦ã„ãã¾ã™ã€‚ç„¡ç†ã«ç›®ç«‹ã¨ã†ã¨ã›ãšã¨ã‚‚ã€ã‚ãªãŸã®å­˜åœ¨æ„Ÿã¯ã€æœ¬ç‰©ã€Ÿã¨ã—ã¦ä¼ã‚ã‚‹ã§ã—ã‚‡ã†ã€‚\\nãŸã ã—ã€å¼·ã„ç«¶äº‰ã‚„æ¯”è¼ƒã®å ´ã§ã¯å¿ƒãŒå‰Šã‚‰ã‚Œã€è‡ªå·±è©•ä¾¡ãŒä¸‹ãŒã‚Šã‚„ã™ã„é¢ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®é­…åŠ›ã¯ã€æ´¾æ‰‹ã•ã§ã¯ãªãã€èª å®Ÿãªæ„Ÿæ€§ãŒä½œã‚‹èª¬å¾—åŠ›ã§ã™ã€‚è‡ªåˆ†ã®ç¾æ„è­˜ã‚’å®ˆã‚ŠãªãŒã‚‰ã€è¦‹ã›æ–¹ï¼ˆä½œå“åŒ–ãƒ»ç™ºä¿¡ï¼‰ã‚’æ•´ãˆã‚‹ã¨ä¸€æ°—ã«å¼·ããªã‚Šã¾ã™ã€‚ã‚ãªãŸã¯ã€äººã®å¿ƒã‚’é™ã‹ã«å‹•ã‹ã™ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"æ„Ÿæ€§ã¨èª å®Ÿã®è¡¨ç¾è€…ã€‚æ‰‹è§¦ã‚Šã®è‰¯ã•ã§å°ã•ãªé•å’Œæ„Ÿã‚’æ‹¾ã„å¿ƒåœ°ã‚ˆã„å½¢ã¸æ•´ãˆã‚‹",strengths:"è¡¨ç¾ï¼ä¸å¯§ã•ï¼å…±æ„Ÿï¼ç¾æ„è­˜ï¼ä»•ä¸Šã’ã®å“è³ª",cautions:"è¡çªå›é¿ï¼æˆ‘æ…¢â†’çˆ†ç™ºï¼è‡ªå·±ä¸»å¼µã®å¼±ã•ã€‚è¨€ã‚ãªã„ã¾ã¾æŠ±ãˆã‚‹ã¨å¾Œã§å¤§ããªã‚¹ãƒˆãƒ¬ã‚¹",key:"å°ã•ãè¨€ã†ï¼ˆæ—©ã‚ã«å…±æœ‰ï¼‰ã€‚ä½œå“ã‚’å¤–ã«å‡ºã™ã€‚å°ã•ãæ—©ãå…±æœ‰ã—ä¿®æ­£ã—ãªãŒã‚‰å®Œæˆã¸ã€‚ä½œå“ã‚’å¤–ã«å‡ºã™ã»ã©é‹ãŒé–‹ã",jobs:"ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆç¾æ„è­˜ãŒä¾¡å€¤ï¼‰ï¼å†™çœŸãƒ»æ˜ åƒï¼ˆæ„Ÿæ€§ãŒæˆæœç›´çµï¼‰ï¼æ¥å®¢ä¸Šè³ªä½“é¨“ï¼ˆä½“é¨“å“è³ªä½œã‚Šï¼‰ï¼ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–åˆ¶ä½œï¼ˆä¸–ç•Œè¦³ã‚’å½¢åŒ–ï¼‰ï¼UIãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆå¿ƒåœ°ã‚ˆã•è¨­è¨ˆï¼‰ï¼ç·¨é›†ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ï¼ˆè¦‹ã›æ–¹ã®æ„Ÿæ€§ï¼‰ï¼ãƒ–ãƒ©ãƒ³ãƒ‰åˆ¶ä½œï¼ˆä¸–ç•Œè¦³çµ±ä¸€ï¼‰ï¼ç¾å®¹ãƒ»ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ï¼ˆã‚»ãƒ³ã‚¹ãŒä¾¡å€¤ï¼‰ï¼å•†å“é–‹ç™ºæ„Ÿæ€§å¯„ã‚Šï¼ˆæ‰‹è§¦ã‚Šã®è‰¯ã•ä½œã‚Šï¼‰ï¼ç©ºé–“æ¼”å‡ºï¼ˆå±…å¿ƒåœ°è¨­è¨ˆï¼‰",compatibility:"æ”¯æ´ï¼ENFJï¼å®‰å¿ƒï¼ISFJï¼åˆºæ¿€ï¼ENTP",action30:"â‘ ä½œå“å…¬é–‹ã‚’1å›â‘¡è¦æœ›ã‚’æ—©ã‚ã«è¨€ã†â‘¢æ–­ã‚‹æ–‡ã‚’ç”¨æ„"},
      "ESTP":{intro:"ã‚ãªãŸã¯ã€ãƒãƒ£ãƒ³ã‚¹ã®åŒ‚ã„ã‚’å—…ãåˆ†ã‘ã€å³è¡Œå‹•ã§çµæœã‚’å–ã‚Šã«è¡Œãäººã§ã™ã€‚ç¾å ´ã§èµ·ã“ã‚‹å¤‰åŒ–ã«å¼·ãã€çŠ¶æ³ã«åˆã‚ã›ã¦æœ€é©ãªä¸€æ‰‹ã‚’å‡ºã›ã¾ã™ã€‚é›£ã—ã„ç†å±ˆã‚ˆã‚Šã‚‚å®Ÿè·µã§å­¦ã³ã€å‹ã¡ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’èº«ä½“ã§è¦šãˆã¦ã„ãã§ã—ã‚‡ã†ã€‚\\nãŸã ã—ã€ã‚¹ãƒ”ãƒ¼ãƒ‰ãŒå¼·ã¿ã§ã‚ã‚‹åˆ†ã€çŸ­æœŸã®å¿«æ„Ÿã«åã‚‹ã¨é•·æœŸæˆ¦ã§æã‚’ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®çªç ´åŠ›ã¯æœ¬ç‰©ãªã®ã§ã€ã‚ã¨ã¯ã€æ’¤é€€åŸºæº–ã€Ÿã¨ã€åå¾©ãƒ«ãƒ¼ãƒ«ã€Ÿã‚’æŒã¤ã ã‘ã§ç²¾åº¦ãŒä¸ŠãŒã‚Šã¾ã™ã€‚å‹ã¦ã‚‹å ´æ‰€ã‚’é¸ã³ã€å‹ã¡æ–¹ã‚’å‹ã«ã—ãŸã¨ãã€ã‚ãªãŸã¯ç„¡æ•µã«è¿‘ã¥ãã¾ã™ã€‚ã‚ãªãŸã¯ã€ç¾å®Ÿã‚’å‹•ã‹ã™ã‚¢ã‚¿ãƒƒã‚«ãƒ¼ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"è¡Œå‹•ã¨çªç ´ã®å®Ÿæˆ¦è€…ã€‚çŠ¶æ³ã®å¤‰åŒ–ã‚’æã‚Œãšå‹•ã‘ã‚‹èƒ†åŠ›ã§æœºä¸Šã‚ˆã‚Šç¾å ´ã§å‹ã¤ã‚¿ã‚¤ãƒ—",strengths:"å³æ±ºï¼èƒ†åŠ›ï¼äº¤æ¸‰ï¼ç¾å ´å¯¾å¿œï¼ã‚¹ãƒ”ãƒ¼ãƒ‰",cautions:"é›‘ã«ãªã‚Šã‚„ã™ã„ï¼å…ˆèª­ã¿ä¸è¶³ï¼å‹¢ã„ã§ç‡ƒã‚„ã™ã€‚å‹¢ã„ã‚’å‹ã«ã—ãªã„ã¨å‹ã¡ãŒç¶šã‹ãªã„",key:"æ’¤é€€æ¡ä»¶ï¼‹æŒ¯ã‚Šè¿”ã‚Šã§å†ç¾æ€§ã«å¤‰ãˆã‚‹ã€‚å‹ã¡ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ¡ãƒ¢ã—æ’¤é€€æ¡ä»¶ã‚’å…ˆã«ç½®ãã€‚å‹¢ã„ãŒæˆ¦ç•¥ã«ãªã‚‹",jobs:"å–¶æ¥­ç¾å ´å‹ï¼ˆã‚¹ãƒ”ãƒ¼ãƒ‰ã¨äº¤æ¸‰ãŒæ­¦å™¨ï¼‰ï¼èµ·æ¥­å®Ÿè¡Œå‹ï¼ˆã¾ãšå‹•ã„ã¦å‹ã¡ç­‹æ´ã‚€ï¼‰ï¼äº¤æ¸‰å½¹ï¼ˆå ´ã‚’èª­ã‚“ã§è½ã¨ã—æ‰€ä½œã‚Šï¼‰ï¼ç¾å ´è²¬ä»»ï¼ˆå³æ–­ã¨å¯¾å¿œã§å›ã™ï¼‰ï¼ã‚¤ãƒ™ãƒ³ãƒˆé‹å–¶ï¼ˆç¾å ´ã§ã®åˆ¤æ–­æ´»ãã‚‹ï¼‰ï¼ã‚»ãƒ¼ãƒ«ã‚¹ãƒ—ãƒ­ãƒ¢ï¼ˆçŸ­æœŸæˆæœä½œã‚Šï¼‰ï¼ã‚¹ãƒãƒ¼ãƒ„ãƒ»ç«¶æŠ€ç³»ï¼ˆç¬ç™ºåŠ›ç›´çµï¼‰ï¼ãƒˆãƒ©ãƒ–ãƒ«å¯¾å¿œï¼ˆå‹•ã„ã¦è§£æ±ºï¼‰ï¼ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¥­å‹™ï¼ˆæœºä¸Šã‚ˆã‚Šç¾å ´ã§å¼·ã„ï¼‰ï¼æ–°è¦é–‹æ‹“ï¼ˆæœªçŸ¥ã®ç›¸æ‰‹ã§ã‚‚çªç ´ï¼‰",compatibility:"æˆ¦ç•¥ï¼INTJï¼èª¿æ•´ï¼ESFJï¼å®Ÿè£…ï¼ISTP",action30:"â‘ é€±1æŒ¯ã‚Šè¿”ã‚Šâ‘¡å‹ã¡ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒ¡ãƒ¢â‘¢æ’¤é€€æ¡ä»¶ã‚’å…ˆã«æ±ºã‚ã‚‹"},
      "ESFP":{intro:"ã‚ãªãŸã¯ã€å ´ã®ç©ºæ°—ã‚’ä¸€ç¬ã§æ˜ã‚‹ãã§ãã‚‹äººã§ã™ã€‚æ„Ÿæƒ…ã®è¡¨ç¾ãŒè±Šã‹ã§ã€äººã®åå¿œã‚’è¦‹ãªãŒã‚‰è‡ªç„¶ã«ç››ã‚Šä¸Šã’ã€ç›¸æ‰‹ã®å¿ƒã‚’å‹•ã‹ã—ã¾ã™ã€‚è¨ˆç”»ã‚ˆã‚Šã‚‚ä½“é¨“ã‚’å¤§äº‹ã«ã—ã€ã€Œä»Šã‚’æœ€é«˜ã«ã™ã‚‹ã€æ‰èƒ½ã‚’æŒã£ã¦ã„ã¾ã™ã€‚\\nä¸€æ–¹ã§ã€åˆºæ¿€ãŒãªã„ç’°å¢ƒã§ã¯ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãŒè½ã¡ã‚„ã™ãã€æ„Ÿæƒ…ã®æ³¢ã§åˆ¤æ–­ãŒã¶ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®å¼·ã¿ã¯æ¥½ã—ã•ã ã‘ã§ãªãã€äººã«å‹‡æ°—ã‚’ä¸ãˆã‚‹ç†±é‡ã§ã™ã€‚ç¶™ç¶šã®éµã¯ã€è‡ªç”±ã‚’å®ˆã‚Šã¤ã¤ã‚‚ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚’è»½ãã€ŸæŒã¤ã“ã¨ã€‚ã‚ãªãŸã¯ã€äººã®å¿ƒã‚’èµ·å‹•ã—ã€å‰å‘ããªæµã‚Œã‚’ä½œã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"å…±é³´ã¨è¡¨ç¾ã®ç‚¹ç«è€…ã€‚å…±é³´ã§äººã®æ„Ÿæƒ…ã‚’å‹•ã‹ã—å‰å‘ããªè¡Œå‹•ã‚’å¼•ãå‡ºã™",strengths:"ç¤¾äº¤ï¼è¡¨ç¾ï¼å¿œæ´åŠ›ï¼å ´ä½œã‚Šï¼ç™ºä¿¡",cautions:"æ°—åˆ†ã®æ³¢ï¼è¨ˆç”»ãŒå¼±ã„ï¼è»½ãè¦‹ã‚‰ã‚Œã‚„ã™ã„ã€‚èŠ¯ãŒè¨€è‘‰ã«ãªã£ã¦ã„ãªã„ã¨è©•ä¾¡ãŒå®‰å®šã—ãªã„",key:"ç¿’æ…£ã¨ç’°å¢ƒã€‚èŠ¯ã®ä¸€è¨€ã€‚è‡ªåˆ†ãŒå¤§äº‹ã«ã—ãŸã„ã“ã¨ã‚’ä¸€è¨€ã§æŒã¤ã€‚ç’°å¢ƒæ•´ãˆç¿’æ…£ã§æ”¯ãˆã‚‹",jobs:"æ¥å®¢ï¼ˆå ´ã®æ¸©åº¦ä½œã‚Šï¼‰ï¼åºƒå ±ï¼ˆæ˜ã‚‹ã•ã¨ç™ºä¿¡åŠ›ï¼‰ï¼SNSé‹ç”¨ï¼ˆå…±é³´ä½œã‚Šï¼‰ï¼ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆç››ã‚Šä¸Šã’ï¼‰ï¼æ•™è‚²ä½“é¨“å‹ï¼ˆæ¥½ã—ãå­¦ã³ä½œã‚Šï¼‰ï¼ã‚¿ãƒ¬ãƒ³ãƒˆãƒ»é…ä¿¡ï¼ˆè¡¨ç¾ãŒä¾¡å€¤ï¼‰ï¼å–¶æ¥­é–¢ä¿‚æ§‹ç¯‰ï¼ˆäººé–“é–¢ä¿‚ã§æˆæœï¼‰ï¼åº—èˆ—é‹å–¶è¡¨å´ï¼ˆé›°å›²æ°—è‰¯åŒ–ï¼‰ï¼ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é‹å–¶ï¼ˆå ´ã®ç©ºæ°—ä½œã‚Šï¼‰ï¼ä¼ç”»ä½“é¨“è¨­è¨ˆï¼ˆæ¥½ã—ã„ä½“é¨“ä½œã‚Šï¼‰",compatibility:"å®‰å®šï¼ISTJï¼æ”¯æ´ï¼ENFJï¼åˆºæ¿€ï¼ENTP",action30:"â‘ ç¿’æ…£ã‚’1ã¤å›ºå®šâ‘¡èŠ¯ã®ä¸€è¨€ã‚’ä½œã‚‹â‘¢ç™ºä¿¡ã‚’é€±2å›"},
      "BAL":{intro:"ã‚ãªãŸã¯ã€æ¥µç«¯ã«æŒ¯ã‚ŒãŸä¸–ç•Œã‚’ã€ã¡ã‚‡ã†ã©è‰¯ã„ã¨ã“ã‚ã€Ÿã¸æˆ»ã›ã‚‹äººã§ã™ã€‚è«–ç†ã¨æ„Ÿæƒ…ã€ç†æƒ³ã¨ç¾å®Ÿã€æ”»ã‚ã¨å®ˆã‚Šã¨ã„ã£ãŸç›¸åã™ã‚‹è¦ç´ ã‚’å¯¾ç«‹ã•ã›ãšã€å¿…è¦ã«å¿œã˜ã¦æ··ãœåˆã‚ã›ã€çŠ¶æ³æœ€é©ã®å½¢ã«æ•´ãˆã¾ã™ã€‚äººã®æ„è¦‹ãŒå‰²ã‚Œã¦ã„ã‚‹å ´ã§ã‚‚ã€ã‚ãªãŸãŒå…¥ã‚‹ã¨ç©ºæ°—ãŒè½ã¡ç€ãã€ã€Œä¸¡æ–¹ã®è‰¯ã•ã€ã‚’æ´»ã‹ã™è§£æ±ºç­–ãŒç”Ÿã¾ã‚Œã‚„ã™ã„ã§ã—ã‚‡ã†ã€‚\\nãŸã ã—ã€ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã‚Šç¶šã‘ã‚‹ã»ã©è‡ªåˆ†ã®æœ¬éŸ³ãŒå¾Œå›ã—ã«ãªã‚Šã€ä½•ã‚’å„ªå…ˆã—ãŸã„ã®ã‹åˆ†ã‹ã‚‰ãªããªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã‚ãªãŸã®å¼·ã•ã¯ã€å™¨ç”¨ã•ã§ã¯ãªãã€çµ±åˆã®ã‚»ãƒ³ã‚¹ã€Ÿã§ã™ã€‚é‡è¦ãªã®ã¯ã€å…¨å“¡ã‚’æº€è¶³ã•ã›ã‚‹ã“ã¨ã§ã¯ãªãã€è‡ªåˆ†ã®è»¸ã‚’ä¸€ã¤ã ã‘å›ºå®šã—ã¦èª¿æ•´ã™ã‚‹ã“ã¨ã€‚ã‚ãªãŸã¯ã€åˆ†æ–­ã‚’èåˆã«å¤‰ãˆã‚‹ã‚¿ã‚¤ãƒ—ã§ã™ã€‚",essence:"çµ±åˆã¨é©å¿œã®èª¿åœè€…ã€‚ä¿¯ç°ã—ã¦æ§‹é€ ã‚’è¦‹æŠœãæ©‹ã‚’æ¶ã‘ã‚‹åŠ›ã§ãƒãƒ©ãƒãƒ©ã®æ„è¦‹ãƒ»éƒ¨ç½²ãƒ»ä¾¡å€¤è¦³ã‚’æ¥ç¶šã—æ©Ÿèƒ½ã™ã‚‹å½¢ã«æ•´ãˆã‚‹",strengths:"ä¿¯ç°ï¼èª¿æ•´ï¼å­¦ç¿’ï¼æ©‹æ¸¡ã—ï¼é‹ç”¨æ”¹å–„ã€‚è¡çªã‚’åˆ†è§£ã—ã¦åˆæ„å¯èƒ½ãªå½¢ã«ã™ã‚‹èƒ½åŠ›ãŒå¼·ã„",cautions:"æ±ºã‚æ‰‹ä¸è¶³ï¼å„ªå…ˆåº¦è¿·å­ï¼å…¨å“¡ã«ã„ã„é¡”ã§æ¶ˆè€—ã€‚çµ±åˆã—ã‚ˆã†ã¨ã™ã‚‹ã»ã©è²¬ä»»å¢—ãˆã‚ãªãŸãŒç–²ã‚Œã‚‹ã€‚æ±ºã‚æ–¹ã®ãƒ«ãƒ¼ãƒ«ãŒä¸å¯æ¬ ",key:"è»¸ã‚’è¨€èªåŒ–ã€‚åˆ¤æ–­åŸºæº–3ã¤å›ºå®šã€‚ç· åˆ‡è¨­å®šã€‚åˆ¤æ–­åŸºæº–ãŒæ˜æ–‡åŒ–ã•ã‚Œã‚‹ã¨æœ€å¼·ã€‚åˆ¤æ–­åŸºæº–3ã¤ï¼ˆä¾‹ï¼šåˆ©ç›Šï¼ãƒªã‚¹ã‚¯ï¼ç´æœŸï¼‰ã‚’å›ºå®šã—æ„æ€æ±ºå®šã«ç· åˆ‡ã€‚è¿·ã„ãŒæ¶ˆãˆèª¿æ•´åŠ›ãŒæˆæœã«",jobs:"PM/PMOï¼ˆåˆ©å®³èª¿æ•´ã¨å…¨ä½“æœ€é©ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‰é€²ï¼‰ï¼æ¥­å‹™æ”¹å–„ï¼ˆç¾å ´ã®å£°çµ±åˆã—é‹ç”¨åŒ–ï¼‰ï¼CSçµ±æ‹¬ï¼ˆé¡§å®¢ãƒ»ç¾å ´ãƒ»çµŒå–¶ã®çŸ›ç›¾çµ±åˆï¼‰ï¼çµ„ç¹”èª¿æ•´æ¨ªæ–­å½¹ï¼ˆéƒ¨é–€é–“æ©‹æ¸¡ã—ï¼‰ï¼æ•™è‚²é‹å–¶ï¼ˆé–¢ä¿‚è€…å¤šã„å ´ã§å®‰å®šé‹ç”¨ï¼‰ï¼ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé‹ç”¨æ”¹å–„æ‹…å½“ï¼ˆä½¿ã‚ã‚Œæ–¹ã¨ç¾å®Ÿåˆ¶ç´„çµ±åˆï¼‰ï¼ã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹èª¿æ•´ï¼ˆç›¸äº’åˆ©ç›Šã®è½ã¨ã—æ‰€ä½œã‚Šï¼‰ï¼ä¼ç”»èª¿æ•´å‹ï¼ˆç†æƒ³ã¨ç¾å®Ÿã®ä¸­é–“æ¡ˆä½œã‚Šï¼‰ï¼äººäº‹åˆ¶åº¦é‹ç”¨ï¼ˆç¾å ´ã¨åˆ¶åº¦ã®çŸ›ç›¾èª¿æ•´ï¼‰ï¼ãƒ•ã‚¡ã‚·ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»åˆæ„å½¢æˆï¼ˆå¯¾ç«‹ã‚’å‰é€²ã«å¤‰ãˆã‚‹ï¼‰",compatibility:"æ¨é€²ï¼ENTJ/ESTJï¼æˆ¦ç•¥ï¼INTJï¼ç™ºæƒ³ï¼ENTPï¼å®‰å¿ƒï¼ISFJã€‚ã‚ãªãŸãŒçµ±åˆå½¹ã§ç›¸æ‰‹ãŒå°‚ä»»ç«åŠ›ã§æœ€å¼·",action30:"â‘ åˆ¤æ–­åŸºæº–ã‚’3ã¤å›ºå®šâ‘¡æ„æ€æ±ºå®šã«ç· åˆ‡ã‚’ç½®ãâ‘¢å½¹å‰²ã¨è²¬ä»»ç¯„å›²ã‚’æ˜æ–‡åŒ–"}
    };

    const TAROT_MAJOR = {
      "INTJ":"éš è€…","INTP":"æ­£ç¾©","ENTJ":"çš‡å¸","ENTP":"é­”è¡“å¸«","INFJ":"å¥³æ•™çš‡","INFP":"æ˜Ÿ","ENFJ":"å¤ªé™½","ENFP":"æ„šè€…",
      "ISTJ":"æ•™çš‡","ISFJ":"ç¯€åˆ¶","ESTJ":"æˆ¦è»Š","ESFJ":"å¥³å¸","ISTP":"åŠ›","ISFP":"æ‹äºº","ESTP":"é‹å‘½ã®è¼ª","ESFP":"ä¸–ç•Œ","BAL":"å¯©åˆ¤"
    };

    /***********************
     * ç« ã‚¯ãƒªã‚¢é€šçŸ¥æ–‡ï¼ˆè¦ä»¶æº–æ‹ ï¼‰
     * - currentAnswerCount ãŒ 20,40,60,80,100 ã®ã¨ãã ã‘æ–‡ã‚’è¿”ã™
     * - ãã‚Œä»¥å¤–ã¯ç©ºæ–‡å­—
     ***********************/
    function chapterClearNotice(currentAnswerCount){
      const c = Number(currentAnswerCount);
      if (![20,40,60,80,100].includes(c)) return "";
      const n = Math.min(5, Math.ceil(c/20));

      if (c === 20)  return `ãƒãƒ£ãƒ—ã‚¿ãƒ¼${n}ã‚¯ãƒªã‚¢ã€‚20ä»¶ã®å›ç­”ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—è§£æåŸºç›¤ã¸åæ˜ ã—ã¾ã—ãŸã€‚æ¬¡ã¯ä¾¡å€¤è¦³ã®è¼ªéƒ­ã‚’è§£æã—ã¾ã™ã€‚`;
      if (c === 40)  return `ãƒãƒ£ãƒ—ã‚¿ãƒ¼${n}ã‚¯ãƒªã‚¢ã€‚40ä»¶ã®å…¥åŠ›ã‚’çµ±åˆã—æ¨å®šç²¾åº¦ã¸åæ˜ ã—ã¾ã—ãŸã€‚æ¬¡ã¯è¡Œå‹•å‚¾å‘ã¨æ„æ€æ±ºå®šã‚’è§£æã—ã¾ã™ã€‚`;
      if (c === 60)  return `ãƒãƒ£ãƒ—ã‚¿ãƒ¼${n}ã‚¯ãƒªã‚¢ã€‚60ä»¶ã®å›ç­”ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—è§£æåŸºç›¤ã¸åæ˜ ã—ã¾ã—ãŸã€‚æ¬¡ã¯å¼·ã¿ï¼å¼±ç‚¹ã¨ãƒªã‚¹ã‚¯è€æ€§ã®æ¨å®šã‚’å®Ÿè¡Œã—ã¾ã™ã€‚`;
      if (c === 80)  return `ãƒãƒ£ãƒ—ã‚¿ãƒ¼${n}ã‚¯ãƒªã‚¢ã€‚80ä»¶ã®å…¥åŠ›ã‚’çµ±åˆã—æ¨å®šãƒ¢ãƒ‡ãƒ«ã¸åæ˜ ã—ã¾ã—ãŸã€‚æ¬¡ã¯æœ€çµ‚æœ€é©åŒ–ã¨çµè«–ç”Ÿæˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚`;
      return `ãƒãƒ£ãƒ—ã‚¿ãƒ¼${n}ã‚¯ãƒªã‚¢ã€‚100ä»¶ã®å›ç­”ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆã—è§£æã‚’å®Œäº†ã—ã¾ã—ãŸã€‚æœ€çµ‚çµæœã‚’ç”Ÿæˆã—ã¾ã™ã€‚`;
    }

    /***********************
     * è¨­å•100ï¼ˆå›ºå®šï¼‰
     ***********************/
    const QUESTIONS = buildDefaultQuestions();
    function buildDefaultQuestions(){
      const out = [];
      const mk = (id, text, tag) => ({ id, text, tag });
      const E = [
        ["åˆå¯¾é¢ã®å ´ã§ã‚‚ã€è‡ªç„¶ã«è©±ã—ã‹ã‘ã‚‹ã»ã†ã ","[E+]"],
        ["ä¸€äººã§éã”ã™æ™‚é–“ãŒé•·ã„ã»ã©å®‰å¿ƒã™ã‚‹","[E-]"],
        ["äººãŒé›†ã¾ã‚‹å ´ã«è¡Œãã¨ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæ¹§ã","[E+]"],
        ["é›‘è«‡ã‚ˆã‚Šã‚‚ã€å¿…è¦ãªä¼šè©±ã ã‘ã§ååˆ†ã ","[E-]"],
        ["ç›¸è«‡ã•ã‚Œã‚‹ã¨ã€ã™ãåå¿œã—ã¦å ´ã‚’å‹•ã‹ã—ãŸããªã‚‹","[E+]"],
        ["äºˆå®šãŒè©°ã¾ã‚‹ã¨, ã¾ãšè·é›¢ã‚’å–ã‚ŠãŸããªã‚‹","[E-]"],
        ["æ–°ã—ã„ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å…¥ã‚‹ã®ãŒæ¥½ã—ã¿ã ","[E+]"],
        ["è€ƒãˆã‚’ã¾ã¨ã‚ã¦ã‹ã‚‰ã§ãªã„ã¨ç™ºè¨€ã—ã«ãã„","[E-]"],
        ["äººå‰ã§è©±ã™ã“ã¨ã«æŠµæŠ—ãŒå°‘ãªã„","[E+]"],
        ["å¤§å‹¢ã®ä¸­ã«ã„ã‚‹ã‚ˆã‚Šã€å°‘äººæ•°ãŒè½ã¡ç€ã","[E-]"],
        ["å³èˆˆã§ä¼šè©±ã‚’åºƒã’ã‚‹ã®ãŒå¾—æ„ã ","[E+]"],
        ["ä¼šè©±ã®å¾Œã¯ã€ä¸€äººã§å›å¾©ã™ã‚‹æ™‚é–“ãŒå¿…è¦ã ","[E-]"],
        ["å‘¨å›²ã®ãƒ†ãƒ³ã‚·ãƒ§ãƒ³ã«åˆã‚ã›ã¦ç››ã‚Šä¸Šã’ã‚‰ã‚Œã‚‹","[E+]"],
        ["ç™ºè¨€å‰ã«ã€é ­ã®ä¸­ã§ä½•åº¦ã‚‚ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹","[E-]"],
        ["å ´ã®ç©ºæ°—ã‚’èª­ã‚“ã§ç‡å…ˆã—ã¦å‹•ã","[E+]"],
        ["è‡ªåˆ†ã®ä¸–ç•Œã«å…¥ã‚‹æ™‚é–“ãŒãªã„ã¨æ¶ˆè€—ã™ã‚‹","[E-]"],
        ["ä»–äººã¨ä¸€ç·’ã«ä½œæ¥­ã™ã‚‹æ–¹ãŒæ—ã‚‹","[E+]"],
        ["é€£çµ¡ã¯æœ€ä½é™ã§ã„ã„ã¨æ„Ÿã˜ã‚‹","[E-]"],
        ["æ–°ã—ã„äººè„ˆä½œã‚Šã«å‰å‘ãã ","[E+]"],
        ["é™ã‹ãªç’°å¢ƒã®æ–¹ãŒé›†ä¸­ã§ãã‚‹","[E-]"],
        ["åå¿œãŒè¿”ã£ã¦ãã‚‹ã‚„ã‚Šå–ã‚ŠãŒå¥½ãã ","[E+]"],
        ["è‡ªåˆ†ã®å†…å´ã§çµè«–ãŒå‡ºã‚‹ã¾ã§è©±ã—ãŸããªã„","[E-]"],
        ["ã‚¤ãƒ™ãƒ³ãƒˆã‚„é›†ã¾ã‚Šã‚’ä¼ç”»ã™ã‚‹ã®ãŒå¥½ãã ","[E+]"],
        ["ç¤¾äº¤ã®å¾Œã¯ç–²ã‚ŒãŒã©ã£ã¨å‡ºã‚‹","[E-]"],
        ["äººã¨è©±ã™ã»ã©ã‚¢ã‚¤ãƒ‡ã‚¢ãŒå‡ºã‚‹","[E+]"],
      ];
      const S = [
        ["äº‹å®Ÿã‚„å®Ÿä¾‹ã‚’ã‚‚ã¨ã«åˆ¤æ–­ã™ã‚‹ã“ã¨ãŒå¤šã„","[S+]"],
        ["æŠ½è±¡çš„ãªå¯èƒ½æ€§ã‚’è€ƒãˆã‚‹ã®ãŒå¥½ãã ","[S-]"],
        ["ä»Šã‚ã‚‹æƒ…å ±ã‚’ä¸å¯§ã«ç¢ºèªã—ã¦é€²ã‚ãŸã„","[S+]"],
        ["ã€ã‚‚ã—ã€œãªã‚‰ã€ã®ä»®èª¬ã‚’ç«‹ã¦ã‚‹ã®ãŒæ¥½ã—ã„","[S-]"],
        ["æ‰‹é †ã‚„å…·ä½“ç­–ã‚’å›ºã‚ã‚‹ã¨å®‰å¿ƒã™ã‚‹","[S+]"],
        ["ç´°éƒ¨ã‚ˆã‚Šå…¨ä½“åƒã‚„æ„å‘³ã‚’å…ˆã«æ´ã¿ãŸã„","[S-]"],
        ["ç¾å®Ÿçš„ãªåˆ¶ç´„ã‚’è¸ã¾ãˆã¦æ±ºã‚ã‚‹","[S+]"],
        ["ç›´æ„Ÿçš„ãªã²ã‚‰ã‚ãã§æ–¹å‘æ€§ã‚’æ±ºã‚ã‚‹ã“ã¨ãŒã‚ã‚‹","[S-]"],
        ["çµŒé¨“ã«åŸºã¥ãå†ç¾æ€§ã‚’é‡è¦–ã™ã‚‹","[S+]"],
        ["æœªæ¥ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚„æµã‚Œã‚’æƒ³åƒã—ã‚„ã™ã„","[S-]"],
        ["æ•°å­—ã‚„æ ¹æ‹ ãŒã‚ã‚‹ã¨ç´å¾—ã—ã‚„ã™ã„","[S+]"],
        ["æ›–æ˜§ã§ã‚‚ãƒ“ã‚¸ãƒ§ãƒ³ãŒã‚ã‚Œã°å‹•ã‘ã‚‹","[S-]"],
        ["å…·ä½“çš„ãªæ”¹å–„ç‚¹ã‚’åˆ—æŒ™ã§ãã‚‹","[S+]"],
        ["è±¡å¾´ã‚„æ¯”å–©ã§ç†è§£ã™ã‚‹æ–¹ãŒã—ã£ãã‚Šãã‚‹","[S-]"],
        ["ç¾å ´æ„Ÿè¦šã‚„å®Ÿå‹™ã®æ„Ÿè§¦ã‚’å¤§åˆ‡ã«ã™ã‚‹","[S+]"],
        ["ä»Šã¯ç„¡ã„å¯èƒ½æ€§ã«ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹","[S-]"],
        ["è¨ˆç”»ã¯ç¾å®Ÿã«è½ã¨ã—è¾¼ã‚ã‚‹ã‹ã‚’ç¢ºèªã™ã‚‹","[S+]"],
        ["å¸¸è­˜ã‚’ç–‘ã£ã¦æ–°ã—ã„è§£é‡ˆã‚’æ¢ã™","[S-]"],
        ["ç›®ã®å‰ã®èª²é¡Œã‚’ä¸€ã¤ãšã¤è§£ãã®ãŒå¾—æ„","[S+]"],
        ["ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚„å…±é€šç‚¹ã‚’è¦‹ã¤ã‘ã‚‹ã®ãŒå¾—æ„","[S-]"],
        ["å…·ä½“ä¾‹ãŒã‚ã‚‹ã¨ç†è§£ãŒæ—©ã„","[S+]"],
        ["ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚„ä¸–ç•Œè¦³ã‹ã‚‰ç™ºæƒ³ã™ã‚‹","[S-]"],
        ["å°ã•ãªå¤‰åŒ–ã«æ°—ã¥ãã‚„ã™ã„","[S+]"],
        ["æœ¬è³ªã‚’æ´ã‚ã°ç´°éƒ¨ã¯å¾Œã‹ã‚‰ã§ã„ã„","[S-]"],
        ["ç¾å®Ÿã®ãƒªã‚¹ã‚¯ã‚’å…ˆã«æ´—ã„å‡ºã™","[S+]"],
      ];
      const T = [
        ["çµè«–ã¯è«–ç†ã®æ•´åˆæ€§ã‚’å„ªå…ˆã—ãŸã„","[T+]"],
        ["ç›¸æ‰‹ã®æ°—æŒã¡ã‚’å„ªå…ˆã—ã¦è¨€ã„æ–¹ã‚’é¸ã¶","[T-]"],
        ["å…¬å¹³ãªãƒ«ãƒ¼ãƒ«ã«æ²¿ã£ã¦åˆ¤æ–­ã—ãŸã„","[T+]"],
        ["è¡çªã‚’é¿ã‘ã‚‹ãŸã‚ã«é…æ…®ã™ã‚‹ã“ã¨ãŒå¤šã„","[T-]"],
        ["æ„Ÿæƒ…ã‚ˆã‚Šã‚‚äº‹å®Ÿã‚’å…ˆã«æ•´ç†ã™ã‚‹","[T+]"],
        ["å ´ã®é›°å›²æ°—ã‚„äººé–“é–¢ä¿‚ã‚’é‡è¦–ã™ã‚‹","[T-]"],
        ["åŠ¹ç‡ã‚„æˆæœã‚’åŸºæº–ã«æ„æ€æ±ºå®šã™ã‚‹","[T+]"],
        ["ç›¸æ‰‹ãŒå‚·ã¤ã‹ãªã„ã“ã¨ãŒæœ€é‡è¦ã ","[T-]"],
        ["è­°è«–ã§å¼±ç‚¹ã‚’æŒ‡æ‘˜ã•ã‚Œã¦ã‚‚å†·é™ã§ã„ã‚‰ã‚Œã‚‹","[T+]"],
        ["å…±æ„Ÿã•ã‚Œã‚‹ã¨å®‰å¿ƒã™ã‚‹","[T-]"],
        ["åŸå› ã¨çµæœã‚’åˆ†è§£ã—ã¦è€ƒãˆã‚‹","[T+]"],
        ["èª°ã‹ã®åŠªåŠ›ã‚„èƒŒæ™¯ã‚’æ±²ã¿å–ã‚ŠãŸã„","[T-]"],
        ["æ­£ã—ã„/é–“é•ã„ã‚’ã¯ã£ãã‚Šã•ã›ãŸã„","[T+]"],
        ["ã€æ­£ã—ã•ã€ã‚ˆã‚Šã€ã‚„ã•ã—ã•ã€ã‚’å„ªå…ˆã™ã‚‹","[T-]"],
        ["åˆç†æ€§ãŒä½ã„ææ¡ˆã¯è¦‹ç›´ã—ãŸããªã‚‹","[T+]"],
        ["ç›¸æ‰‹ã®ç«‹å ´ã«ç«‹ã¤ã¨æ±ºã‚ãã‚Œãªã„ã“ã¨ãŒã‚ã‚‹","[T-]"],
        ["æ•°å­—ã§èª¬æ˜ã§ãã‚‹ã¨å®‰å¿ƒã™ã‚‹","[T+]"],
        ["æ„Ÿæƒ…ã®ç´å¾—æ„ŸãŒãªã„ã¨é€²ã‚ã«ãã„","[T-]"],
        ["è©•ä¾¡åŸºæº–ã‚’æ˜ç¢ºã«ã—ã¦ã‹ã‚‰å‹•ã","[T+]"],
        ["å’Œã‚’ä¹±ã•ãªã„ã‚ˆã†ã«èª¿æ•´ã™ã‚‹ã®ãŒå¾—æ„","[T-]"],
        ["é•·æœŸçš„ã«å¾—ã‹ã©ã†ã‹ã§é¸ã¶","[T+]"],
        ["é–¢ä¿‚æ€§ãŒå£Šã‚Œãã†ãªã‚‰æ–¹é‡ã‚’å¤‰ãˆã‚‹","[T-]"],
        ["æœ€é©è§£ã‚’æ¢ã™ã®ãŒå¥½ãã ","[T+]"],
        ["ç›¸æ‰‹ãŒå®‰å¿ƒã§ãã‚‹èª¬æ˜ã‚’å¿ƒãŒã‘ã‚‹","[T-]"],
        ["çµè«–ã‚’æ€¥ãŒãšæ°—æŒã¡ã‚’æ•´ãˆã‚‹æ™‚é–“ã‚‚å¿…è¦","[T-]"],
      ];
      const J = [
        ["ç· åˆ‡ã‚„è¨ˆç”»ãŒã‚ã‚‹æ–¹ãŒå‹•ãã‚„ã™ã„","[J+]"],
        ["é¸æŠè‚¢ã‚’æ®‹ã—ã¦ãŠããŸã„","[J-]"],
        ["ToDoã‚’æ•´ç†ã—ã¦é †ç•ªã«å‡¦ç†ã™ã‚‹","[J+]"],
        ["ãã®å ´ã®æµã‚Œã§æŸ”è»Ÿã«æ±ºã‚ãŸã„","[J-]"],
        ["äºˆå®šã¯æ—©ã‚ã«ç¢ºå®šã—ãŸã„","[J+]"],
        ["ç›´å‰ã¾ã§è¿·ã£ã¦æœ€è‰¯ã‚’é¸ã³ãŸã„","[J-]"],
        ["ãƒ«ãƒ¼ãƒ«ã‚„æ‰‹é †ã«æ²¿ã£ã¦é€²ã‚ãŸã„","[J+]"],
        ["å‹ã«ãƒãƒã‚‰ãšè©¦è¡ŒéŒ¯èª¤ã—ãŸã„","[J-]"],
        ["éƒ¨å±‹ã‚„ãƒ‡ãƒ¼ã‚¿ã¯æ•´ã£ã¦ã„ã‚‹æ–¹ãŒè½ã¡ç€ã","[J+]"],
        ["æ•£ã‚‰ã‹ã£ã¦ã„ã¦ã‚‚å¿…è¦ãªã‚‰ã™ãå‹•ã‘ã‚‹","[J-]"],
        ["æ±ºã‚ãŸã‚‰æœ€å¾Œã¾ã§ã‚„ã‚Šåˆ‡ã‚ŠãŸã„","[J+]"],
        ["çŠ¶æ³æ¬¡ç¬¬ã§æ–¹é‡ã‚’å¤‰ãˆã‚‹ã®ãŒè‡ªç„¶ã ","[J-]"],
        ["ã¾ãšã‚´ãƒ¼ãƒ«ã¨æœŸé™ã‚’æ±ºã‚ã‚‹","[J+]"],
        ["ã‚„ã‚ŠãªãŒã‚‰ç›®çš„ãŒå¤‰ã‚ã‚‹ã“ã¨ã‚‚ã‚ã‚‹","[J-]"],
        ["æ‰‹å¸³ã‚„ãƒ¡ãƒ¢ã§ç®¡ç†ã™ã‚‹ç¿’æ…£ãŒã‚ã‚‹","[J+]"],
        ["è¨ˆç”»ã‚ˆã‚Šã‚‚å‹¢ã„ãŒå¤§äº‹ã ã¨æ€ã†","[J-]"],
        ["ã€å®Œäº†ã€ã®çŠ¶æ…‹ã‚’ä½œã‚‹ã®ãŒå¥½ãã ","[J+]"],
        ["æœªå®Œæˆã§ã‚‚é€²ã‚ãªãŒã‚‰æ•´ãˆãŸã„","[J-]"],
        ["äºˆæƒ³å¤–ãŒèµ·ãã¦ã‚‚ãƒªã‚«ãƒãƒªè¨ˆç”»ã‚’ç«‹ã¦ã‚‹","[J+]"],
        ["é¸æŠè‚¢ãŒå¤šã„ã»ã©ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹","[J-]"],
        ["ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆãŒã‚ã‚‹ã¨å®‰å¿ƒã™ã‚‹","[J+]"],
        ["ç· åˆ‡ãŒãªã„ã¨é¢ç™½ã„æ–¹ã¸å¯„ã‚Šé“ã™ã‚‹","[J-]"],
        ["å…ˆã«æ®µå–ã‚Šã‚’æ±ºã‚ã¦ã‹ã‚‰å‹•ã","[J+]"],
        ["ãã®æ™‚ã®æ°—åˆ†ã§å„ªå…ˆé †ä½ãŒå¤‰ã‚ã‚‹","[J-]"],
        ["çµè«–ã‚’æ—©ã‚ã«å›ºã‚ã¦ã‚¹ãƒƒã‚­ãƒªã—ãŸã„","[J+]"],
      ];
      let id = 1;
      for (const [t, tag] of E) out.push(mk(id++, `Q${id-1}. ${t}`, tag));
      for (const [t, tag] of S) out.push(mk(id++, `Q${id-1}. ${t}`, tag));
      for (const [t, tag] of T) out.push(mk(id++, `Q${id-1}. ${t}`, tag));
      for (const [t, tag] of J) out.push(mk(id++, `Q${id-1}. ${t}`, tag));
      if (out.length !== 100) throw new Error("QUESTIONS must be 100");
      return out;
    }

    const $ = (id)=>document.getElementById(id);

    const dom = {
      chapterFlash:$("chapterFlash"),

      viewHero:$("viewHero"),
      viewProfile:$("viewProfile"),
      viewQuestions:$("viewQuestions"),
      viewWorry:$("viewWorry"),
      viewResult:$("viewResult"),

      btnStart:$("btnStart"),
      btnResetAll:$("btnResetAll"),

      btnBackToHero:$("btnBackToHero"),
      btnToQuestions:$("btnToQuestions"),

      name:$("name"),
      gender:$("gender"),
      birthday:$("birthday"),
      userId:$("userId"),
      errName:$("errName"),
      errGender:$("errGender"),
      errBirthday:$("errBirthday"),
      profileRestoreNote:$("profileRestoreNote"),

      qText:$("qText"),
      qTagChip:$("qTagChip"),
      qIndexChip:$("qIndexChip"),
      chapterChip:$("chapterChip"),
      doneCountText:$("doneCountText"),
      valuePill:$("valuePill"),
      range:$("range"),
      tickRow:$("tickRow"),
      qToast:$("qToast"),

      btnPrevQ:$("btnPrevQ"),
      btnNextQ:$("btnNextQ"),
      btnJumpProfile:$("btnJumpProfile"),
      btnResetFromQuestions:$("btnResetFromQuestions"),

      bottomNav:$("bottomNav"),

      worryText:$("worryText"),
      worryCount:$("worryCount"),
      btnShowResult:$("btnShowResult"),

      btnCopyJson:$("btnCopyJson"),
      btnDownloadJson:$("btnDownloadJson"),
      btnResetFromResult:$("btnResetFromResult"),
      resultToast:$("resultToast"),
      jsonPreview:$("jsonPreview"),

      waterFill:$("waterFill"),
      meterText:$("meterText"),
      topSubtitle:$("topSubtitle"),

      chapterModal:$("chapterModal"),
      chapterModalTitle:$("chapterModalTitle"),
      chapterModalBody:$("chapterModalBody"),
      btnChapterContinue:$("btnChapterContinue"),

      mapModal:$("mapModal"),
      btnCloseMap:$("btnCloseMap"),

      miniMapBtn:$("miniMapBtn"),
      miniPct:$("miniPct"),
      miniPathProg:$("miniPathProg"),
      miniHalo:$("miniHalo"),
      miniDot:$("miniDot"),
      miniPulse:$("miniPulse"),
      miniBuildings:$("miniBuildings"),

      ascentCaption:$("ascentCaption"),
      ascentPathProg:$("ascentPathProg"),
      ascentRunes:$("ascentRunes"),
      ascentBuildings:$("ascentBuildings"),
      ascentHalo:$("ascentHalo"),
      ascentDot:$("ascentDot"),
      ascentWisp:$("ascentWisp"),
      ascentParticles:$("ascentParticles"),
      ascentSvg:$("ascentSvg"),

      topbar:$("topbar"),
      wrap:$("wrap"),
    };

    const state = {
      view:"hero",
      currentIndex:0,
      profile:{ name:"", gender:"", birthday:"" },
      userId:"",
      answers:new Array(100).fill(4),
      done:new Array(100).fill(false),
      worryText:"",
      lastPayload:null,
      lastChapterShown:0,
      makeResponse:null  // Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ä¿å­˜
    };

    document.addEventListener("gesturestart", (e)=>e.preventDefault(), { passive:false });
    document.addEventListener("gesturechange",(e)=>e.preventDefault(), { passive:false });
    document.addEventListener("gestureend",  (e)=>e.preventDefault(), { passive:false });

    const clamp = (n,a,b)=>Math.max(a,Math.min(b,n));

    function parseQuery(){
      const q = new URLSearchParams(location.search);
      return { userId: q.get("userId") || "" };
    }

    function save(){
      localStorage.setItem(STORAGE_KEY, JSON.stringify({
        view:state.view,
        currentIndex:state.currentIndex,
        profile:state.profile,
        userId:state.userId,
        answers:state.answers,
        done:state.done,
        worryText:state.worryText,
        lastChapterShown:state.lastChapterShown,
        makeResponse:state.makeResponse  // Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚‚ä¿å­˜
      }));
    }

    function load(){
      const raw = localStorage.getItem(STORAGE_KEY);
      if (!raw) return false;
      try{
        const data = JSON.parse(raw);
        if (!data || typeof data !== "object") return false;
        if (!Array.isArray(data.answers) || data.answers.length !== 100) return false;

        state.view = data.view || "hero";
        state.currentIndex = clamp(Number(data.currentIndex || 0), 0, 99);

        state.profile = {
          name: String(data.profile?.name || ""),
          gender: String(data.profile?.gender || ""),
          birthday: String(data.profile?.birthday || ""),
        };
        state.userId = String(data.userId || "");

        state.answers = data.answers.map(v => clamp(Number(v ?? 4), 1, 7));

        if (Array.isArray(data.done) && data.done.length === 100){
          state.done = data.done.map(Boolean);
        } else {
          state.done = new Array(100).fill(false);
          for (let i=0;i<state.currentIndex;i++) state.done[i] = true;
        }

        state.worryText = String(data.worryText || "");
        state.lastChapterShown = Number(data.lastChapterShown || 0);
        state.makeResponse = data.makeResponse || null;  // Makeãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¾©å…ƒ
        return true;
      }catch{
        return false;
      }
    }

    function clearAll(){
      localStorage.removeItem(STORAGE_KEY);
      state.view="hero";
      state.currentIndex=0;
      state.profile={name:"",gender:"",birthday:""};
      state.userId="";
      state.answers=new Array(100).fill(4);
      state.done=new Array(100).fill(false);
      state.worryText="";
      state.lastPayload=null;
      state.lastChapterShown=0;
      state.makeResponse=null;  // Makeãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚‚ã‚¯ãƒªã‚¢
      renderAll();
    }

    function setView(v){
      state.view=v;
      save();
      renderAll();
      window.scrollTo({top:0, behavior:"smooth"});
    }

    function answeredDoneCount(){
      return state.done.reduce((a,b)=>a+(b?1:0),0);
    }

    function currentChapterByDone(doneCount){
      return clamp(Math.floor(doneCount/20), 0, 4);
    }

    function applyThemeByDone(doneCount){
      const th = THEMES[currentChapterByDone(doneCount)];
      document.documentElement.style.setProperty("--accent1", th.a1);
      document.documentElement.style.setProperty("--accent2", th.a2);
      document.documentElement.style.setProperty("--accent3", th.a3);
      document.documentElement.style.setProperty("--bg0", th.bg0);
      document.documentElement.style.setProperty("--bg1", th.bg1);
      dom.chapterChip.textContent = th.name;
      dom.topSubtitle.textContent = `ç« ï¼š${th.name}ï½œå·¡ç¤¼è·¯ã§ä¸Šæ˜‡ï¼ˆ7æ®µéšï¼‰`;
    }

    function updateMeter(){
      const done = answeredDoneCount();
      const pct = (done/100)*100;
      dom.waterFill.style.width = pct.toFixed(1) + "%";
      dom.meterText.textContent = `${done} / 100`;
      dom.waterFill.parentElement.setAttribute("aria-valuenow", String(done));
      applyThemeByDone(done);
      updateAscent(done);
      updateMini(done);
    }

    function valueColor(v){
      const map = {
        1: "color-mix(in oklab, var(--accent1) 70%, black 25%)",
        2: "color-mix(in oklab, var(--accent1) 70%, var(--accent3) 20%)",
        3: "color-mix(in oklab, var(--accent3) 70%, var(--accent1) 20%)",
        4: "color-mix(in oklab, var(--accent3) 55%, rgba(255,255,255,.10) 0%)",
        5: "color-mix(in oklab, var(--accent2) 55%, var(--accent3) 30%)",
        6: "color-mix(in oklab, var(--accent2) 72%, var(--accent3) 12%)",
        7: "color-mix(in oklab, var(--accent2) 85%, white 8%)",
      };
      return map[clamp(v,1,7)];
    }

    function applyThumbScale(v){
      const dist = Math.abs(v-4);
      const t = dist/3;
      dom.range.style.setProperty("--thumbScale", String(1 + t*0.45));
    }

    function applyRangePaint(v){
      const pct = ((v-1)/6)*100;
      dom.range.style.setProperty("--fillPct", pct.toFixed(2) + "%");
      dom.range.style.setProperty("--fillColor", valueColor(v));
      dom.valuePill.textContent = String(v);
      applyThumbScale(v);

      dom.tickRow.querySelectorAll("button[data-v]").forEach(b=>{
        b.classList.toggle("on", Number(b.dataset.v) === v);
      });
    }

    function renderTicks(current){
      dom.tickRow.innerHTML = "";
      for (let v=1; v<=7; v++){
        const b = document.createElement("button");
        b.type="button";
        b.className = "tickBtn" + (v===current ? " on" : "");
        b.textContent = String(v);
        b.dataset.v = String(v);
        b.addEventListener("click", ()=> setAnswerValue(v, true));
        dom.tickRow.appendChild(b);
      }
    }

    function setAnswerValue(v, markDone){
      const i = state.currentIndex;
      const val = clamp(Number(v),1,7);
      state.answers[i] = val;
      if (markDone) state.done[i] = true;
      save();
      dom.range.value = String(val);
      applyRangePaint(val);
      dom.doneCountText.textContent = String(answeredDoneCount());
      updateMeter();
    }

    function validateProfile(){
      let ok = true;
      dom.errName.style.display="none";
      dom.errGender.style.display="none";
      dom.errBirthday.style.display="none";
      if (!dom.name.value.trim()){ dom.errName.style.display="block"; ok=false; }
      if (!dom.gender.value){ dom.errGender.style.display="block"; ok=false; }
      if (!dom.birthday.value){ dom.errBirthday.style.display="block"; ok=false; }
      return ok;
    }

    function syncProfileFromInputs(){
      state.profile.name = dom.name.value.trim();
      state.profile.gender = dom.gender.value;
      state.profile.birthday = dom.birthday.value;
      state.userId = dom.userId.value.trim();
      save();
    }

    // ===== Make.comäº’æ›ã®è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ =====
    
    function normalizeAnswers(v) {
      // 1) æ–‡å­—åˆ—(JSON)ãªã‚‰ãƒ‘ãƒ¼ã‚¹
      if (typeof v === "string") {
        try { return normalizeAnswers(JSON.parse(v)); } catch (_) {}
      }

      // 2) æ—¢ã«é…åˆ—
      if (Array.isArray(v)) {
        return v.map(n => Number(n));
      }

      // 3) Makeã®Collectionï¼ˆ{"1":3,"2":3,...}ï¼‰ã‚’é…åˆ—ã¸
      if (v && typeof v === "object") {
        const keys = Object.keys(v)
          .filter(k => /^\d+$/.test(k))
          .sort((a,b) => Number(a) - Number(b));
        if (keys.length) return keys.map(k => Number(v[k]));
      }

      return null;
    }

    function toPoints(a){ return Number(a) - 5; }
    
    function axisAdd(tag, pts){
      const axis = tag[0];
      const sign = tag[1];
      const add = (sign === "+") ? pts : -pts;
      return [axis, add];
    }
    
    function pctPos(score){ return ((score + 100) / 200) * 100; }

    function computeScoresAndType(){
      // answersã‚’æ­£è¦åŒ–
      const answers = normalizeAnswers(state.answers);
      
      if (!answers || answers.length !== 100) {
        throw new Error("answers must be an array of 100 integers (got " + (answers ? answers.length : "null") + ")");
      }

      // tagsã‚’å–å¾—
      let tags = QUESTIONS.map(q => q.tag.replace(/[\[\]]/g, "")); // [E+] â†’ E+
      
      if (!Array.isArray(tags) || tags.length !== 100) {
        throw new Error("tags must be an array of 100 strings like E+/E-/S+/S-/T+/T-/J+/J-");
      }

      // æ¡ç‚¹
      let scoreE=0, scoreS=0, scoreT=0, scoreJ=0;
      for (let i=0;i<100;i++){
        const pts = toPoints(answers[i]);
        const [ax, add] = axisAdd(String(tags[i]), pts);
        if (ax==="E") scoreE += add;
        else if (ax==="S") scoreS += add;
        else if (ax==="T") scoreT += add;
        else if (ax==="J") scoreJ += add;
        else throw new Error("invalid tag axis: " + tags[i]);
      }

      const isBAL = (
        Math.abs(scoreE) < 10 &&
        Math.abs(scoreS) < 10 &&
        Math.abs(scoreT) < 10 &&
        Math.abs(scoreJ) < 10
      );

      let typeCode = "BAL";
      if (!isBAL) {
        const EorI = (scoreE >= 0) ? "E" : "I";
        const SorN = (scoreS >= 0) ? "S" : "N";
        const TorF = (scoreT >= 0) ? "T" : "F";
        const JorP = (scoreJ >= 0) ? "J" : "P";
        typeCode = `${EorI}${SorN}${TorF}${JorP}`;
      }

      const pE=pctPos(scoreE), pI=100-pE;
      const pS=pctPos(scoreS), pN=100-pS;
      const pT=pctPos(scoreT), pF=100-pT;
      const pJ=pctPos(scoreJ), pP=100-pJ;

      const axisEI = (Math.abs(scoreE)/100)*100;
      const axisSN = (Math.abs(scoreS)/100)*100;
      const axisTF = (Math.abs(scoreT)/100)*100;
      const axisJP = (Math.abs(scoreJ)/100)*100;
      const overall = (axisEI+axisSN+axisTF+axisJP)/4;

      return {
        typeCode, 
        isBAL,
        scores: {E:scoreE, S:scoreS, T:scoreT, J:scoreJ},
        percents: {E:pE, I:pI, S:pS, N:pN, T:pT, F:pF, J:pJ, P:pP},
        confidence: {axisEI, axisSN, axisTF, axisJP, overall}
      };
    }

    function buildPayload(){
      console.log("ğŸ“¦ buildPayloadé–¢æ•°ãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸ");
      console.log("ğŸ“Š state.answers length:", state.answers?.length);
      console.log("ğŸ‘¤ state.profile:", state.profile);
      const result = computeScoresAndType();
      
      // æ‚©ã¿ã”ã¨ãŒç©ºã®å ´åˆã¯ã€Œï¼ˆæœªå…¥åŠ›ï¼‰ã€ã‚’è¨­å®š
      let worryTextValue = (state.worryText || "").trim();
      if (!worryTextValue) {
        worryTextValue = "ï¼ˆæœªå…¥åŠ›ï¼‰";
      }
      
      const payload = {
        action:"final_submit",
        userId: (state.userId || "").trim(),
        step:999,
        profile:{
          gender: state.profile.gender,
          name: state.profile.name,
          birthday: state.profile.birthday
        },
        answers: state.answers.map(v => Number(v)),
        tags: QUESTIONS.map(q => q.tag.replace(/[\[\]]/g, "")), // [E+] â†’ E+
        worryText: worryTextValue,
        "17type": result.typeCode,
        typeCode: result.typeCode,
        isBAL: result.isBAL,
        scores: result.scores,
        percents: result.percents,
        confidence: result.confidence
      };
      if (!payload.profile.name || !payload.profile.gender || !payload.profile.birthday) throw new Error("profile incomplete");
      if (!Array.isArray(payload.answers) || payload.answers.length !== 100) throw new Error("answers invalid");
      for (const a of payload.answers){
        if (!Number.isInteger(a) || a<1 || a>7) throw new Error("answers must be 1..7 integers");
      }
      if (payload.worryText.length > 2000) payload.worryText = payload.worryText.slice(0,2000);
      console.log("âœ… ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ä½œæˆæˆåŠŸ:", payload);
      return payload;
    }

    // Make.comã«é€ä¿¡ã—ã¦çµæœã‚’å–å¾—ã™ã‚‹é–¢æ•°
    async function submitToMakeAndGetResult(){
      console.log("ğŸŒ submitToMakeAndGetResulté–‹å§‹");
      
      let payload;
      try {
        payload = buildPayload();
      } catch(e) {
        console.error("buildPayload error:", e);
        return { success: false, error: "ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ã‚¨ãƒ©ãƒ¼: " + (e?.message || e) };
      }
      
      state.lastPayload = payload;
      save();
      
      const jsonText = safeJson(payload);
      console.log("ğŸ“¤ é€ä¿¡ã™ã‚‹JSONãƒ‡ãƒ¼ã‚¿:", jsonText);
      console.log("ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚º:", jsonText.length, "æ–‡å­—");
      
      if (!WEBHOOK_URL) {
        return { success: false, error: "WEBHOOK_URLãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“" };
      }
      
      console.log("ğŸŒ fetché–‹å§‹... URL:", WEBHOOK_URL);
      
      try {
        const res = await fetch(WEBHOOK_URL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: jsonText
        });
        
        console.log("âœ… fetchå®Œäº† - Response status:", res.status);
        
        if (!res.ok) {
          const errorText = await res.text().catch(() => "");
          console.error("Response error:", errorText);
          return { 
            success: false, 
            error: `HTTP ${res.status}: ${errorText || "ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼"}` 
          };
        }
        
        // Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å–å¾—ï¼ˆJSONã¨ã—ã¦ï¼‰
        const responseData = await res.json().catch(async () => {
          // JSONã§ãªã„å ´åˆã¯ãƒ†ã‚­ã‚¹ãƒˆã¨ã—ã¦å–å¾—
          const text = await res.text().catch(() => "");
          console.log("âš ï¸ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒJSONã§ã¯ã‚ã‚Šã¾ã›ã‚“:", text);
          // ãƒ†ã‚­ã‚¹ãƒˆã®å ´åˆã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§è¨ˆç®—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ç”¨
          return payload;
        });
        
        console.log("âœ… Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹:", responseData);
        
        // Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«ãƒ­ãƒ¼ã‚«ãƒ«è¨ˆç®—ã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒãƒ¼ã‚¸
        // MakeãŒè¿”ã—ã¦ã„ãªã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã§è£œå®Œ
        const mergedData = {
          ...payload,  // ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ™ãƒ¼ã‚¹ã«
          ...responseData,  // Makeã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§ä¸Šæ›¸ã
          // å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ç¢ºå®Ÿã«è¨­å®š
          "17type": responseData["17type"] || payload["17type"],
          typeCode: responseData.typeCode || payload.typeCode,
        };
        
        console.log("ğŸ”— ãƒãƒ¼ã‚¸å¾Œã®ãƒ‡ãƒ¼ã‚¿:", mergedData);
        console.log("ğŸ” ãƒãƒ¼ã‚¸å¾Œã®17type:", mergedData["17type"]);
        console.log("ğŸ” ãƒãƒ¼ã‚¸å¾Œã®typeCode:", mergedData.typeCode);
        
        return { success: true, data: mergedData };
        
      } catch(e) {
        console.error("Fetch error:", e);
        return { 
          success: false, 
          error: "ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼: " + (e?.message || e) 
        };
      }
    }

    function safeJson(obj){ return JSON.stringify(obj, null, 2); }

    async function copyToClipboard(text){
      try{ await navigator.clipboard.writeText(text); return true; }
      catch{
        const ta = document.createElement("textarea");
        ta.value=text; ta.style.position="fixed"; ta.style.left="-9999px";
        document.body.appendChild(ta); ta.focus(); ta.select();
        let ok=false; try{ ok=document.execCommand("copy"); }catch{ ok=false; }
        ta.remove(); return ok;
      }
    }

    function downloadText(filename, text){
      const blob = new Blob([text], {type:"application/json;charset=utf-8"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href=url; a.download=filename;
      document.body.appendChild(a);
      a.click(); a.remove();
      URL.revokeObjectURL(url);
    }

    /***********************
     * å·¡ç¤¼è·¯ï¼ˆé€²æ—ã§ä¸Šæ˜‡ï¼‰ï¼‹å»ºç‰©ï¼ˆ20å•ã”ã¨ï¼‰
     ***********************/
    const ascent = { pathLen:0, lastDone:0, raf:0, particles:[] };
    const mini = { pathLen:0 };

    function initAscent(){
      ascent.pathLen = dom.ascentPathProg.getTotalLength();
      dom.ascentPathProg.style.strokeDasharray = `${ascent.pathLen} ${ascent.pathLen}`;
      dom.ascentPathProg.style.strokeDashoffset = `${ascent.pathLen}`;

      mini.pathLen = dom.miniPathProg.getTotalLength();
      dom.miniPathProg.style.strokeDasharray = `${mini.pathLen} ${mini.pathLen}`;
      dom.miniPathProg.style.strokeDashoffset = `${mini.pathLen}`;

      renderAscentRunes();
      renderAscentBuildings();
      renderMiniBuildings();
      seedAscentParticles(22);
      cancelAnimationFrame(ascent.raf);
      ascent.raf = requestAnimationFrame(ascentAnimate);
    }

    function renderAscentRunes(){
      dom.ascentRunes.innerHTML = "";
      for (let n=5; n<=100; n+=5){
        const t = n/100;
        const pt = dom.ascentPathProg.getPointAtLength(ascent.pathLen*t);

        const g = document.createElementNS("http://www.w3.org/2000/svg","g");
        g.setAttribute("data-node", String(n));
        const is20 = (n%20===0), is10=(n%10===0);

        if (is20){
          const ring = document.createElementNS("http://www.w3.org/2000/svg","circle");
          ring.setAttribute("cx", pt.x); ring.setAttribute("cy", pt.y);
          ring.setAttribute("r", 10);
          ring.setAttribute("fill","rgba(255,255,255,.06)");
          ring.setAttribute("stroke","rgba(255,255,255,.20)");
          ring.setAttribute("stroke-width","1.2");
          g.appendChild(ring);
        } else if (is10){
          const diamond = document.createElementNS("http://www.w3.org/2000/svg","path");
          diamond.setAttribute("d", `M ${pt.x} ${pt.y-6} L ${pt.x+6} ${pt.y} L ${pt.x} ${pt.y+6} L ${pt.x-6} ${pt.y} Z`);
          diamond.setAttribute("fill","rgba(255,255,255,.06)");
          diamond.setAttribute("stroke","rgba(255,255,255,.16)");
          g.appendChild(diamond);
        } else {
          const dot = document.createElementNS("http://www.w3.org/2000/svg","circle");
          dot.setAttribute("cx", pt.x); dot.setAttribute("cy", pt.y);
          dot.setAttribute("r", 3.6);
          dot.setAttribute("fill","rgba(255,255,255,.06)");
          dot.setAttribute("stroke","rgba(255,255,255,.14)");
          g.appendChild(dot);
        }

        dom.ascentRunes.appendChild(g);
      }
    }

    function renderAscentBuildings(){
      dom.ascentBuildings.innerHTML = "";
      const milestones = [20,40,60,80,100];
      milestones.forEach(m=>{
        const t = m/100;
        const pt = dom.ascentPathProg.getPointAtLength(ascent.pathLen*t);

        const g = document.createElementNS("http://www.w3.org/2000/svg","g");
        g.setAttribute("data-b", String(m));
        g.setAttribute("class","floaty");

        const idx = Math.min(4, Math.floor((m-1)/20));
        const color = ["rgba(255,255,255,.16)","rgba(255,255,255,.14)","rgba(255,255,255,.16)","rgba(255,255,255,.14)","rgba(255,255,255,.18)"][idx];

        const base = document.createElementNS("http://www.w3.org/2000/svg","path");
        base.setAttribute("d", `M ${pt.x-8} ${pt.y+10} L ${pt.x+8} ${pt.y+10} L ${pt.x+6} ${pt.y+18} L ${pt.x-6} ${pt.y+18} Z`);
        base.setAttribute("fill","rgba(0,0,0,.18)");
        base.setAttribute("stroke", color);
        base.setAttribute("stroke-width","1.1");
        g.appendChild(base);

        const spire = document.createElementNS("http://www.w3.org/2000/svg","path");
        spire.setAttribute("d", `M ${pt.x} ${pt.y-16} L ${pt.x+10} ${pt.y+10} L ${pt.x} ${pt.y+4} L ${pt.x-10} ${pt.y+10} Z`);
        spire.setAttribute("fill","rgba(255,255,255,.06)");
        spire.setAttribute("stroke", color);
        spire.setAttribute("stroke-width","1.1");
        g.appendChild(spire);

        const gem = document.createElementNS("http://www.w3.org/2000/svg","circle");
        gem.setAttribute("cx", pt.x);
        gem.setAttribute("cy", pt.y-16);
        gem.setAttribute("r", 3.8);
        gem.setAttribute("fill", "rgba(255,255,255,.28)");
        gem.setAttribute("stroke", "rgba(255,255,255,.22)");
        g.appendChild(gem);

        dom.ascentBuildings.appendChild(g);
      });
    }

    function renderMiniBuildings(){
      dom.miniBuildings.innerHTML = "";
      const milestones = [20,40,60,80,100];
      milestones.forEach(m=>{
        const t = m/100;
        const pt = dom.miniPathProg.getPointAtLength(mini.pathLen*t);

        const g = document.createElementNS("http://www.w3.org/2000/svg","g");
        g.setAttribute("data-mb", String(m));

        const idx = Math.min(4, Math.floor((m-1)/20));
        const colors = [
          "color-mix(in oklab, var(--accent1) 60%, white 10%)",
          "color-mix(in oklab, var(--accent3) 60%, white 10%)",
          "color-mix(in oklab, var(--accent2) 60%, white 10%)",
          "color-mix(in oklab, var(--accent1) 65%, var(--accent3) 20%)",
          "color-mix(in oklab, var(--accent2) 70%, white 15%)"
        ];
        const color = colors[idx];

        // ãƒŸãƒ‹å»ºé€ ç‰©ï¼ˆå°ã•ã‚ãƒ»ã‚·ãƒ³ãƒ—ãƒ«ï¼‰
        const building = document.createElementNS("http://www.w3.org/2000/svg","path");
        building.setAttribute("d", `M ${pt.x} ${pt.y-6} L ${pt.x+4} ${pt.y+4} L ${pt.x} ${pt.y+2} L ${pt.x-4} ${pt.y+4} Z`);
        building.setAttribute("fill", "rgba(255,255,255,.08)");
        building.setAttribute("stroke", color);
        building.setAttribute("stroke-width","1.2");
        g.appendChild(building);

        const gem = document.createElementNS("http://www.w3.org/2000/svg","circle");
        gem.setAttribute("cx", pt.x);
        gem.setAttribute("cy", pt.y-6);
        gem.setAttribute("r", 2.2);
        gem.setAttribute("fill", color);
        gem.setAttribute("stroke", "rgba(255,255,255,.30)");
        gem.setAttribute("stroke-width", "0.8");
        g.appendChild(gem);

        dom.miniBuildings.appendChild(g);
      });
    }

    function seedAscentParticles(k){
      ascent.particles = [];
      for (let i=0;i<k;i++){
        ascent.particles.push({
          x: 40 + Math.random()*240,
          y: 30 + Math.random()*170,
          r: 1.2 + Math.random()*2.1,
          a: 0.22 + Math.random()*0.35,
          ph: Math.random()*Math.PI*2
        });
      }
      drawAscentParticles(0);
    }

    function drawAscentParticles(time){
      dom.ascentParticles.innerHTML = "";
      for (const p of ascent.particles){
        const yy = p.y + Math.sin(time*0.0012 + p.ph) * 6;
        const xx = p.x + Math.cos(time*0.0010 + p.ph) * 6;
        const c = document.createElementNS("http://www.w3.org/2000/svg","circle");
        c.setAttribute("cx", xx.toFixed(2));
        c.setAttribute("cy", yy.toFixed(2));
        c.setAttribute("r", p.r.toFixed(2));
        c.setAttribute("fill", "rgba(255,255,255,.65)");
        c.setAttribute("opacity", p.a.toFixed(2));
        dom.ascentParticles.appendChild(c);
      }
    }

    function ascentAnimate(t){
      drawAscentParticles(t);
      dom.ascentHalo.setAttribute("opacity", String(0.22 + 0.06*Math.sin(t*0.003)));
      ascent.raf = requestAnimationFrame(ascentAnimate);
    }

    function updateAscent(doneCount){
      const pct = doneCount/100;
      const offset = ascent.pathLen * (1 - pct);
      dom.ascentPathProg.style.strokeDashoffset = String(offset);

      const pt = dom.ascentPathProg.getPointAtLength(ascent.pathLen * pct);
      dom.ascentHalo.setAttribute("cx", pt.x);
      dom.ascentHalo.setAttribute("cy", pt.y);
      dom.ascentDot.setAttribute("cx", pt.x);
      dom.ascentDot.setAttribute("cy", pt.y);

      dom.ascentWisp.setAttribute("transform", `translate(${(pt.x-42).toFixed(2)}, ${(pt.y-190).toFixed(2)})`);

      dom.ascentRunes.querySelectorAll("g[data-node]").forEach(g=>{
        const n = Number(g.getAttribute("data-node"));
        const on = (doneCount >= n);
        g.style.opacity = on ? "1" : ".45";
        g.style.filter = on ? "url(#softGlow)" : "none";
      });

      dom.ascentBuildings.querySelectorAll("g[data-b]").forEach(g=>{
        const m = Number(g.getAttribute("data-b"));
        const on = (doneCount >= m);
        g.style.opacity = on ? "1" : ".28";
        g.style.filter = on ? "url(#softGlow)" : "none";
      });

      let cap = "ã¾ãšã¯1å•ã€‚å…‰ãŒé“ã‚’æãå§‹ã‚ã¾ã™ã€‚";
      if (doneCount >= 10) cap = "å·¡ç¤¼è·¯ãŒè¦‹ãˆã¦ãã¾ã—ãŸã€‚";
      if (doneCount >= 20) cap = "ç¬¬1ç« åˆ°é”ã€‚è§£æãƒ†ãƒ¼ãƒãŒæ›´æ–°ã•ã‚Œã¾ã™ã€‚";
      if (doneCount >= 50) cap = "åŠåˆ†åˆ°é”ã€‚";
      if (doneCount >= 80) cap = "æ®‹ã‚Šã‚ãšã‹ã€‚";
      if (doneCount >= 100) cap = "åˆ°é”ã€‚çµæœã‚’çµ±åˆã—ã¾ã™ã€‚";
      dom.ascentCaption.textContent = cap;

      if (doneCount > ascent.lastDone){
        dom.ascentDot.classList.remove("ascentPulse");
        void dom.ascentDot.offsetWidth;
        dom.ascentDot.classList.add("ascentPulse");
        ascent.lastDone = doneCount;
        try{ navigator.vibrate?.([18]); }catch{}
      }
    }

    function updateMini(doneCount){
      const pct = doneCount/100;
      const offset = mini.pathLen * (1 - pct);
      dom.miniPathProg.style.strokeDashoffset = String(offset);
      dom.miniPct.textContent = `${Math.round(pct*100)}%`;

      const pt = dom.miniPathProg.getPointAtLength(mini.pathLen * pct);
      dom.miniHalo.setAttribute("cx", pt.x);
      dom.miniHalo.setAttribute("cy", pt.y);
      dom.miniDot.setAttribute("cx", pt.x);
      dom.miniDot.setAttribute("cy", pt.y);
      dom.miniPulse.setAttribute("cx", pt.x);
      dom.miniPulse.setAttribute("cy", pt.y);

      // å»ºé€ ç‰©ã®ç‚¹ç¯çŠ¶æ…‹ã‚’æ›´æ–°
      dom.miniBuildings.querySelectorAll("g[data-mb]").forEach(g=>{
        const m = Number(g.getAttribute("data-mb"));
        const on = (doneCount >= m);
        g.style.opacity = on ? "1" : ".28";
        g.style.filter = on ? "url(#miniGlowStrong)" : "none";
      });
    }

    function flashChapter(){
      dom.chapterFlash.classList.add("on");
      setTimeout(()=> dom.chapterFlash.classList.remove("on"), 420);
    }

    function maybeShowChapterClear(){
      const done = answeredDoneCount();

      // â˜…é€šçŸ¥æ–‡ï¼šæ¡ä»¶å¤–ã¯ç©ºæ–‡å­—ï¼ˆ=è¡¨ç¤ºã—ãªã„ï¼‰
      const notice = chapterClearNotice(done);
      if (!notice) return;

      // â˜…åŒã˜åˆ°é”ç‚¹ã§ã®å†è¡¨ç¤ºã‚’é˜²ã
      if (state.lastChapterShown >= done) return;
      state.lastChapterShown = done;
      save();

      flashChapter();

      dom.chapterModalTitle.textContent = `CHAPTER CLEARï¼ˆ${done}/100ï¼‰`;
      dom.chapterModalBody.textContent = notice;

      // 100åˆ°é”æ™‚ã ã‘ãƒœã‚¿ãƒ³æ–‡è¨€ã‚’å¤‰ãˆã‚‹ï¼ˆä»»æ„ï¼‰
      dom.btnChapterContinue.textContent = (done === 100) ? "çµæœã¸é€²ã‚€" : "æ¬¡ã®ç« ã¸";

      dom.chapterModal.style.display = "flex";
      dom.chapterModal.setAttribute("aria-hidden","false");
      try{ navigator.vibrate?.([25, 45, 25]); }catch{}
    }

    function closeChapterModal(){
      dom.chapterModal.style.display = "none";
      dom.chapterModal.setAttribute("aria-hidden","true");
      updateMeter();

      // 100ãªã‚‰çµæœã¸ï¼ˆä»»æ„ï¼‰
      if (answeredDoneCount() >= 100 && state.view === "questions"){
        setView("worry");
      }
    }

    function openMapModal(){
      dom.mapModal.style.display = "flex";
      dom.mapModal.setAttribute("aria-hidden","false");
      updateMeter();
    }
    function closeMapModal(){
      dom.mapModal.style.display = "none";
      dom.mapModal.setAttribute("aria-hidden","true");
    }

    function hideAllViews(){
      dom.viewHero.hidden=true;
      dom.viewProfile.hidden=true;
      dom.viewQuestions.hidden=true;
      dom.viewWorry.hidden=true;
      dom.viewResult.hidden=true;
    }

    function renderProfile(){
      dom.name.value = state.profile.name || "";
      dom.gender.value = state.profile.gender || "";
      dom.birthday.value = state.profile.birthday || "";
      dom.userId.value = state.userId || "";
    }

    function renderQuestion(){
      const i = state.currentIndex;
      const q = QUESTIONS[i];
      dom.qText.textContent = q.text;
      dom.qTagChip.textContent = q.tag; // è¡¨ç¤ºã¯CSSã§éè¡¨ç¤º
      dom.qIndexChip.textContent = `Q ${i+1} / 100`;

      const done = answeredDoneCount();
      dom.doneCountText.textContent = String(done);

      const current = Number.isInteger(state.answers[i]) ? state.answers[i] : 4;
      dom.range.value = String(current);
      renderTicks(current);
      applyRangePaint(current);

      dom.btnPrevQ.disabled = (i===0);
      dom.btnNextQ.textContent = (i===99) ? "æ¬¡ã¸ï¼ˆæ‚©ã¿å…¥åŠ›ï¼‰" : "æ¬¡ã¸";
    }

    function updateWorryCount(){
      const len = dom.worryText.value.length;
      dom.worryCount.textContent = `${len} / 2000`;
    }

    function renderWorry(){
      dom.worryText.value = state.worryText || "";
      updateWorryCount();
    }

    // GPTã®å‡ºåŠ›ã‚’æ­£è¦åŒ–ã™ã‚‹é–¢æ•°
    function normalizeGPTResponse(data) {
      console.log("ğŸ”„ GPTå‡ºåŠ›ã‚’æ­£è¦åŒ–é–‹å§‹:", data);
      
      // ã™ã§ã«æ­£è¦åŒ–ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ãã®ã¾ã¾è¿”ã™
      if (data.section2?.items2a) {
        console.log("âœ… ã™ã§ã«æ­£è¦åŒ–æ¸ˆã¿");
        return data;
      }
      
      const normalized = JSON.parse(JSON.stringify(data)); // ãƒ‡ã‚£ãƒ¼ãƒ—ã‚³ãƒ”ãƒ¼
      
      // section2ã®æ­£è¦åŒ–
      if (normalized.section2?.items && Array.isArray(normalized.section2.items)) {
        const items = normalized.section2.items;
        console.log("ğŸ“Š section2.items ã‚’åˆ†å‰²:", items.length, "é …ç›®");
        normalized.section2.items2a = items.slice(0, 6);
        normalized.section2.items2b = items.slice(6, 12);
        normalized.section2.items2c = items.slice(12, 18);
        normalized.section2.items2d = items.slice(18, 24);
      }
      
      // section3ã®æ­£è¦åŒ–
      if (normalized.section3?.items && Array.isArray(normalized.section3.items)) {
        const items = normalized.section3.items;
        console.log("ğŸ“Š section3.items ã‚’åˆ†å‰²:", items.length, "é …ç›®");
        normalized.section3.items3a = items.slice(0, 6);
        normalized.section3.items3b = items.slice(6, 12);
        normalized.section3.items3c = items.slice(12, 18);
        normalized.section3.items3d = items.slice(18, 24);
      }
      
      // section4ã®æ­£è¦åŒ–
      if (normalized.section4?.items && Array.isArray(normalized.section4.items)) {
        const items = normalized.section4.items;
        console.log("ğŸ“Š section4.items ã‚’åˆ†å‰²:", items.length, "é …ç›®");
        normalized.section4.items4a = items.slice(0, 6);
        normalized.section4.items4b = items.slice(6, 12);
        normalized.section4.items4c = items.slice(12, 18);
      }
      
      console.log("âœ… æ­£è¦åŒ–å®Œäº†:", normalized);
      return normalized;
    }

    function renderResult(){
      // ã¾ãšãƒ­ãƒ¼ã‚«ãƒ«è¨ˆç®—ã®çµæœã‚’è¡¨ç¤ºã€ãã®å¾ŒMakeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§ä¸Šæ›¸ã
      let payload;
      
      // Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒã‚ã‚Œã°ãã‚Œã‚’å„ªå…ˆ
      if (state.makeResponse) {
        console.log("âœ… Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ä½¿ç”¨:", state.makeResponse);
        // GPTå‡ºåŠ›ã‚’æ­£è¦åŒ–
        payload = normalizeGPTResponse(state.makeResponse);
      } else {
        // ãªã‘ã‚Œã°ãƒ­ãƒ¼ã‚«ãƒ«ã§è¨ˆç®—
        console.log("âš ï¸ ãƒ­ãƒ¼ã‚«ãƒ«ãƒ‡ãƒ¼ã‚¿ã§è¡¨ç¤ºã—ã¾ã™");
        try{ 
          payload = buildPayload(); 
          state.lastPayload = payload; 
          save(); 
        }
        catch(e){
          alert("çµæœè¡¨ç¤ºå‰ã®ãƒã‚§ãƒƒã‚¯ã«å¤±æ•—ã—ã¾ã—ãŸï¼š " + (e?.message || e));
          return;
        }
      }

      console.log("ğŸ“¦ ä½¿ç”¨ã™ã‚‹payload:", payload);
      console.log("ğŸ” payload['17type']:", payload["17type"]);
      console.log("ğŸ” payload.typeCode:", payload.typeCode);

      const code = payload["17type"] || payload.typeCode;
      console.log("ğŸ¯ æ±ºå®šã•ã‚ŒãŸtypeCode:", code);
      
      const title = TYPE_TITLES[code] || "ï¼ˆæœªå®šç¾©ï¼‰";
      console.log("ğŸ“ ã‚¿ã‚¤ãƒˆãƒ«:", title);
      
      const detail = TYPE_DETAILS[code] || {};
      console.log("ğŸ“– è©³ç´°æƒ…å ±:", detail);

      // ã‚ãªãŸã®ã‚¿ã‚¤ãƒ—è¡¨ç¤º
      const yourTypeCodeEl = document.getElementById("yourTypeCode");
      const yourTypeTitleEl = document.getElementById("yourTypeTitle");
      const yourTypeIntroEl = document.getElementById("yourTypeIntro");
      
      console.log("ğŸ¨ DOMè¦ç´ :", {
        yourTypeCodeEl: !!yourTypeCodeEl,
        yourTypeTitleEl: !!yourTypeTitleEl,
        yourTypeIntroEl: !!yourTypeIntroEl
      });
      
      if (yourTypeCodeEl) yourTypeCodeEl.textContent = code || "ä¸æ˜";
      if (yourTypeTitleEl) yourTypeTitleEl.textContent = title;
      if (yourTypeIntroEl) yourTypeIntroEl.textContent = detail.intro || "";
      
      // ã‚¿ã‚¤ãƒ—ç”»åƒã®è¨­å®š
      const typeImageContainer = document.getElementById("typeImageContainer");
      const typeImage = document.getElementById("typeImage");
      const gender = state.profile.gender || "other";
      
      // ã‚¿ã‚¤ãƒ—ç”»åƒã®è¨­å®šï¼ˆã‚°ãƒ­ãƒ¼ãƒãƒ«TYPE_IMAGESã‚’ä½¿ç”¨ï¼‰
      
      if (TYPE_IMAGES[code]) {
        let imagePath = "";
        if (gender === "other" && Array.isArray(TYPE_IMAGES[code].other)) {
          // ãã®ä»–ã®å ´åˆã¯ãƒ©ãƒ³ãƒ€ãƒ ã«é¸æŠ
          const randomIndex = Math.floor(Math.random() * TYPE_IMAGES[code].other.length);
          imagePath = TYPE_IMAGES[code].other[randomIndex];
        } else {
          imagePath = TYPE_IMAGES[code][gender] || TYPE_IMAGES[code].other[0];
        }
        
        if (imagePath) {
          typeImage.src = imagePath;
          typeImage.alt = `${code} ${title}`;
          typeImageContainer.style.display = "block";
          console.log(`ğŸ–¼ï¸ ã‚¿ã‚¤ãƒ—ç”»åƒã‚’è¨­å®š: ${imagePath}`);
        }
      } else {
        // ç”»åƒãŒãªã„ã‚¿ã‚¤ãƒ—ã®å ´åˆã¯éè¡¨ç¤º
        typeImageContainer.style.display = "none";
        console.log(`â„¹ï¸ ${code}ã®ç”»åƒã¯è¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“`);
      }

      // Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒã‚ã‚‹å ´åˆã®ã¿è©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡¨ç¤º
      const hasMakeResponse = !!state.makeResponse;

      // 1. äººæ ¼ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
      if (hasMakeResponse && payload.section1?.content) {
        document.getElementById("section1Content").textContent = payload.section1.content;
      } else {
        document.getElementById("section1Content").textContent = "Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...";
      }

      // 2. è·èƒ½ãƒ«ãƒ¼ãƒˆè§£æ
      if (hasMakeResponse && payload.section2?.content) {
        document.getElementById("section2Content").textContent = payload.section2.content;
      } else {
        document.getElementById("section2Content").textContent = "Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...";
      }
      
      renderCharts("charts2", payload.section2?.charts || [
        {title:"ç²¾åº¦è‡³ä¸Šä¸»ç¾©", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."},
        {title:"åˆ°é”ç›®æ¨™ã®é«˜è¨­å®š", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."},
        {title:"è¡Œå‹•ã‚¨ãƒãƒ«ã‚®ãƒ¼", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."},
        {title:"ä¸»å°æ¨©å¿—å‘", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."}
      ]);
      renderItems("items2a", payload.section2?.items2a || generatePlaceholderItems(6));
      renderItems("items2b", payload.section2?.items2b || generatePlaceholderItems(6));
      renderItems("items2c", payload.section2?.items2c || generatePlaceholderItems(6));
      renderItems("items2d", payload.section2?.items2d || generatePlaceholderItems(6));

      // 3. è‡ªå·±é€²åŒ–ãƒ—ãƒ©ãƒ³
      if (hasMakeResponse && payload.section3?.content) {
        document.getElementById("section3Content").textContent = payload.section3.content;
      } else {
        document.getElementById("section3Content").textContent = "Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...";
      }
      
      renderCharts("charts3", payload.section3?.charts || [
        {title:"å†èµ·å‹•åŠ›", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."},
        {title:"è‡ªå·±ç¢ºä¿¡", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."},
        {title:"ç²˜ã‚Šå¼·ã•", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."},
        {title:"ä¸»å°æ„Ÿ", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."}
      ]);
      renderItems("items3a", payload.section3?.items3a || generatePlaceholderItems(6));
      renderItems("items3b", payload.section3?.items3b || generatePlaceholderItems(6));
      renderItems("items3c", payload.section3?.items3c || generatePlaceholderItems(6));
      renderItems("items3d", payload.section3?.items3d || generatePlaceholderItems(6));

      // 4. å¯¾äººãƒ€ã‚¤ãƒŠãƒŸã‚¯ã‚¹è§£æ
      if (hasMakeResponse && payload.section4?.content) {
        document.getElementById("section4Content").textContent = payload.section4.content;
      } else {
        document.getElementById("section4Content").textContent = "Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...";
      }
      
      renderCharts("charts4", payload.section4?.charts || [
        {title:"è‡ªå·±åŒä¸€æ€§", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."},
        {title:"çŒ®èº«æ€§", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."},
        {title:"ä»–è€…å„ªå…ˆæ€§", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."},
        {title:"æƒ…å‹•ç†è§£åŠ›", value:0, desc:"Make.comã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­..."}
      ]);
      renderItems("items4a", payload.section4?.items4a || generatePlaceholderItems(6));
      renderItems("items4b", payload.section4?.items4b || generatePlaceholderItems(6));
      renderItems("items4c", payload.section4?.items4c || generatePlaceholderItems(6));

      // JSONè¡¨ç¤º
      dom.jsonPreview.textContent = safeJson(payload);

      // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã‚’æç”»
      if (payload.scores) {
        console.log("ğŸ“Š ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆç”¨ã‚¹ã‚³ã‚¢:", payload.scores);
        drawRadarChart(payload.scores);
      } else {
        console.warn("âš ï¸ payload.scoresãŒå­˜åœ¨ã—ã¾ã›ã‚“");
      }

      // å…¨17ã‚¿ã‚¤ãƒ—ä¸€è¦§ã‚’ç”Ÿæˆ
      render17TypesGrid(code);
    }

    function render17TypesGrid(currentCode){
      const allTypesGrid = document.getElementById("allTypesGrid");
      if(!allTypesGrid) return;
      allTypesGrid.innerHTML = "";
      
      const allTypes = ["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP","BAL"];
      
      allTypes.forEach(typeCode => {
        const isYourType = (typeCode === currentCode);
        const typeTitle = TYPE_TITLES[typeCode] || "";
        const typeDesc = TYPE_DESCRIPTIONS[typeCode] || "";
        
        const card = document.createElement("div");
        card.className = "itemCard";
        card.style.cssText = `
          cursor: pointer;
          transition: all .2s ease;
          border-color: ${isYourType ? 'rgba(124,77,255,.40)' : 'rgba(255,255,255,.10)'};
          background: ${isYourType ? 'rgba(124,77,255,.08)' : 'rgba(255,255,255,.02)'};
        `;
        
        card.addEventListener('mouseenter', () => {
          card.style.borderColor = 'rgba(255,255,255,.25)';
          card.style.transform = 'translateY(-2px)';
        });
        card.addEventListener('mouseleave', () => {
          card.style.borderColor = isYourType ? 'rgba(124,77,255,.40)' : 'rgba(255,255,255,.10)';
          card.style.transform = 'translateY(0)';
        });
        
        // ç”»åƒãŒã‚ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
        const hasImage = TYPE_IMAGES[typeCode];
        let imageHTML = "";
        if (hasImage) {
          // ç”·æ€§ç”»åƒã‚’ä»£è¡¨ç”»åƒã¨ã—ã¦ä½¿ç”¨ï¼ˆmaleç”»åƒãŒãªã„å ´åˆã¯femaleã‚’ä½¿ç”¨ï¼‰
          const imagePath = hasImage.male || hasImage.female || hasImage.other[0];
          imageHTML = `
            <div style="width: 100%; aspect-ratio: 1; overflow: hidden; border-radius: 10px; margin-bottom: 10px; background: rgba(0,0,0,.3);">
              <img src="${imagePath}" alt="${typeCode}" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
          `;
        }
        
        card.innerHTML = `
          ${imageHTML}
          <div style="font-size: 14px; font-weight: 700; margin-bottom: 6px; ${isYourType ? 'color: var(--accent1);' : ''}">${typeCode}${isYourType ? ' â˜…' : ''}</div>
          <div style="font-size: 13px; font-weight: 600; margin-bottom: 6px; line-height: 1.3;">${typeTitle}</div>
          <div style="font-size: 11.5px; line-height: 1.6; opacity: .75;">${typeDesc}</div>
        `;
        
        allTypesGrid.appendChild(card);
      });
    }

    function generatePlaceholderItems(count){
      const items = [];
      for(let i=0; i<count; i++){
        items.push({title:"ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ä¸­...", desc:"Make.comã‹ã‚‰è©³ç´°ãªåˆ†æçµæœã‚’å—ä¿¡ã—ã¦ã„ã¾ã™ã€‚ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚"});
      }
      return items;
    }

    function renderCharts(containerId, charts){
      console.log(`ğŸ“Š renderChartså‘¼ã³å‡ºã—: ${containerId}`, charts);
      const container = document.getElementById(containerId);
      if(!container) {
        console.error(`âŒ ã‚³ãƒ³ãƒ†ãƒŠãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: ${containerId}`);
        return;
      }
      
      console.log(`ğŸ“¦ ã‚³ãƒ³ãƒ†ãƒŠæƒ…å ±:`, {
        id: containerId,
        display: window.getComputedStyle(container).display,
        visibility: window.getComputedStyle(container).visibility,
        width: container.offsetWidth,
        height: container.offsetHeight
      });
      
      container.innerHTML = "";
      
      if (!Array.isArray(charts)) {
        console.error("âŒ charts ãŒé…åˆ—ã§ã¯ã‚ã‚Šã¾ã›ã‚“:", charts);
        return;
      }
      
      charts.forEach((chart, index) => {
        console.log(`  ğŸ“ˆ Chart ${index + 1}:`, chart);
        const item = document.createElement("div");
        item.className = "chartItem";
        
        const titleDiv = document.createElement("div");
        titleDiv.className = "chartTitle";
        titleDiv.textContent = chart.title || 'ä¸æ˜';
        item.appendChild(titleDiv);
        
        const canvas = document.createElement("canvas");
        canvas.className = "chartCanvas";
        // Canvaså†…éƒ¨è§£åƒåº¦ã‚’è¨­å®šï¼ˆé‡è¦ï¼ï¼‰
        canvas.width = 200;
        canvas.height = 200;
        item.appendChild(canvas);
        
        const descDiv = document.createElement("div");
        descDiv.className = "chartDesc";
        descDiv.textContent = chart.desc || "";
        item.appendChild(descDiv);
        
        container.appendChild(item);
        
        // DOMã«è¿½åŠ ã•ã‚ŒãŸå¾Œã®Canvasæƒ…å ±ã‚’ç¢ºèª
        console.log(`  ğŸ“ Canvasè¿½åŠ å¾Œã®æƒ…å ±:`, {
          width: canvas.width,
          height: canvas.height,
          offsetWidth: canvas.offsetWidth,
          offsetHeight: canvas.offsetHeight,
          display: window.getComputedStyle(canvas).display
        });
        
        // å††ã‚°ãƒ©ãƒ•ã‚’æç”»
        const value = chart.value || 0;
        console.log(`  ğŸ¨ å††ã‚°ãƒ©ãƒ•æç”»: ${chart.title}, value=${value}`);
        drawPieChart(canvas, value, chart.title);
      });
      
      console.log(`âœ… renderChartså®Œäº†: ${containerId}, ${charts.length}å€‹ã®ã‚°ãƒ©ãƒ•`);
      console.log(`ğŸ“¦ æœ€çµ‚çš„ãªã‚³ãƒ³ãƒ†ãƒŠã®å­è¦ç´ æ•°:`, container.children.length);
    }

    function renderItems(containerId, items){
      console.log(`ğŸ“ renderItemså‘¼ã³å‡ºã—: ${containerId}`, items);
      const container = document.getElementById(containerId);
      if(!container) {
        console.error(`âŒ ã‚³ãƒ³ãƒ†ãƒŠãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: ${containerId}`);
        return;
      }
      container.innerHTML = "";
      
      if (!Array.isArray(items)) {
        console.error("âŒ items ãŒé…åˆ—ã§ã¯ã‚ã‚Šã¾ã›ã‚“:", items);
        return;
      }
      
      items.forEach((item, index) => {
        console.log(`  ğŸ“„ Item ${index + 1}:`, item);
        const card = document.createElement("div");
        card.className = "itemCard";
        card.innerHTML = `
          <div class="itemTitle">${item.title || 'ä¸æ˜'}</div>
          <div class="itemDesc">${item.desc || ''}</div>
        `;
        container.appendChild(card);
      });
      
      console.log(`âœ… renderItemså®Œäº†: ${containerId}, ${items.length}å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ `);
    }

    function drawPieChart(canvas, value, label){
      console.log(`ğŸ¨ drawPieCharté–‹å§‹: label=${label}, value=${value}`);
      console.log(`  Canvas size: ${canvas.width}x${canvas.height}`);
      
      const ctx = canvas.getContext("2d");
      if (!ctx) {
        console.error("âŒ Canvas contextå–å¾—å¤±æ•—");
        return;
      }
      
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      const radius = Math.min(centerX, centerY) - 20;
      
      console.log(`  ä¸­å¿ƒ: (${centerX}, ${centerY}), åŠå¾„: ${radius}`);
      
      // å¤–å´ã®ã‚°ãƒ­ãƒ¼åŠ¹æœ
      ctx.shadowColor = "rgba(124,77,255,0.6)";
      ctx.shadowBlur = 25;
      
      // èƒŒæ™¯å††ï¼ˆãƒ€ãƒ¼ã‚¯ãƒˆãƒ¼ãƒ³ï¼‰
      ctx.beginPath();
      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
      ctx.fillStyle = "rgba(15,15,35,.6)";
      ctx.fill();
      
      // èƒŒæ™¯å††ã®ç¸å–ã‚Š
      ctx.strokeStyle = "rgba(124,77,255,.3)";
      ctx.lineWidth = 3;
      ctx.stroke();
      
      // ã‚°ãƒ­ãƒ¼åŠ¹æœã‚’ãƒªã‚»ãƒƒãƒˆ
      ctx.shadowBlur = 0;
      
      // å€¤ã®å††ï¼ˆ0-100%ï¼‰
      const percentage = Math.min(Math.max(value, 0), 100) / 100;
      const endAngle = -Math.PI / 2 + (2 * Math.PI * percentage);
      
      console.log(`  ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸: ${percentage * 100}%, çµ‚äº†è§’åº¦: ${endAngle}`);
      
      // ãƒ¡ã‚¤ãƒ³ã®å††ã‚°ãƒ©ãƒ•ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
      ctx.beginPath();
      ctx.moveTo(centerX, centerY);
      ctx.arc(centerX, centerY, radius, -Math.PI / 2, endAngle);
      ctx.closePath();
      
      // æ”¾å°„çŠ¶ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
      const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius);
      gradient.addColorStop(0, "rgba(124,77,255,.95)");
      gradient.addColorStop(0.5, "rgba(95,144,255,.85)");
      gradient.addColorStop(1, "rgba(67,211,255,.75)");
      
      ctx.fillStyle = gradient;
      ctx.shadowColor = "rgba(67,211,255,0.8)";
      ctx.shadowBlur = 20;
      ctx.fill();
      
      // ç¸å–ã‚Šã®ã‚°ãƒ­ãƒ¼
      ctx.strokeStyle = "rgba(255,255,255,.4)";
      ctx.lineWidth = 2;
      ctx.shadowColor = "rgba(124,77,255,1)";
      ctx.shadowBlur = 15;
      ctx.stroke();
      
      // ã‚°ãƒ­ãƒ¼åŠ¹æœã‚’ãƒªã‚»ãƒƒãƒˆ
      ctx.shadowBlur = 0;
      
      // ä¸­å¿ƒã®å††ï¼ˆè£…é£¾ï¼‰
      const innerRadius = radius * 0.35;
      ctx.beginPath();
      ctx.arc(centerX, centerY, innerRadius, 0, 2 * Math.PI);
      ctx.fillStyle = "rgba(10,10,25,.8)";
      ctx.fill();
      
      // ä¸­å¿ƒå††ã®ç¸å–ã‚Šï¼ˆã‚°ãƒ­ãƒ¼åŠ¹æœã‚’å¼·åŒ–ï¼‰
      ctx.strokeStyle = "rgba(124,77,255,.8)";
      ctx.lineWidth = 3;
      ctx.shadowColor = "rgba(67,211,255,1)";
      ctx.shadowBlur = 15;
      ctx.stroke();
      
      // æ•°å€¤ã¯è¡¨ç¤ºã—ãªã„ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¾“ã†ï¼‰
      
      console.log(`âœ… drawPieChartå®Œäº†: ${label}`);
    }

    // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆæç”»é–¢æ•°
    function drawRadarChart(scores) {
      console.log("ğŸ“Š ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆæç”»é–‹å§‹", scores);
      
      const svg = document.getElementById("radarChart");
      if (!svg) {
        console.error("âŒ radarChartè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“");
        return;
      }
      
      svg.innerHTML = ""; // ã‚¯ãƒªã‚¢
      
      const centerX = 200;
      const centerY = 200;
      const maxRadius = 150;
      const levels = 5;
      
      // scoresã‹ã‚‰ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆç”¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ
      // E, S, T, J ã®ã‚¹ã‚³ã‚¢ã‚’ 0-100 ã®ç¯„å›²ã«æ­£è¦åŒ–
      const axes = [
        { name: "å¤–å‘æ€§", value: ((scores.E || 0) + 100) / 2, angle: -90 },
        { name: "ç›´æ„ŸåŠ›", value: (100 - ((scores.S || 0) + 100) / 2), angle: -18 },
        { name: "è«–ç†æ€§", value: ((scores.T || 0) + 100) / 2, angle: 54 },
        { name: "è¨ˆç”»æ€§", value: ((scores.J || 0) + 100) / 2, angle: 126 },
        { name: "å…±æ„ŸåŠ›", value: (100 - ((scores.T || 0) + 100) / 2), angle: 198 }
      ];
      
      console.log("  è»¸ãƒ‡ãƒ¼ã‚¿:", axes);
      
      // èƒŒæ™¯ã‚°ãƒªãƒƒãƒ‰ï¼ˆ5æ®µéšã®åŒå¿ƒå††ï¼‰
      for (let i = levels; i > 0; i--) {
        const radius = (maxRadius / levels) * i;
        const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        circle.setAttribute("cx", centerX);
        circle.setAttribute("cy", centerY);
        circle.setAttribute("r", radius);
        circle.setAttribute("fill", "none");
        circle.setAttribute("stroke", "rgba(124,77,255,0.2)");
        circle.setAttribute("stroke-width", "1");
        svg.appendChild(circle);
      }
      
      // è»¸ç·š
      axes.forEach(axis => {
        const angleRad = (axis.angle * Math.PI) / 180;
        const x = centerX + maxRadius * Math.cos(angleRad);
        const y = centerY + maxRadius * Math.sin(angleRad);
        
        const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
        line.setAttribute("x1", centerX);
        line.setAttribute("y1", centerY);
        line.setAttribute("x2", x);
        line.setAttribute("y2", y);
        line.setAttribute("stroke", "rgba(67,211,255,0.3)");
        line.setAttribute("stroke-width", "1.5");
        svg.appendChild(line);
      });
      
      // ãƒ‡ãƒ¼ã‚¿ãƒãƒªã‚´ãƒ³ï¼ˆå¡—ã‚Šã¤ã¶ã—ï¼‰
      const points = axes.map(axis => {
        const angleRad = (axis.angle * Math.PI) / 180;
        const radius = (axis.value / 100) * maxRadius;
        const x = centerX + radius * Math.cos(angleRad);
        const y = centerY + radius * Math.sin(angleRad);
        return `${x},${y}`;
      }).join(" ");
      
      const polygon = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
      polygon.setAttribute("points", points);
      polygon.setAttribute("fill", "rgba(124,77,255,0.3)");
      polygon.setAttribute("stroke", "rgba(67,211,255,0.8)");
      polygon.setAttribute("stroke-width", "3");
      polygon.setAttribute("filter", "drop-shadow(0 0 10px rgba(124,77,255,0.8))");
      svg.appendChild(polygon);
      
      // ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ
      axes.forEach(axis => {
        const angleRad = (axis.angle * Math.PI) / 180;
        const radius = (axis.value / 100) * maxRadius;
        const x = centerX + radius * Math.cos(angleRad);
        const y = centerY + radius * Math.sin(angleRad);
        
        const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        circle.setAttribute("cx", x);
        circle.setAttribute("cy", y);
        circle.setAttribute("r", "6");
        circle.setAttribute("fill", "rgba(67,211,255,1)");
        circle.setAttribute("stroke", "rgba(255,255,255,0.8)");
        circle.setAttribute("stroke-width", "2");
        circle.setAttribute("filter", "drop-shadow(0 0 8px rgba(67,211,255,1))");
        svg.appendChild(circle);
      });
      
      // è»¸ãƒ©ãƒ™ãƒ«ï¼ˆæ•°å€¤ãªã—ã€ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºå¤§ããï¼‰
      axes.forEach(axis => {
        const angleRad = (axis.angle * Math.PI) / 180;
        const labelRadius = maxRadius + 40; // ãƒ©ãƒ™ãƒ«ä½ç½®ã‚’å°‘ã—å¤–å´ã«
        const x = centerX + labelRadius * Math.cos(angleRad);
        const y = centerY + labelRadius * Math.sin(angleRad);
        
        const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
        text.setAttribute("x", x);
        text.setAttribute("y", y);
        text.setAttribute("text-anchor", "middle");
        text.setAttribute("dominant-baseline", "middle");
        text.setAttribute("fill", "rgba(255,255,255,0.95)");
        text.setAttribute("font-size", "18"); // ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å¤§ãã
        text.setAttribute("font-weight", "700"); // ã‚ˆã‚Šå¤ªã
        text.setAttribute("letter-spacing", "0.05em"); // æ–‡å­—é–“éš”ã‚’åºƒã
        text.setAttribute("filter", "drop-shadow(0 0 8px rgba(124,77,255,1)) drop-shadow(0 0 16px rgba(67,211,255,0.8))");
        text.textContent = axis.name; // æ•°å€¤ã‚’å‰Šé™¤
        svg.appendChild(text);
      });
      
      console.log("âœ… ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆæç”»å®Œäº†");
    }

    function setBodyMode(){
      const inQuestions = (state.view==="questions");
      document.body.classList.toggle("isQuestions", inQuestions);
      recalcLayoutVars();
    }

    function recalcLayoutVars(){
      const headerH = dom.topbar?.offsetHeight || 110;
      const bottomH = (dom.bottomNav?.style.display !== "none") ? (dom.bottomNav?.offsetHeight || 86) : 0;
      document.documentElement.style.setProperty("--headerH", headerH + "px");
      document.documentElement.style.setProperty("--bottomH", bottomH + "px");
    }

    function renderAll(){
      hideAllViews();

      const inQuestions = (state.view==="questions");
      dom.bottomNav.style.display = inQuestions ? "block" : "none";
      dom.miniMapBtn.style.display = inQuestions ? "block" : "none";

      if (state.view==="hero"){ dom.viewHero.hidden=false; }
      if (state.view==="profile"){ dom.viewProfile.hidden=false; renderProfile(); }
      if (state.view==="questions"){ dom.viewQuestions.hidden=false; renderQuestion(); }
      if (state.view==="worry"){ dom.viewWorry.hidden=false; renderWorry(); }
      if (state.view==="result"){ dom.viewResult.hidden=false; renderResult(); }

      setBodyMode();
      updateMeter();

      requestAnimationFrame(recalcLayoutVars);
    }

    dom.btnStart.addEventListener("click", ()=> setView("profile"));
    dom.btnResetAll.addEventListener("click", clearAll);
    dom.btnBackToHero.addEventListener("click", ()=> setView("hero"));

    dom.btnToQuestions.addEventListener("click", ()=>{
      if (!validateProfile()) return;
      syncProfileFromInputs();
      setView("questions");
    });

    dom.name.addEventListener("input", syncProfileFromInputs);
    dom.gender.addEventListener("change", syncProfileFromInputs);
    dom.birthday.addEventListener("change", syncProfileFromInputs);
    dom.userId.addEventListener("input", syncProfileFromInputs);

    dom.btnResetFromQuestions.addEventListener("click", clearAll);
    dom.btnResetFromResult.addEventListener("click", clearAll);

    dom.btnJumpProfile.addEventListener("click", ()=> setView("profile"));

    dom.range.addEventListener("input", ()=>{
      const v = clamp(Number(dom.range.value),1,7);
      setAnswerValue(v, true);
    });

    dom.btnPrevQ.addEventListener("click", ()=>{
      if (state.currentIndex>0){
        state.currentIndex--;
        save();
        renderQuestion();
        updateMeter();
      }
    });

    dom.btnNextQ.addEventListener("click", ()=>{
      const i = state.currentIndex;
      state.done[i] = true;

      if (i === 99){
        save(); updateMeter(); maybeShowChapterClear();
        setView("worry");
        return;
      }
      state.currentIndex++;
      save();
      renderQuestion();
      updateMeter();
      maybeShowChapterClear();
    });

    dom.btnChapterContinue.addEventListener("click", closeChapterModal);
    dom.chapterModal.addEventListener("click", (e)=>{ if (e.target===dom.chapterModal) closeChapterModal(); });

    // ãƒŸãƒ‹ãƒãƒƒãƒ—ï¼šã‚¯ãƒªãƒƒã‚¯ã¨ã‚¿ãƒƒãƒã®ä¸¡æ–¹ã«å¯¾å¿œ
    dom.miniMapBtn.addEventListener("click", (e)=>{
      e.preventDefault();
      e.stopPropagation();
      openMapModal();
    });
    dom.miniMapBtn.addEventListener("touchend", (e)=>{
      e.preventDefault();
      e.stopPropagation();
      openMapModal();
    }, { passive: false });
    
    dom.btnCloseMap.addEventListener("click", closeMapModal);
    dom.mapModal.addEventListener("click", (e)=>{ if (e.target===dom.mapModal) closeMapModal(); });

    dom.worryText.addEventListener("input", ()=>{
      state.worryText = dom.worryText.value.slice(0,2000);
      updateWorryCount();
      save();
    });

    dom.btnShowResult.addEventListener("click", async ()=> {
      console.log("ğŸš€ çµæœã‚’è¦‹ã‚‹ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ");
      console.log("ğŸ“Š ç¾åœ¨ã®state:", {
        view: state.view,
        answersLength: state.answers.length,
        profileName: state.profile.name
      });
      
      // ã¾ãšçµæœç”»é¢ã‚’è¡¨ç¤ºï¼ˆãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼è¡¨ç¤ºï¼‰
      console.log("ğŸ¯ setView('result')ã‚’å®Ÿè¡Œ");
      setView("result");
      console.log("âœ… ç”»é¢é·ç§»å®Œäº†");
      
      // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
      dom.btnShowResult.disabled = true;
      dom.btnShowResult.textContent = "é€ä¿¡ä¸­...";
      
      try {
        // Make.comã«é€ä¿¡
        console.log("ğŸŒ submitToMakeAndGetResult()ã‚’å‘¼ã³å‡ºã—ã¾ã™");
        const result = await submitToMakeAndGetResult();
        console.log("âœ… submitToMakeAndGetResult()ãŒå®Œäº†:", result);
        
        if (result.success) {
          console.log("âœ… Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹å—ä¿¡æˆåŠŸ");
          // Makeã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ä¿å­˜
          state.makeResponse = result.data;
          save();
          
          // çµæœç”»é¢ã‚’å†æç”»
          console.log("ğŸ¨ renderResult()ã‚’å‘¼ã³å‡ºã—ã¾ã™ï¼ˆMakeãƒ¬ã‚¹ãƒãƒ³ã‚¹ä½¿ç”¨ï¼‰");
          renderResult();
        } else {
          console.error("âŒ Makeãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¨ãƒ©ãƒ¼:", result.error);
          alert("è¨ºæ–­çµæœã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸï¼š\n" + result.error);
          // ã‚¨ãƒ©ãƒ¼ã§ã‚‚çµæœã¯è¡¨ç¤ºï¼ˆãƒ­ãƒ¼ã‚«ãƒ«è¨ˆç®—ï¼‰
          console.log("ğŸ¨ renderResult()ã‚’å‘¼ã³å‡ºã—ã¾ã™ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«è¨ˆç®—ä½¿ç”¨ï¼‰");
          renderResult();
        }
      } catch(e) {
        console.error("âŒ é€ä¿¡ã‚¨ãƒ©ãƒ¼:", e);
        console.error("âŒ ã‚¨ãƒ©ãƒ¼è©³ç´°:", {
          message: e?.message,
          stack: e?.stack
        });
        alert("è¨ºæ–­çµæœã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸï¼š\n" + (e?.message || e));
        // ã‚¨ãƒ©ãƒ¼ã§ã‚‚çµæœã¯è¡¨ç¤ºï¼ˆãƒ­ãƒ¼ã‚«ãƒ«è¨ˆç®—ï¼‰
        console.log("ğŸ¨ renderResult()ã‚’å‘¼ã³å‡ºã—ã¾ã™ï¼ˆã‚¨ãƒ©ãƒ¼å¾Œã€ãƒ­ãƒ¼ã‚«ãƒ«è¨ˆç®—ä½¿ç”¨ï¼‰");
        renderResult();
      } finally {
        // ãƒœã‚¿ãƒ³ã‚’å…ƒã«æˆ»ã™
        dom.btnShowResult.disabled = false;
        dom.btnShowResult.textContent = "çµæœã‚’è¦‹ã‚‹";
        console.log("ğŸ ãƒœã‚¿ãƒ³å‡¦ç†å®Œäº†");
      }
    });

    dom.btnCopyJson.addEventListener("click", async ()=>{
      const payload = state.makeResponse || state.lastPayload;
      if (!payload){
        dom.resultToast.className="toast bad";
        dom.resultToast.textContent="çµæœãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“";
        dom.resultToast.style.display="block";
        setTimeout(()=> dom.resultToast.style.display="none", 3000);
        return;
      }
      const ok = await copyToClipboard(safeJson(payload));
      dom.resultToast.className = "toast " + (ok ? "ok" : "bad");
      dom.resultToast.textContent = ok ? "JSONã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ" : "ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ";
      dom.resultToast.style.display="block";
      setTimeout(()=> dom.resultToast.style.display="none", 3000);
    });

    dom.btnDownloadJson.addEventListener("click", ()=>{
      const payload = state.makeResponse || state.lastPayload;
      if (!payload){
        dom.resultToast.className="toast bad";
        dom.resultToast.textContent="çµæœãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“";
        dom.resultToast.style.display="block";
        setTimeout(()=> dom.resultToast.style.display="none", 3000);
        return;
      }
      downloadText("fortuneai_result.json", safeJson(payload));
      dom.resultToast.className="toast ok";
      dom.resultToast.textContent="JSONã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸ";
      dom.resultToast.style.display="block";
      setTimeout(()=> dom.resultToast.style.display="none", 3000);
    });

    window.addEventListener("resize", ()=>{ recalcLayoutVars(); });

    /***********************
     * Boot
     ***********************/
    (function init(){
      const q = parseQuery();
      if (q.userId) state.userId = q.userId;

      const restored = load();
      if (restored){
        if (q.userId) state.userId = q.userId;
        dom.profileRestoreNote.style.display="block";
        setTimeout(()=> dom.profileRestoreNote.style.display="none", 2500);
      }

      initAscent();
      renderAll();
      recalcLayoutVars();
      requestAnimationFrame(recalcLayoutVars);
    })();
  </script>
</body>
</html>
